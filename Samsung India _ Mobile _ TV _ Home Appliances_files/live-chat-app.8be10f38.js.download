((self||this)["webpackJsonp@sprinklr/chat-web-client"]=(self||this)["webpackJsonp@sprinklr/chat-web-client"]||[]).push([[70],{1014:function(e,t,n){"use strict";var a=n(384),o=n(675),r=n.n(o),i=n(13),c=n.n(i),s=n(82),l=n.n(s),d=n(122),u=n.n(d),p=n(512),b=n.n(p),f=n(1429),h=n.n(f),g=n(826),y=n.n(g),O=n(215),m=n.n(O),v=n(413),j=n.n(v),I=n(411),E=n(1278),C=n(436);t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{getValue:j.a,defaultValue:!0,logOnFailure:!1,logOnSuccess:!1,subscribe:j.a};const n=Object(a.useRef)(!1);n.current=c()(e);const{getValue:o,defaultValue:i,logOnFailure:s,logOnSuccess:d,subscribe:p}=t,[f,g]=Object(a.useState)(0),O=Object(a.useRef)([void 0]),v=Object(a.useRef)(null);Object(a.useEffect)((()=>()=>{v.current&&u()(v.current,(e=>e&&e.clear()))}),[]),v.current=Object(a.useMemo)((()=>l()(e)?null:(v.current&&u()(v.current,(e=>e&&e.clear())),O.current=n.current?h()(y()(e),m()(void 0)):[],u()(b()(e),((e,t)=>{if(l()(e))return null;const n=e=>{O.current[t]=I.a.getField(e),g((e=>e+1))};return E.a.createFilterAction(e,{subscribe:(e,t)=>p(e,r()(n,e),t),getFilterBuilder:E.a.createFilterAction})})))),[e,o,p,g]);const S=Object(a.useMemo)((()=>v.current?u()(v.current,((e,t)=>e?(Object(C.a)(`--- Filter ${t} match start ---`,Date.now()),e.matches(o(),{logOnFailure:s,logOnSuccess:d})):i)):[i]),[e,o,i,f]);return Object(a.useMemo)((()=>n.current?u()(S,((e,t)=>({hasPassed:e,changeSource:O.current[t]}))):{hasPassed:S[0],changeSource:O.current[0]}),[S,O.current])}},1016:function(e,t,n){"use strict";var a=n(60),o=n.n(a);const r=e=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");t.a=(e,t)=>{if(o()(t))return!1;try{return new RegExp(`^${e.split(/\*+/).map(r).join(".*")}$`).test(t)}catch(n){return console.warn("Wrong wild card string in filter"),!1}}},1017:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(384),o=n.n(a),r=n(475),i=n.n(r),c=n(457),s=n.n(c),l=n(826),d=n.n(l),u=n(569),p=n(385);const b=o.a.createContext({}),f=Object(a.memo)((e=>{const{getValue:t,subscribe:n}=Object(u.a)(),o=t(),[r,c]=Object(a.useState)((()=>({pagesMetaData:{[o]:[{startTime:Date.now(),endTime:void 0}]},currentPageUrl:o})));return Object(a.useEffect)((()=>{const e=n("page-context-subscriber",(e=>{let{currentUrl:t,previousUrl:n}=e;c((e=>(e=>{let{prevPageContextValue:t,previousUrl:n,currentUrl:a}=e;const o=Date.now(),r=t.pagesMetaData,c=s()(i()(r[n]),{endTime:{$set:o}});return s()(t,{pagesMetaData:{[n]:{$splice:[[d()(r[n])-1,1,c]]},[a]:{$set:[...r[a]||[],{startTime:o,endTime:void 0}]}},currentPageUrl:{$set:a}})})({prevPageContextValue:e,previousUrl:n,currentUrl:t})))}));return()=>{e()}}),[]),Object(p.jsx)(b.Provider,{value:r},e.children)}));t.b=b},1018:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(384);t.useFirstMountState=function(){var e=a.useRef(!0);return e.current?(e.current=!1,!0):e.current}},1019:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var a=n(486),o=n.n(a),r=n(15);const i="spr-live-prompt-app",c=()=>{const e=Object(r.b)().document,t=e.querySelector(`#${i}`);if(t)return t;const n=e.createElement("div");return n.id=i,n.style.width="0",n.style.height="0",e.body.appendChild(n),n},s=()=>{const e=Object(r.b)().document.querySelector(`#${i}`);e&&o.a.unmountComponentAtNode(e)}},1020:function(e,t,n){"use strict";var a=n(384),o=n.n(a),r=n(413),i=n.n(r);const c=o.a.createContext([null,i.a]);t.a=c},1021:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(391);var a=n(384),o=n.n(a),r=n(413),i=n.n(r),c=n(385);const s=o.a.createContext({notification:void 0,setNotification:i.a}),l=e=>{const[t,n]=Object(a.useState)(void 0),o=Object(a.useMemo)((()=>({notification:t,setNotification:n})),[t,n]);return Object(c.jsx)(s.Provider,{value:o},e.children)};t.b=s},1022:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(448)),o=c(n(384)),r=c(n(486)),i=n(1023);n(1024);function c(e){return e&&e.__esModule?e:{default:e}}var s="unmounted";t.UNMOUNTED=s;var l="exited";t.EXITED=l;var d="entering";t.ENTERING=d;var u="entered";t.ENTERED=u;var p="exiting";t.EXITING=p;var b=function(e){var t,n;function a(t,n){var a;a=e.call(this,t,n)||this;var o,r=n.transitionGroup,i=r&&!r.isMounting?t.enter:t.appear;return a.appearStatus=null,t.in?i?(o=l,a.appearStatus=d):o=u:o=t.unmountOnExit||t.mountOnEnter?s:l,a.state={status:o},a.nextCallback=null,a}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.getChildContext=function(){return{transitionGroup:null}},a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===s?{status:l}:null},i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==d&&n!==u&&(t=d):n!==d&&n!==u||(t=p)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,a=this.props.timeout;return e=t=n=a,null!=a&&"number"!==typeof a&&(e=a.exit,t=a.enter,n=void 0!==a.appear?a.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=r.default.findDOMNode(this);t===d?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===l&&this.setState({status:s})},i.performEnter=function(e,t){var n=this,a=this.props.enter,o=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,r=this.getTimeouts(),i=o?r.appear:r.enter;t||a?(this.props.onEnter(e,o),this.safeSetState({status:d},(function(){n.props.onEntering(e,o),n.onTransitionEnd(e,i,(function(){n.safeSetState({status:u},(function(){n.props.onEntered(e,o)}))}))}))):this.safeSetState({status:u},(function(){n.props.onEntered(e)}))},i.performExit=function(e){var t=this,n=this.props.exit,a=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:p},(function(){t.props.onExiting(e),t.onTransitionEnd(e,a.exit,(function(){t.safeSetState({status:l},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:l},(function(){t.props.onExited(e)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(a){n&&(n=!1,t.nextCallback=null,e(a))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var a=null==t&&!this.props.addEndListener;e&&!a?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===s)return null;var t=this.props,n=t.children,a=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["children"]);if(delete a.in,delete a.mountOnEnter,delete a.unmountOnExit,delete a.appear,delete a.enter,delete a.exit,delete a.timeout,delete a.addEndListener,delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,"function"===typeof n)return n(e,a);var r=o.default.Children.only(n);return o.default.cloneElement(r,a)},a}(o.default.Component);function f(){}b.contextTypes={transitionGroup:a.object},b.childContextTypes={transitionGroup:function(){}},b.propTypes={},b.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},b.UNMOUNTED=0,b.EXITED=1,b.ENTERING=2,b.ENTERED=3,b.EXITING=4;var h=(0,i.polyfill)(b);t.default=h},1023:function(e,t,n){"use strict";function a(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function r(e,t){try{var n=this.props,a=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,a)}finally{this.props=n,this.state=a}}function i(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,i=null,c=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?i="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(i="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?c="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(c="UNSAFE_componentWillUpdate"),null!==n||null!==i||null!==c){var s=e.displayName||e.name,l="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+s+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==i?"\n  "+i:"")+(null!==c?"\n  "+c:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=a,t.componentWillReceiveProps=o),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=r;var d=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var a=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;d.call(this,e,t,a)}}return e}n.r(t),n.d(t,"polyfill",(function(){return i})),a.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0},1024:function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var a;(a=n(448))&&a.__esModule;t.timeoutsShape=null;t.classNamesShape=null},1025:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=c(n(448)),o=c(n(384)),r=n(1023),i=n(1439);function c(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(this,arguments)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},u=function(e){var t,n;function a(t,n){var a,o=(a=e.call(this,t,n)||this).handleExited.bind(l(l(a)));return a.state={handleExited:o,firstRender:!0},a}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},r.componentDidMount=function(){this.appeared=!0,this.mounted=!0},r.componentWillUnmount=function(){this.mounted=!1},a.getDerivedStateFromProps=function(e,t){var n=t.children,a=t.handleExited;return{children:t.firstRender?(0,i.getInitialChildMapping)(e,a):(0,i.getNextChildMapping)(e,n,a),firstRender:!1}},r.handleExited=function(e,t){var n=(0,i.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=s({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,t=e.component,n=e.childFactory,a=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["component","childFactory"]),r=d(this.state.children).map(n);return delete a.appear,delete a.enter,delete a.exit,null===t?r:o.default.createElement(t,a,r)},a}(o.default.Component);u.childContextTypes={transitionGroup:a.default.object.isRequired},u.propTypes={},u.defaultProps={component:"div",childFactory:function(e){return e}};var p=(0,r.polyfill)(u);t.default=p,e.exports=t.default},1026:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(12);function o(){return Object(a.w)()}},1027:function(e,t,n){var a={"./classic/pages":[1791,11,81],"./modern/pages":[1792,0,11,82]};function o(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],o=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(o)}))}o.keys=function(){return Object.keys(a)},o.id=1027,e.exports=o},1028:function(e,t,n){"use strict";var a=n(1029),o=n.n(a),r={},i=0,c=function(e,t){var n=""+t.end+t.strict+t.sensitive,a=r[n]||(r[n]={});if(a[e])return a[e];var c=[],s={re:o()(e,c,t),keys:c};return i<1e4&&(a[e]=s,i++),s};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"===typeof t&&(t={path:t});var a=t,o=a.path,r=a.exact,i=void 0!==r&&r,s=a.strict,l=void 0!==s&&s,d=a.sensitive,u=void 0!==d&&d;if(null==o)return n;var p=c(o,{end:i,strict:l,sensitive:u}),b=p.re,f=p.keys,h=b.exec(e);if(!h)return null;var g=h[0],y=h.slice(1),O=e===g;return i&&!O?null:{path:o,url:"/"===o&&""===g?"/":g,isExact:O,params:f.reduce((function(e,t,n){return e[t.name]=y[n],e}),{})}}},1029:function(e,t,n){var a=n(1441);e.exports=b,e.exports.parse=r,e.exports.compile=function(e,t){return c(r(e,t),t)},e.exports.tokensToFunction=c,e.exports.tokensToRegExp=p;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function r(e,t){for(var n,a=[],r=0,i=0,c="",d=t&&t.delimiter||"/";null!=(n=o.exec(e));){var u=n[0],p=n[1],b=n.index;if(c+=e.slice(i,b),i=b+u.length,p)c+=p[1];else{var f=e[i],h=n[2],g=n[3],y=n[4],O=n[5],m=n[6],v=n[7];c&&(a.push(c),c="");var j=null!=h&&null!=f&&f!==h,I="+"===m||"*"===m,E="?"===m||"*"===m,C=n[2]||d,S=y||O;a.push({name:g||r++,prefix:h||"",delimiter:C,optional:E,repeat:I,partial:j,asterisk:!!v,pattern:S?l(S):v?".*":"[^"+s(C)+"]+?"})}}return i<e.length&&(c+=e.substr(i)),c&&a.push(c),a}function i(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function c(e,t){for(var n=new Array(e.length),o=0;o<e.length;o++)"object"===typeof e[o]&&(n[o]=new RegExp("^(?:"+e[o].pattern+")$",u(t)));return function(t,o){for(var r="",c=t||{},s=(o||{}).pretty?i:encodeURIComponent,l=0;l<e.length;l++){var d=e[l];if("string"!==typeof d){var u,p=c[d.name];if(null==p){if(d.optional){d.partial&&(r+=d.prefix);continue}throw new TypeError('Expected "'+d.name+'" to be defined')}if(a(p)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var b=0;b<p.length;b++){if(u=s(p[b]),!n[l].test(u))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(u)+"`");r+=(0===b?d.prefix:d.delimiter)+u}}else{if(u=d.asterisk?encodeURI(p).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(p),!n[l].test(u))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+u+'"');r+=d.prefix+u}}else r+=d}return r}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function d(e,t){return e.keys=t,e}function u(e){return e&&e.sensitive?"":"i"}function p(e,t,n){a(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,r=!1!==n.end,i="",c=0;c<e.length;c++){var l=e[c];if("string"===typeof l)i+=s(l);else{var p=s(l.prefix),b="(?:"+l.pattern+")";t.push(l),l.repeat&&(b+="(?:"+p+b+")*"),i+=b=l.optional?l.partial?p+"("+b+")?":"(?:"+p+"("+b+"))?":p+"("+b+")"}}var f=s(n.delimiter||"/"),h=i.slice(-f.length)===f;return o||(i=(h?i.slice(0,-f.length):i)+"(?:"+f+"(?=$))?"),i+=r?"$":o&&h?"":"(?="+f+"|$)",d(new RegExp("^"+i,u(n)),t)}function b(e,t,n){return a(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var a=0;a<n.length;a++)t.push({name:a,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return d(e,t)}(e,t):a(e)?function(e,t,n){for(var a=[],o=0;o<e.length;o++)a.push(b(e[o],t,n).source);return d(new RegExp("(?:"+a.join("|")+")",u(n)),t)}(e,t,n):function(e,t,n){return p(r(e,n),t,n)}(e,t,n)}},1030:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var a=n(536),o=n(978),r=n(979);n(981);function i(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",a="",o=t.indexOf("#");-1!==o&&(a=t.substr(o),t=t.substr(0,o));var r=t.indexOf("?");return-1!==r&&(n=t.substr(r),t=t.substr(0,r)),{pathname:t,search:"?"===n?"":n,hash:"#"===a?"":a}}(e),i.state=t):(void 0===(i=Object(a.a)({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(c){throw c instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):c}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=Object(o.default)(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function c(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&Object(r.default)(e.state,t.state)}"undefined"===typeof window||!window.document||window.document.createElement},1031:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var a=n(384),o=n.n(a),r=n(413),i=n.n(r),c=n(830),s=n(385);const l={debug:i.a,info:i.a,error:i.a,warning:i.a,cleanup:i.a},d=o.a.createContext(l),u=e=>{let{videoConversationId:t,conversationId:n,isAudioCall:a,children:o}=e;const r=Object(c.a)({videoConversationId:t,conversationId:n,isAudioCall:a});return Object(s.jsx)(d.Provider,{value:r},o)}},1032:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(384),o=n.n(a),r=n(413),i=n.n(r),c=n(502),s=n.n(c),l=n(123),d=n.n(l),u=n(462),p=n(385);const b=o.a.createContext({addPublisher:i.a,removePublisher:i.a});let f=!1;const h=e=>{let{onClick:t,children:n}=e;const o=Object(a.useRef)([]),r=Object(a.useCallback)((()=>{f=!0,t(),o.current&&(d()(o.current,(e=>{e.removeEventListener("click",r,{capture:!0})})),o.current=[])}),[t]),i=Object(a.useMemo)((()=>({addPublisher:e=>{f||(o.current.push(e),e.addEventListener("click",r,{capture:!0}))},removePublisher:e=>{f||(e.removeEventListener("click",r,{capture:!0}),o.current=s()(o.current,(t=>t!==e)))}})),[r]);return Object(a.useEffect)((()=>{const e=Object(u.a)();if(Object(u.b)(e))return i.addPublisher(e.document),()=>{i.removePublisher(e.document)}}),[]),Object(p.jsx)(b.Provider,{value:i},n)};t.b=o.a.memo(h)},1033:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(541).__importDefault(n(1443)).default("audio");t.default=a},1034:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var a=n(384),o=n.n(a),r=n(413),i=n.n(r),c=n(1035),s=n(385);const l={debug:i.a,info:i.a,error:i.a,warning:i.a},d=o.a.createContext(l),u=e=>{let{videoConversationId:t,conversationId:n,children:a}=e;const o=Object(c.a)({videoConversationId:t,conversationId:n});return Object(s.jsx)(d.Provider,{value:o},a)}},1035:function(e,t,n){"use strict";var a=n(384),o=n(389),r=n(423),i=n(490),c=n(404),s=n(440),l=n(430),d=n(831);const u=(new r.a).setUrl("/video-chat/conversation/log/event").setType(l.a.POST).build();t.a=e=>{let{videoConversationId:t,conversationId:n}=e;const[r]=Object(i.a)(u,{ignoreResults:!0}),l=Object(o.d)(c.h),p=Object(s.d)(l),b=Object(a.useCallback)((e=>{const{eventType:n,activityAdditionalDetails:a}=e;return{videoConversationId:t,loggerSnUserId:p,eventType:n,loggerSnType:"SPRINKLR_LIVE_CHAT",offsetTime:0,activityAdditionalDetails:a}}),[n,t,p]);return Object(a.useMemo)((()=>new d.a(r,{adapter:b,skip:!t})),[r,b,t])}},1038:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(208),o=n.n(a),r=n(446);const i=o()((async e=>{const t=(await r.a.get(e)).data;return(new DOMParser).parseFromString(t,"image/svg+xml")}))},1039:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(384);const o=n.n(a).a.createContext(void 0)},1040:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(384);const o=Object(a.createContext)({setIsFrameMaximized:()=>null,isFrameMaximized:!1})},1042:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(384),o=n.n(a),r=n(385);const i=o.a.createContext("ltr");t.b=e=>Object(r.jsx)(i.Provider,{value:e.direction},e.children)},1044:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(631),o=n(841),r=n(748),i=n(556),c=n(415);const s={[c.b.CONTACT_DETAILS_FORM]:{NAME:e=>{let{user:t}=e;return Object(i.a)(t)},FIRST_NAME:e=>{let{user:t}=e;return t.firstName},LAST_NAME:e=>{let{user:t}=e;return t.lastName},EMAIL:e=>{let{user:t}=e;return t.email},PHONE_NO:e=>{let{user:t}=e;return t.phoneNo}}},l={[c.b.CONTACT_DETAILS_FORM]:(e,t)=>{const n=o.a.getFields(r.a.getForm(e)),a=s[c.b.CONTACT_DETAILS_FORM];return n.reduce(((e,n)=>{const{id:o}=n,r=a[o];return r&&(e[o]=r(t)),e}),{})}},d=(e,t)=>{const n=l[a.a.getType(e)];return n?n(e,t):{}}},1045:function(e,t,n){"use strict";t.a={CALL_INITIATED:"VIDEO_CALL_INITIATED",CALL_STARTING:"VIDEO_CALL_STARTING",CALL_OFFER_ACCEPTED:"VIDEO_CALL_OFFER_ACCEPTED",CALL_CONNECTED:"VIDEO_CALL_CONNECTED",CALL_DECLINED:"VIDEO_CALL_DECLINED",CALL_ENDED:"VIDEO_CALL_ENDED",CALL_MISSED:"VIDEO_CALL_MISSED"}},1046:function(e,t,n){var a=n(85);e.exports=function(){var e=arguments,t=a(e[0]);return e.length<3?t:t.replace(e[1],e[2])}},1047:function(e,t,n){"use strict";t.a={PDF:"PDF",EXCEL:"EXCEL",DOCUMENT:"DOCUMENT",WORD_DOCUMENT:"DOC",PRESENTATION:"PRESENTATION",ONENOTE:"ONENOTE"}},1048:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a="@chatPrompt/PROMPT_ACTION_TRIGGER"},1049:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(446);const o=async()=>a.a.get("/livechat/conversation/refresh-token")},1278:function(e,t,n){"use strict";var a=n(60),o=n.n(a),r=n(426),i=n.n(r),c=n(1015),s=n.n(c);const l=(e,t)=>s()(e)&&s()(t)?e-t:i()(e)&&i()(t)?e.localeCompare(t):i()(e)&&s()(t)?parseInt(e,10)-t:s()(e)&&i()(t)?e-parseInt(t,10):-1,d=(e,t)=>{if(o()(t))return!1;return l(t,e)<=-1},u=(e,t)=>{if(o()(t))return!1;return l(t,e)>=1},p=(e,t)=>{if(o()(t))return!1;return 0===l(t,e)};var b=n(431),f=n.n(b),h=n(82),g=n.n(h),y=n(522),O=n(436),m=n(411),v=n(575);var j=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:a}=t,o=m.a.getField(this._filter),r=f()(m.a.getValues(this._filter)),i=Object(y.b)({currentValueMap:e,filter:this._filter});let c;switch(m.a.getFilterType(this._filter)){case v.a.LT:c=d(r,i);break;case v.a.LTE:c=d(r,i)||p(r,i);break;case v.a.GT:c=u(r,i);break;case v.a.GTE:c=u(r,i)||p(r,i);break;case v.a.EQUALS:c=p(r,i);break;case v.a.NOT_EQUALS:c=!p(r,i);break;case v.a.EXISTS:c=!g()(i);break;case v.a.MISSING:c=g()(i);break;default:c=!1}return c&&n&&Object(O.a)(`Range Filter succeed for ${o} with value ${i}`),!c&&a&&Object(O.a)(`Range Filter failed for ${o} with value ${i}`),c},this.clear=()=>{},this._filter=e}};var I=(e,t)=>{if(o()(t))return!1;try{return!!new RegExp(e).test(t)}catch(n){return Object(O.a)("Wrong regex in filter"),!1}},E=n(1016),C=n(196),S=n.n(C),T=n(674),_=n.n(T);var x=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:a}=t,o=m.a.getField(this._filter),r=m.a.getValues(this._filter),i=Object(y.b)({currentValueMap:e,filter:this._filter}),c=S()(m.a.getDetails(this._filter),"valueAdditional.isJsRegex"),s=_()(r,(e=>c?I(e,i):Object(E.a)(e,i)));return s&&n&&Object(O.a)(`Regex Filter succeed for ${o} with value ${i}`),!s&&a&&Object(O.a)(`Regex Filter failed for ${o} with value ${i}`),s},this.clear=()=>{},this._filter=e}};var A=(e,t)=>!o()(t)&&!!e.includes(t);var R=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:a}=t,o=m.a.getField(this._filter),r=m.a.getValues(this._filter),i=Object(y.b)({currentValueMap:e,filter:this._filter}),c=A(r,i);return c&&n&&Object(O.a)(`In Filter succeed for ${o} with value ${i}`),!c&&a&&Object(O.a)(`In Filter failed for ${o} with value ${i}`),c},this.clear=()=>{},this._filter=e}};var N=(e,t)=>!o()(t)&&!e.includes(t);var w=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:a}=t,o=m.a.getField(this._filter),r=m.a.getValues(this._filter),i=Object(y.b)({currentValueMap:e,filter:this._filter}),c=N(r,i);return c&&n&&Object(O.a)(`NotIn Filter succeed for ${o} with value ${i}`),!c&&a&&Object(O.a)(`NotIn Filter failed for ${o} with value ${i}`),c},this.clear=()=>{},this._filter=e}};class L{}L.createFilterAction=e=>{switch(m.a.getFilterType(e)){case v.a.LTE:case v.a.LT:case v.a.GT:case v.a.GTE:case v.a.NOT_EQUALS:case v.a.EXISTS:case v.a.MISSING:return new j(e);case v.a.REGEX:return new x(e);case v.a.CONTAINS:case v.a.IN:return new R(e);case v.a.NIN:return new w(e);default:return new j(e)}};var D=L;var M=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>this._filterAction.matches(e,t),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=D.createFilterAction(this._filter)}},P=n(459),k=n.n(P),U=n(479);var F=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>{const n=m.a.getDetails(this._filter);let a=e;return n&&!k()(n.noOfAgentsAvailable)&&(a={[U.a.AVAILABLE_AGENTS]:n.noOfAgentsAvailable}),this._filterAction.matches(a,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=D.createFilterAction(e)}};var B=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>{const n=m.a.getDetails(this._filter);let a=e;return n&&!k()(n.numberOfPendingCases)&&(a={[U.a.AGENT_OUT_OF_CAPACITY]:n.numberOfPendingCases}),this._filterAction.matches(a,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=D.createFilterAction(e)}};var G=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>{const n=m.a.getDetails(this._filter),a=Object(y.b)({currentValueMap:e,filter:this._filter});let o={[U.a.BUSINESS_HOURS]:a};return!n||g()(n)||k()(n.timeToBusinessHours)||(o={[U.a.BUSINESS_HOURS]:n.timeToBusinessHours}),this._filterAction.matches(o,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null};const a=(e=>m.a.getFilterType(e)===v.a.IN?f()(m.a.getValues(e))?Object.assign(Object.assign({},e),{filterType:v.a.LTE,values:[0]}):Object.assign(Object.assign({},e),{filterType:v.a.GT,values:[0]}):e)(e);this._filter=a,this._unSubscribeFn=n?n(a):null,this._filterAction=D.createFilterAction(a)}};var V=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>this._filterAction.matches(e,t),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null};const a=(e=>m.a.getFilterType(e)===v.a.IN?f()(m.a.getValues(e))?Object.assign(Object.assign({},e),{filterType:v.a.GTE,values:[1]}):Object.assign(Object.assign({},e),{filterType:v.a.LTE,values:[0]}):e)(e);this._filter=a,this._unSubscribeFn=n?n(a):null,this._filterAction=D.createFilterAction(a)}};var z=class{constructor(e,t){let{subscribe:n,parentFilter:a}=t;this.matches=(e,t)=>{let n=e;switch(this._parentFilter&&m.a.getField(this._parentFilter)){case U.a.INTERCEPT_ENGAGED_IN_SESSION_KEY:{const t=f()(m.a.getValues(this._parentFilter)),a=e[U.a.INTERCEPT_ENGAGED_IN_SESSION_KEY],o=Date.now()-(a[t].actionTime||0);n=Object.assign(Object.assign({},n),{[U.a.DEPENDENT_DURATION_KEY]:o});break}case U.a.INTERCEPT_CLOSED_IN_SESSION_KEY:{const t=f()(m.a.getValues(this._parentFilter)),a=e[U.a.INTERCEPT_CLOSED_IN_SESSION_KEY],o=Date.now()-(a[t].actionTime||0);n=Object.assign(Object.assign({},n),{[U.a.DEPENDENT_DURATION_KEY]:o});break}}return this._filterAction.matches(n,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._parentFilter=a,this._unSubscribeFn=n?n(e,a):null,this._filterAction=D.createFilterAction(e)}};var W=class{constructor(e,t){this.matches=(e,t)=>{const n=f()(m.a.getValues(this._filter)),a=e[U.a.INTERCEPT_ENGAGED_IN_SESSION_KEY],o=this._filterAction.matches({[U.a.INTERCEPT_ENGAGED_IN_SESSION_KEY]:a[n]?n:""},t);if(o){const n=m.a.getDetails(this._filter);if(n&&!g()(n.dependentFilter))return null===this._dependentFilterAction&&(this._dependentFilterAction=this._filterOptions.getFilterBuilder(n.dependentFilter,Object.assign(Object.assign({},this._filterOptions),{parentFilter:this._filter}))),this._dependentFilterAction.matches(e,t)}return o},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._dependentFilterAction&&this._dependentFilterAction.clear(),this._unSubscribeFn=null};const{subscribe:n}=t;this._filter=e,this._filterOptions=t,this._unSubscribeFn=n?n(e):null,this._filterAction=D.createFilterAction(e),this._dependentFilterAction=null}};var $=class{constructor(e,t){this.matches=(e,t)=>{const n=f()(m.a.getValues(this._filter)),a=e[U.a.INTERCEPT_CLOSED_IN_SESSION_KEY],o=this._filterAction.matches({[U.a.INTERCEPT_CLOSED_IN_SESSION_KEY]:a[n]?n:""},t);if(o){const n=m.a.getDetails(this._filter);if(n&&!g()(n.dependentFilter))return null===this._dependentFilterAction&&(this._dependentFilterAction=this._filterOptions.getFilterBuilder(n.dependentFilter,Object.assign(Object.assign({},this._filterOptions),{parentFilter:this._filter}))),this._dependentFilterAction.matches(e,t)}return o},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._dependentFilterAction&&this._dependentFilterAction.clear(),this._unSubscribeFn=null};const{subscribe:n}=t;this._filter=e,this._filterOptions=t,this._unSubscribeFn=n?n(e):null,this._filterAction=D.createFilterAction(e),this._dependentFilterAction=null}},H=n(410);const K="PIXEL";var q=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>{const n=S()(m.a.getDetails(this._filter),"valueAdditional.valueType"),a=m.a.getField(this._filter),{scrollDepth:o,scrollPercent:r}=e[a]||H.a,i={[a]:n===K?o:r};return this._filterAction.matches(i,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=D.createFilterAction(e)}};var Y=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>0===Object(y.b)({currentValueMap:e,filter:this._filter}),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null}};var X=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>0===Object(y.b)({currentValueMap:e,filter:this._filter}),this.clear=()=>{this._unsubscribeFn&&this._unsubscribeFn(),this._unsubscribeFn=null},this._filter=e,this._unsubscribeFn=n?n(e):null}};class Z{}Z.createFilterAction=(e,t)=>{switch(m.a.getField(e)){case U.a.AVAILABLE_AGENTS:return new F(e,t);case U.a.AGENT_OUT_OF_CAPACITY:return new B(e,t);case U.a.BUSINESS_HOURS:return new G(e,t);case U.a.IS_CONVERSATION_OPEN:return new V(e,t);case U.a.DEPENDENT_DURATION_KEY:return new z(e,t);case U.a.INTERCEPT_CLOSED_IN_SESSION_KEY:return new $(e,t);case U.a.INTERCEPT_ENGAGED_IN_SESSION_KEY:return new W(e,t);case U.a.CURRENT_URL:case U.a.TOTAL_TIME_SPENT:case U.a.ACTIVE_TIME_SPENT:case U.a.INACTIVE_TIME_SPENT:case U.a.DEVICE_TYPE:case U.a.USER_IP_DETAILS_COUNTRY:case U.a.USER_IP_DETAILS_CITY:case U.a.USER_IP_DETAILS_REGION:return new M(e,t);case U.a.HORIZONTAL_PAGE_SCROLL_DEPTH:case U.a.VERTICAL_PAGE_SCROLL_DEPTH:return new q(e,t);case U.a.TIME_SPENT_ON_SESSION:return new Y(e,t);case U.a.NUM_SNOOZE_ALLOWED:return new X(e,t);default:return Object(y.d)(m.a.getField(e))?new M(e,t):void 0}};var J=Z,Q=n(122),ee=n.n(Q),te=n(123),ne=n.n(te);var ae=class{constructor(e,t){this.matches=(e,t)=>{let n=!0;return ne()(this._filterActions,(a=>!!a.matches(e,t)||(n=!1,!1))),n},this.clear=()=>{ne()(this._filterActions,(e=>e.clear())),this._filterActions=[]},this._filterActions=ee()(m.a.getFilters(e),(e=>t.getFilterBuilder(e,t)))}};var oe=class{constructor(e,t){this.matches=(e,t)=>{let n=!1;return ne()(this._filterActions,(a=>!a.matches(e,t)||(n=!0,!1))),n},this.clear=()=>{ne()(this._filterActions,(e=>e.clear())),this._filterActions=[]},this._filterActions=ee()(m.a.getFilters(e),(e=>t.getFilterBuilder(e,t)))}};let re=0;class ie{}ie.createFilterAction=(e,t)=>{const n=(e=>(re+=1,Object.assign(Object.assign({},e),{id:re})))(e),a=J.createFilterAction(n,t);if(a)return a;switch(m.a.getFilterType(n)){case v.a.AND:return new ae(e,t);case v.a.OR:return new oe(e,t);default:return D.createFilterAction(n)}};t.a=ie},1290:function(e,t,n){"use strict";var a,o=n(384),r=n.n(o),i=(n(432),n(388)),c=n(417),s=n(386);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}function d(e,t){let{title:n,titleId:r,...i}=e;return o.createElement("svg",l({"data-spaceweb":"icon",viewBox:"0 0 14 14","data-icon-name":"SolidCobrowsing",className:"sw--bx sw--by sw--mw sw--mx",ref:t,"aria-labelledby":r},i),n?o.createElement("title",{id:r},n):null,a||(a=o.createElement("path",{d:"M12.752 0H1.248A1.328 1.328 0 00.024 1.416v8.66a1.328 1.328 0 001.224 1.416h11.504a1.328 1.328 0 001.224-1.416v-8.66A1.328 1.328 0 0012.752 0zM5.648 5.19a.362.362 0 01-.11-.263c0-.005-.006-.01-.006-.015v-.525h-1.05a.896.896 0 00-.895.895v.928a.889.889 0 00.262.633.918.918 0 00.632.263.5.5 0 010 1 1.914 1.914 0 01-1.34-.556 1.882 1.882 0 01-.554-1.34v-.928A1.896 1.896 0 014.48 3.387h1.051v-.52c0-.005.006-.01.006-.016a.343.343 0 01.11-.268.361.361 0 01.517.01l.996 1.038c.005.01.015.016.02.027a.369.369 0 01.08.179.2.2 0 010 .079.34.34 0 01-.095.221v.005H7.16L6.165 5.18a.361.361 0 01-.517.01zm5.765 1.02A1.897 1.897 0 019.52 8.106h-.88v.519c0 .005-.005.01-.005.016a.343.343 0 01-.111.268.361.361 0 01-.516-.01l-.996-1.038c-.005-.01-.016-.016-.021-.026a.369.369 0 01-.08-.18.2.2 0 010-.079.34.34 0 01.096-.22V7.35h.005l.996-1.038a.364.364 0 01.627.253c0 .005.005.01.005.016v.525h.879a.896.896 0 00.894-.896v-.928a.891.891 0 00-.263-.634.918.918 0 00-.631-.26.5.5 0 010-1 1.914 1.914 0 011.34.554 1.885 1.885 0 01.554 1.34zM10.3 12.584H3.597a.7.7 0 000 1.4H10.3a.7.7 0 100-1.4z"})))}const u=o.forwardRef(d);n.p;const p=Object(s.a)(u,{target:"e1s9shjt0"})({name:"1utgq19",styles:"width:48px;height:48px;margin-bottom:18px;"});var b=n(1298),f=n(745),h=n(556),g=n(385);var y={name:"19cy8uy",styles:"max-width:218px;"};var O=r.a.memo(Object(i.h)((e=>{const{onStopSession:t,brandUser:n,intl:a}=e,r=Object(c.a)(),i=Object(o.useMemo)((()=>({agentName:Object(h.a)(n,r)})),[n,r]),s=Object(o.useMemo)((()=>a.formatMessage(f.a.settingUpCobrowsing,i)),[i,a]),l=Object(o.useMemo)((()=>y),[]);return Object(g.jsx)(b.a,{onClose:t,Icon:p,description:s,descriptionStyles:l})}))),m=n(592);t.a=e=>{const{sessionState:t}=e;return t!==m.b.INITIATED&&t!==m.b.SETUP&&t!==m.b.RESUMED?null:Object(g.jsx)(O,e)}},1294:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n(384),o=n.n(a),r=n(82),i=n.n(r),c=n(123),s=n.n(c),l=n(501),d=n.n(l),u=n(413),p=n.n(u),b=n(389),f=n(476),h=n(438);var g=()=>e=>{const t={eventId:e.label,eventType:e.action.id,additional:{...e.additional,conversationId:e.conversationId}};Object(f.a)({topic:h.e,payload:{data:t}})},y=n(446),O=n(519),m=n(121);const v=new Set([O.a.AGENT_ASSIGNED.id,O.a.VIDEO_CALL_OUTGOING_STARTING.id,O.a.AUDIO_CALL_OUTGOING_STARTING.id]);var j=()=>async e=>{if(!v.has(e.action.id))try{await y.a.post("/livechat/prompt/browse/event",{page:e.page,userAgent:e.userAgent,device:e.device,timeZone:e.timeZone,eventType:e.action.label,eventId:e.label,conversationId:e.conversationId,sourceType:"LIVE_CHAT"})}catch(t){Object(m.b)(t)}},I=n(520),E=n(400),C=n(398),S=n(477),T=n(404),_=n(487),x=n(403),A=n(12),R=n(800),N=n(385);const w=o.a.createContext(p.a),L=e=>Object(_.c)(Object(T.e)(e)),D=e=>{const t=Object(I.a)(),o=Object(E.a)(),r=Object(a.useRef)([]),[c,l]=Object(a.useState)(!1),u=Object(C.a)(S.c),p=Object(C.a)(S.b),f=Object(b.d)(L),h=Object(A.N)();return Object(a.useEffect)((()=>{if(c&&f.length){const e={...f[0],category:"Sprinklr Widget",device:t.device,page:t.pageUrl,userAgent:t.userAgent,timeZone:t.timeZone};((e,t)=>{Object(R.c)((()=>{s()(e,(e=>{e(t)}))}))})(r.current,e),p()}}),[f,c]),Object(a.useEffect)((()=>{h||(e=>{const t=[],a=x.a.getGoogleTrackerId(e),o=x.a.isSprinklrAnalyticsEnabled(e);return i()(a)||t.push(n.e(60).then(n.bind(null,1879)).then((e=>e.default.createTracker({trackerId:a},{canAccessParent:Object(A.L)()}))).catch((()=>{}))),o&&t.push(j()),t.push(g()),Promise.all(t)})(o).then((e=>{r.current=d()(e),l(!0)}))}),[]),Object(N.jsx)(w.Provider,{value:u},e.children)};t.b=o.a.memo(D)},1298:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));n(384);var a=n(386),o=n(385),r=n(387),i=n(390),c=n(535),s=n(532);const l=Object(a.a)("div",{target:"e1exikj40"})("position:fixed;top:0px;left:0px;width:100%;height:100%;z-index:",(e=>Object(r.f)("frame.zIndex")(e)),";transform:translateZ(",(e=>Object(r.f)("frame.translateZ")(e)),"px);"),d=Object(a.a)(c.a,{target:"e1exikj41"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),u={name:"1egabj8",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}body{background-color:transparent;}"},p=Object(a.a)("div",{target:"e1exikj42"})("width:100%;height:100%;position:relative;",(e=>e.isPhone&&"backdrop-filter: blur(2px);"),""),b=Object(a.a)("div",{target:"e1exikj43"})("position:absolute;padding:",(e=>{const t=+Object(r.f)("confirmationBox.paddingTop")(e),n=+Object(r.f)("confirmationBox.paddingRight")(e),a=+Object(r.f)("confirmationBox.paddingLeft")(e);return`${t}px ${n}px ${+Object(r.f)("confirmationBox.paddingBottom")(e)}px ${a}px`}),";",(e=>e.isPhone?"\n      top: 0;\n      left: 0;\n      height: 100%;\n      width: 100%;\n      opacity: 0.95;\n      ":`\n      box-shadow: 0 4px 10px 0 rgba(49, 39, 39, 0.2);\n      border-radius: ${Object(r.a)("frame.borderRadius")(e)};\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n      max-width: 312px;\n      width: 85%;\n  `)," color:",Object(r.b)("charcoal"),";background-color:",Object(r.f)("confirmationBox.backgroundColor"),";"),f=Object(a.a)("div",{target:"e1exikj44"})("font-size:",Object(r.f)("confirmationBox.header.title.fontSize"),"px;font-family:",Object(r.d)("confirmationBox.header.title.fontFamily"),";font-weight:",Object(r.f)("confirmationBox.header.title.fontWeight"),";padding-bottom:",Object(r.f)("confirmationBox.header.paddingBottom"),"px;"),h=Object(a.a)("div",{target:"e1exikj45"})("font-size:",Object(r.f)("confirmationBox.description.fontSize"),"px;font-weight:normal;color:",Object(r.b)("charcoal"),";text-align:center;"),g=Object(a.a)(s.a,{target:"e1exikj46"})("position:absolute;top:env(safe-area-inset-top);",Object(i.c)("right: env(safe-area-inset-right);","left: env(safe-area-inset-left);"),""),y=e=>Object(o.css)({height:`${Object(r.f)("confirmationBox.header.iconButton.icon.height")({theme:e})}px`,width:`${Object(r.f)("confirmationBox.header.iconButton.icon.width")({theme:e})}px`},""),O=e=>Object(o.css)({height:`${Object(r.f)("confirmationBox.header.iconButton.button.height")({theme:e})}px`,width:`${Object(r.f)("confirmationBox.header.iconButton.button.width")({theme:e})}px`},"");var m=n(451),v=n(392),j=n(399),I=n(395);const E=e=>{let{onClose:t,title:n,description:a,descriptionStyles:r,Icon:i}=e;const c=Object(I.b)(),s=Object(v.a)(),{direction:E}=Object(j.a)();return Object(o.jsx)(l,{className:"spr-chat__cobrowseInfo-box spr-live-chat-frame __cbio_ignored"},Object(o.jsx)(d,{name:"spr-chat__cobrowseInfo-frame"},Object(o.jsx)(o.Global,{styles:u}),Object(o.jsx)(p,{isPhone:s},Object(o.jsx)(b,{isPhone:s},Object(o.jsx)("div",{className:"flex-column-container center-x-y spr full-width full-height"},Object(o.jsx)(g,{direction:E,iconName:"closeIcon",Icon:m.a,onClick:t,iconCss:y(c),css:O(c)}),Object(o.jsx)(i,null),n&&Object(o.jsx)(f,null,n),a&&Object(o.jsx)(h,{css:r},a))))))}},1300:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return y}));var a=n(384),o=n(457),r=n.n(o),i=n(82),c=n.n(i),s=n(726);var l=n(424),d=n(458),u=n(425),p=n(385);const b={byIds:{}},f=[d.o],h=Object(a.createContext)(b),g=(e,t)=>{if(t.type===d.o){const{id:n,details:a}=t.payload;return c()(e.byIds[n])?r()(e,{byIds:{$merge:{[n]:a}}}):r()(e,{byIds:{[n]:{$merge:a}}})}return e},y=e=>{let{children:t}=e;const[n,o]=Object(a.useReducer)(g,b),r=Object(l.a)(),i=u.a.getCards(r),c=Object(a.useCallback)((e=>{const{type:t,payload:n}=e,a=null===i||void 0===i?void 0:i.find((e=>{var t,a;return(null===e||void 0===e||null===(t=e.provider)||void 0===t||null===(a=t.details)||void 0===a?void 0:a.id)===n.id}));a&&o({type:t,payload:{...n,id:a.id}})}),[i]);var d,y;return d=f,y=c,Object(a.useLayoutEffect)((()=>{const e=s.a.on((e=>{d.includes(e.type)&&y(e)}));return()=>{e()}}),[]),Object(p.jsx)(h.Provider,{value:n},t)}},1302:function(e,t,n){"use strict";n.d(t,"g",(function(){return p})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return O}));var a=n(386),o=n(385),r=n(674),i=n.n(r),c=n(535),s=n(577),l=n(387),d=n(433),u=n(635);const p=e=>Object(s.h)(e)+Object(l.f)("trigger.size")({theme:e})+20,b=Object(a.a)("div",{target:"emlrnqp0"})("top:",(e=>e.isPhone&&"0"),";bottom:",(e=>e.alignWithChatTrigger?Object(s.h)(e.theme):p(e.theme)),"px;width:",(e=>e.isMaximized?`${Object(l.f)("frame.maximizedWidth")(e)}px`:`${Object(l.f)("frame.width")(e)}px`),";transition:max-width 200ms ease,max-height 200ms ease;min-width:200px;position:fixed;",(e=>(e=>{const t=Object(l.f)("trigger.size")({theme:e}),n=Object(l.f)("trigger.align")({theme:e}),a=n===u.f.RIGHT&&Object(l.f)("frame.align")({theme:e})===u.a.TRIGGER_LEFT_BOX_RIGHT?t:0,o=n===u.f.LEFT&&Object(l.f)("frame.align")({theme:e})===u.a.TRIGGER_RIGHT_BOX_LEFT?t:0;return`\n      ${Object(s.i)({leftOffset:o,rightOffset:a})({theme:e})};\n      max-width: calc(100% - ${Object(s.j)(e)}px - 20px - ${o||a}px);\n    `})(e.theme)),";z-index:",(e=>Object(l.f)("frame.zIndex")(e)),";padding:",(e=>Object(l.h)("frame.margin")(e)),";box-sizing:border-box;",(e=>(e=>{const t=Object(d.e)(Object(l.f)("frame.marginTop")({theme:e})),n=Object(d.e)(Object(l.f)("frame.marginBottom")({theme:e})),a=Object(d.e)(Object(l.f)("frame.marginLeft")({theme:e})),o=Object(d.e)(Object(l.f)("frame.marginRight")({theme:e}));return i()([t,n,a,o],(e=>e>0))})(e.theme)&&`background-color: ${Object(d.g)(Object(l.f)("frame.overlay.opacity")(e),Object(l.f)("frame.overlay.backgroundColour")(e))};`),";height:calc(100% - ",(e=>p(e.theme)),"px - ",20,"px);max-height:",(e=>e.isMaximized?`calc(100% - ${p(e.theme)}px - 20px)`:Object(l.f)("frame.height")(e)),";",(e=>e.isPhone&&" height: 100%;\n    width: 100vw;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    max-height: 100vh;\n    max-width: 100vw;\n    min-width: 100vw;\n  "),";transform:",(e=>`translateZ(${Object(l.f)("frame.translateZ")(e)}px)`),";"),f=Object(a.a)("div",{target:"emlrnqp1"})("height:100%;width:100%;position:relative;overflow:hidden;box-shadow:0 2px 15px 0 rgba(0,0,0,0.2);border-radius:",(e=>Object(l.a)("frame.borderRadius")(e)),";",(e=>{const t=Object(d.e)(Object(l.f)("frame.marginTop")(e))>0?Object(l.f)("frame.borderRadius")(e):0,n=Object(d.e)(Object(l.f)("frame.marginBottom")(e))>0?Object(l.f)("frame.borderRadius")(e):0;return e.isPhone&&`\n    border-top-left-radius: ${t};\n    border-top-right-radius: ${t};\n    border-bottom-left-radius: ${n};\n    border-bottom-right-radius: ${n};\n    box-shadow: none;`}),";"),h="spr-chat-box-anim",g=Object(a.a)(c.a,{target:"emlrnqp2"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),y=e=>Object(o.css)(`\n  .spr-chat__box.${h}-enter {\n    opacity: 0;\n    transform: translateZ(${Object(l.f)("frame.translateZ")(e)}px) translateY(20px) ;\n  }\n\n  .spr-chat__box.${h}-enter.${h}-enter-active {\n    opacity: 1;\n    transform: translateZ(${Object(l.f)("frame.translateZ")(e)}px) translateY(0px) ;\n    transition: opacity 0.16s linear, transform 0.08s linear;\n  }\n\n  .spr-chat__box.${h}-enter-done {\n    transform: translateZ(${Object(l.f)("frame.translateZ")(e)}px) ;\n  }\n\n  .spr-chat__box.${h}-exit {\n    opacity: 1;\n    transform: translateZ(${Object(l.f)("frame.translateZ")(e)}px) translateY(0);\n  }\n\n  .spr-chat__box.${h}-exit.${h}-exit-active {\n    opacity: 0;\n    transform: translateZ(${Object(l.f)("frame.translateZ")(e)}px) translateY(20px);\n    transition: opacity 0.16s linear, transform 0.08s linear;\n  }\n`,""),O={name:"2b9rdz",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}"}},1368:function(e,t,n){var a=n(667);e.exports=function(e,t){for(var n=-1,o=e.length;++n<o&&a(t,e[n],0)>-1;);return n}},1429:function(e,t,n){var a=n(226),o=n(220),r=n(197),i=4294967295,c=Math.min;e.exports=function(e,t){if((e=r(e))<1||e>9007199254740991)return[];var n=i,s=c(e,i);t=o(t),e-=i;for(var l=a(s,t);++n<e;)t(n);return l}},1430:function(e,t,n){var a=n(239)("length");e.exports=a},1431:function(e,t){var n="[\\ud800-\\udfff]",a="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",r="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+a+"|"+o+")"+"?",l="[\\ufe0e\\ufe0f]?",d=l+s+("(?:\\u200d(?:"+[r,i,c].join("|")+")"+l+s+")*"),u="(?:"+[r+a+"?",a,i,c,n].join("|")+")",p=RegExp(o+"(?="+o+")|"+u+d,"g");e.exports=function(e){for(var t=p.lastIndex=0;p.test(e);)++t;return t}},1433:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}t.default=e}(n(448));var a=c(n(1434)),o=c(n(1437)),r=c(n(384)),i=c(n(1022));n(1024);function c(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(this,arguments)}var l=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,a.default)(e,t)}))},d=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,o.default)(e,t)}))},u=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).onEnter=function(e,n){var a=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),l(e,a),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var a=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,a),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var a=t.getClassNames("appear").doneClassName,o=t.getClassNames("enter").doneClassName,r=n?a+" "+o:o;t.removeClasses(e,n?"appear":"enter"),l(e,r),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),l(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),l(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,a="string"===typeof n,o=a?(a&&n?n+"-":"")+e:n[e];return{className:o,activeClassName:a?o+"-active":n[e+"Active"],doneClassName:a?o+"-done":n[e+"Done"]}},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.removeClasses=function(e,t){var n=this.getClassNames(t),a=n.className,o=n.activeClassName,r=n.doneClassName;a&&d(e,a),o&&d(e,o),r&&d(e,r)},o.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,l(e,t))},o.render=function(){var e=s({},this.props);return delete e.classNames,r.default.createElement(i.default,s({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},a}(r.default.Component);u.defaultProps={classNames:""},u.propTypes={};var p=u;t.default=p,e.exports=t.default},1434:function(e,t,n){"use strict";var a=n(1435);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,o.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var o=a(n(1436));e.exports=t.default},1435:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},1436:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},1437:function(e,t,n){"use strict";function a(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=a(e.className,t):e.setAttribute("class",a(e.className&&e.className.baseVal||"",t))}},1438:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;i(n(448));var a=i(n(384)),o=n(486),r=i(n(1025));function i(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,n;function i(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=i.prototype;return c.handleLifecycle=function(e,t,n){var r,i=this.props.children,c=a.default.Children.toArray(i)[t];c.props[e]&&(r=c.props)[e].apply(r,n),this.props[e]&&this.props[e]((0,o.findDOMNode)(this))},c.render=function(){var e=this.props,t=e.children,n=e.in,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["children","in"]),i=a.default.Children.toArray(t),c=i[0],s=i[1];return delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,a.default.createElement(r.default,o,n?a.default.cloneElement(c,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):a.default.cloneElement(s,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},i}(a.default.Component);c.propTypes={};var s=c;t.default=s,e.exports=t.default},1439:function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=o,t.mergeChildMappings=r,t.getInitialChildMapping=function(e,t){return o(e.children,(function(n){return(0,a.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:i(n,"appear",e),enter:i(n,"enter",e),exit:i(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var c=o(e.children),s=r(t,c);return Object.keys(s).forEach((function(o){var r=s[o];if((0,a.isValidElement)(r)){var l=o in t,d=o in c,u=t[o],p=(0,a.isValidElement)(u)&&!u.props.in;!d||l&&!p?d||!l||p?d&&l&&(0,a.isValidElement)(u)&&(s[o]=(0,a.cloneElement)(r,{onExited:n.bind(null,r),in:u.props.in,exit:i(r,"exit",e),enter:i(r,"enter",e)})):s[o]=(0,a.cloneElement)(r,{in:!1}):s[o]=(0,a.cloneElement)(r,{onExited:n.bind(null,r),in:!0,exit:i(r,"exit",e),enter:i(r,"enter",e)})}})),s};var a=n(384);function o(e,t){var n=Object.create(null);return e&&a.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,a.isValidElement)(e)?t(e):e}(e)})),n}function r(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var a,o=Object.create(null),r=[];for(var i in e)i in t?r.length&&(o[i]=r,r=[]):r.push(i);var c={};for(var s in t){if(o[s])for(a=0;a<o[s].length;a++){var l=o[s][a];c[o[s][a]]=n(l)}c[s]=n(s)}for(a=0;a<r.length;a++)c[r[a]]=n(r[a]);return c}function i(e,t,n){return null!=n[t]?n[t]:e.props[t]}},1440:function(e,t,n){"use strict";var a=n(743),o=n.n(a),r=n(571),i=n.n(r),c=n(384),s=n.n(c),l=n(448),d=n.n(l),u=n(1028),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=function(e){return 0===s.a.Children.count(e)},g=function(e){function t(){var n,a;b(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=f(this,e.call.apply(e,[this].concat(r))),a.state={match:a.computeMatch(a.props,a.context.router)},f(a,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:p({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var n=e.computedMatch,a=e.location,o=e.path,r=e.strict,c=e.exact,s=e.sensitive;if(n)return n;i()(t,"You should not use <Route> or withRouter() outside a <Router>");var l=t.route,d=(a||l.location).pathname;return Object(u.a)(d,{path:o,strict:r,exact:c,sensitive:s},l.match)},t.prototype.componentWillMount=function(){o()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),o()(!(this.props.component&&this.props.children&&!h(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),o()(!(this.props.render&&this.props.children&&!h(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){o()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),o()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,n=t.children,a=t.component,o=t.render,r=this.context.router,i=r.history,c=r.route,l=r.staticContext,d={match:e,location:this.props.location||c.location,history:i,staticContext:l};return a?e?s.a.createElement(a,d):null:o?e?o(d):null:"function"===typeof n?n(d):n&&!h(n)?s.a.Children.only(n):null},t}(s.a.Component);g.propTypes={computedMatch:d.a.object,path:d.a.string,exact:d.a.bool,strict:d.a.bool,sensitive:d.a.bool,component:d.a.func,render:d.a.func,children:d.a.oneOfType([d.a.func,d.a.node]),location:d.a.object},g.contextTypes={router:d.a.shape({history:d.a.object.isRequired,route:d.a.object.isRequired,staticContext:d.a.object})},g.childContextTypes={router:d.a.object.isRequired},t.a=g},1441:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},1442:function(e,t,n){"use strict";var a={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r=Object.defineProperty,i=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,s=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,d=l&&l(Object);e.exports=function e(t,n,u){if("string"!==typeof n){if(d){var p=l(n);p&&p!==d&&e(t,p,u)}var b=i(n);c&&(b=b.concat(c(n)));for(var f=0;f<b.length;++f){var h=b[f];if(!a[h]&&!o[h]&&(!u||!u[h])){var g=s(n,h);try{r(t,h,g)}catch(y){}}}return t}return t}},1443:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(541),o=a.__importStar(n(384)),r=n(384),i=a.__importDefault(n(1444)),c=a.__importDefault(n(1445));t.default=function(e){return function(t){var n,s;s=o.isValidElement(t)?(n=t).props:t;var l=i.default({buffered:[],time:0,duration:0,paused:!0,muted:!1,volume:1}),d=l[0],u=l[1],p=r.useRef(null),b=function(e,t){return function(n){try{t&&t(n)}finally{e&&e(n)}}},f=function(){return u({paused:!1})},h=function(){return u({paused:!0})},g=function(){var e=p.current;e&&u({muted:e.muted,volume:e.volume})},y=function(){var e=p.current;if(e){var t=e.duration,n=e.buffered;u({duration:t,buffered:c.default(n)})}},O=function(){var e=p.current;e&&u({time:e.currentTime})},m=function(){var e=p.current;e&&u({buffered:c.default(e.buffered)})};n=n?o.cloneElement(n,a.__assign(a.__assign({controls:!1},s),{ref:p,onPlay:b(s.onPlay,f),onPause:b(s.onPause,h),onVolumeChange:b(s.onVolumeChange,g),onDurationChange:b(s.onDurationChange,y),onTimeUpdate:b(s.onTimeUpdate,O),onProgress:b(s.onProgress,m)})):o.createElement(e,a.__assign(a.__assign({controls:!1},s),{ref:p,onPlay:b(s.onPlay,f),onPause:b(s.onPause,h),onVolumeChange:b(s.onVolumeChange,g),onDurationChange:b(s.onDurationChange,y),onTimeUpdate:b(s.onTimeUpdate,O),onProgress:b(s.onProgress,m)}));var v=!1,j={play:function(){var e=p.current;if(e&&!v){var t=e.play();if("object"===typeof t){v=!0;var n=function(){v=!1};t.then(n,n)}return t}},pause:function(){var e=p.current;if(e&&!v)return e.pause()},seek:function(e){var t=p.current;t&&void 0!==d.duration&&(e=Math.min(d.duration,Math.max(0,e)),t.currentTime=e)},volume:function(e){var t=p.current;t&&(e=Math.min(1,Math.max(0,e)),t.volume=e,u({volume:e}))},mute:function(){var e=p.current;e&&(e.muted=!0)},unmute:function(){var e=p.current;e&&(e.muted=!1)}};return r.useEffect((function(){var e=p.current;e&&(u({volume:e.volume,muted:e.muted,paused:e.paused}),s.autoPlay&&e.paused&&j.play())}),[s.src]),[n,d,j,p]}}},1444:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(384);t.default=function(e){void 0===e&&(e={});var t=a.useState(e),n=t[0],o=t[1];return[n,a.useCallback((function(e){o((function(t){return Object.assign({},t,e instanceof Function?e(t):e)}))}),[o])]}},1445:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}},1448:function(e,t,n){var a=n(805);e.exports=function(e){return a(e,5)}},1449:function(e,t,n){var a=n(1007);e.exports=function(e,t,n){return null==e?e:a(e,t,n)}},1450:function(e,t,n){var a=n(667),o=n(197),r=Math.max;e.exports=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var c=null==n?0:o(n);return c<0&&(c=r(i+c,0)),a(e,t,c)}},1454:function(e,t,n){var a=n(207),o=n(662),r=n(203),i=n(13);e.exports=function(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],c=e;c--;)t[c-1]=arguments[c];return a(i(n)?r(n):[n],o(t,1))}},1455:function(e,t,n){var a=n(805);e.exports=function(e){return a(e,4)}},1456:function(e,t,n){var a=n(1457),o=n(85),r=/[&<>"']/g,i=RegExp(r.source);e.exports=function(e){return(e=o(e))&&i.test(e)?e.replace(r,a):e}},1457:function(e,t,n){var a=n(1009)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=a},1794:function(e,t,n){"use strict";var a=n(384),o=n.n(a),r=n(448),i=n.n(r),c=n(1442),s=n.n(c),l=n(1440),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.a=function(e){var t=function(t){var n=t.wrappedComponentRef,a=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(t,["wrappedComponentRef"]);return o.a.createElement(l.a,{children:function(t){return o.a.createElement(e,d({},a,t,{ref:n}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:i.a.func},s()(t,e)}},1846:function(e,t,n){"use strict";n.r(t),n.d(t,"init",(function(){return CO}));var a=n(724),o=n.n(a),r=n(725),i=n.n(r),c=n(196),s=n.n(c),l=n(82),d=n.n(l),u=n(15),p=n(12);const b=[],f=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];d()(t)||b.push(...t)};var h=n(726),g=n(436);const y="AVAILABLE",O="UN_AVAILABLE",m="PENDING";let v=m;const j=e=>{v=e?y:O},I=()=>v===O,E=()=>v===m,C="PENDING",S="SUCCESS",T="FAIL",_="EXPIRED";let x=C;const A=e=>{x=e},R=()=>x===C,N=()=>x===T,w=()=>x===_,L="INCORRECT_PAYLOAD",D="NETWORK_FAILURE",M="CHAT_UNAVAILABLE";var P=n(457),k=n.n(P),U=n(589);const F="APP_AVAILABLE",B="APP_IN_SESSION";function G(e,t){const n=Object(p.M)(t);if(d()(n))return;const a=k()(Object(u.a)(),{userContext:{$merge:n}});Object(u.f)(a),e({type:U.c,payload:n})}G.dependecies=[B];const V="@user/UPDATE_USER_SETTINGS";function z(e,t){e({type:V,payload:t})}z.dependecies=[B];var W=n(458);function $(e){e({type:W.f})}function H(e){Object(p.L)()&&e({type:W.d})}$.dependecies=[B],H.dependecies=[F];var K=n(553),q=n.n(K),Y=n(413),X=n.n(Y),Z=n(727);const J=e=>{let{topic:t,legacySubscriberMap:n,legacySubscriber:a,newSubscriber:o}=e;return Object(Z.b)(X.a,{topic:t,subscriber:o}),n.push({legacySubscriber:a,newSubscriber:o}),n},Q=e=>{let{topic:t,legacySubscriberMap:n,legacySubscriber:a}=e;const o=q()(n,(e=>{let{legacySubscriber:t}=e;return t===a}));return-1!==o&&(Object(Z.c)(X.a,{topic:t,subscriber:n[o].newSubscriber}),n.splice(o,1)),n};var ee=n(438);function te(e){Object(p.L)()&&e({type:W.b})}te.dependecies=[F];let ne=[];let ae=[];let oe=[];var re=n(665);function ie(e,t){e({type:re.a,payload:t})}function ce(e,t){e({type:re.b,payload:{promptId:t.id}})}ie.dependecies=[B,F],ce.dependecies=[B];let se=[];var le=n(13),de=n.n(le),ue=n(23),pe=n.n(ue),be=n(476),fe=n(666);const he="openNewConversation",ge="getAvailableAgents",ye="addFilterToEvaluate";function Oe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=de()(t)?t:s()(t,"initialMessages");new Promise(((a,o)=>{e(Object(fe.b)({initialMessages:n,conversationContext:s()(t,"conversationContext"),assignToUser:s()(t,"assignToUser"),createCase:!!s()(t,"autoInitiateConversation"),additional:!de()(t)&&pe()(t)?{...t.additional,externalCaseId:t.id}:void 0,silent:!!s()(t,"silent")},{resolve:a,reject:o}))})).then((e=>{Object(be.a)({topic:he,payload:{data:{conversationId:e},request:t}})})).catch((e=>{Object(be.a)({topic:he,payload:{error:e,request:t}})}))}Oe.dependecies=[B,F];var me=n(517);function ve(e,t){const n=Object(me.b)();0!==n.index?(n.goBack(),t(!0)):t(!1)}ve.dependecies=[F];var je=n(459),Ie=n.n(je),Ee=n(427);function Ce(e,t){Ie()(t.payload)?Object(be.a)({topic:Ee.y,payload:{error:L,request:t}}):e({type:Ee.y,payload:t})}function Se(e,t){e({type:Ee.k,payload:t})}function Te(e,t){const n=Object(p.M)(t);if(d()(n))return;const a=k()(Object(u.a)(),{clientContext:{$merge:n}});Object(u.f)(a),e({type:Ee.e,payload:{context:n}})}Ce.dependecies=[B,F],Se.dependecies=[B],Te.dependecies=[F];let _e=[];let xe=[];let Ae=[];let Re=[];function Ne(e){Object(p.L)()&&e({type:W.i})}function we(e){Object(p.L)()&&e({type:W.h})}Ne.dependecies=[B],we.dependecies=[F];let Le=[];const De="@commerce/ADD_TO_CART",Me="@commerce/UPDATE_CART",Pe="@commerce/REMOVE_FROM_CART";function ke(e,t){e({type:Me,payload:t})}function Ue(e,t){e({type:Pe,payload:t})}ke.dependecies=[B],Ue.dependecies=[B];var Fe=n(202),Be=n.n(Fe),Ge=n(446),Ve=n(627),ze=n.n(Ve);ze.a.validators.type.types.MobileClientType=function(e){return"IPHONE"===e||"IPHONE_VOIP"===e||"ANDROID"===e||"WINDOWS"===e||"WINDOWS_UNIVERSAL"===e};const We={mobileClientType:{type:"MobileClientType",presence:!0},appVersion:{type:"number",presence:!0},deviceId:{type:"string",presence:!0},deviceName:{type:"string"}},$e=Object.assign(Object.assign({},We),{deviceToken:{type:"string",presence:!0}});function He(e,t){if(t.appVersion=Be()(t.appVersion),n=t,ze()(n,$e))throw Object(g.a)("Invalid device registration payload",t),new Error(L);var n;return Ge.a.post("/livechat/event/push/register-device",t).then((()=>({}))).catch((()=>{throw new Error(D)}))}He.dependecies=[B];let Ke=[];function qe(e,t){if(t.appVersion=Be()(t.appVersion),n=t,ze()(n,We))throw Object(g.a)("Invalid device unregistration payload",t),new Error(L);var n;return Ge.a.post("/livechat/event/push/unregister-device",t).then((()=>({}))).catch((()=>{throw new Error(D)}))}qe.dependecies=[B];let Ye=[];let Xe=[];const Ze="NEW_MESSAGE",Je="MESSAGE_UPDATED",Qe="EXTERNAL_EVENT",et="CHAT_USER_UPDATED",tt="CHAT_USER_START_TYPING",nt="CHAT_USER_STOP_TYPING",at="LOCK_CONVERSATIONS",ot="UNLOCK_CONVERSATIONS",rt="CONVERSATION_UPDATED",it="VIDEO_CALL_STARTING",ct="VIDEO_CALL_ENDED",st="VIDEO_CALL_TOGGLE",lt="VIDEO_CALL_OFFER_ACCEPTED",dt="VIDEO_CALL_DECLINED",ut="VIDEO_CALL_MISSED",pt="CO_BROWSE_STATUS",bt="LIVE_CHAT_ASSIGNMENT_CHANGED",ft="ADD_TO_CART",ht="USER_SESSION_EXPIRED";function gt(e,t){const{type:n,...a}=t;switch(n){case Ze:{const t=a.cId;e(Object(fe.a)({conversationId:t}));break}}}gt.dependecies=[B,F];var yt=n(83),Ot=n.n(yt);const mt=e=>{Et(X.a,e)};let vt=null,jt=mt;function It(e,t){Ot()(t)&&(jt=t)}function Et(e,t){vt&&(vt(t),vt=null)}Object(Z.b)(X.a,{topic:ee.i,subscriber:e=>{let{response:{data:t}}=e;const{callBack:n,permissions:a}=t;vt=n,jt(a)}});const Ct=(e,t)=>{e({type:W.a,payload:{subscriber:t}})};Ct.dependecies=[B];const St=(e,t)=>{e({type:W.m,payload:{id:t.id}})};St.dependecies=[B];const Tt=e=>{Ge.a.post("/livechat/conversation/fetchAgentAvailabilityDetails").then((e=>{Object(be.a)({topic:ge,payload:{data:e.data}})})).catch((()=>{Object(be.a)({topic:ge,payload:{error:D}})}))};Tt.dependecies=[B];var _t=n(121);function xt(e,t){new Promise(((n,a)=>{e(Object(fe.a)({conversationId:t},{resolve:n,reject:a}))})).catch((e=>{Object(_t.b)(e)}))}xt.dependecies=[B,F];var At=n(988);const Rt={updateUserContext:[G],updateUserSettings:[z],open:[H],close:[te],onUnreadCountChange:[function(e,t){ae=J({topic:ee.l,legacySubscriberMap:ae,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(s()(n,"count"))}})}],offUnreadCountChange:[function(e,t){ae=Q({topic:ee.l,legacySubscriberMap:ae,legacySubscriber:t})}],onExternalEvent:[function(e,t){oe=J({topic:ee.f,legacySubscriberMap:oe,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],offExternalEvent:[function(e,t){oe=Q({topic:ee.f,legacySubscriberMap:oe,legacySubscriber:t})}],onClose:[function(e,t){ne=J({topic:ee.d,legacySubscriberMap:ne,legacySubscriber:t,newSubscriber:()=>{t()}})}],offClose:[function(e,t){ne=Q({topic:ee.d,legacySubscriberMap:ne,legacySubscriber:t})}],enable:[Ne],disable:[we],onAvailabilityChange:[function(e,t){Xe=J({topic:ee.c,legacySubscriberMap:Xe,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n.isChatVisible)}}),t(v===y)}],offAvailabilityChange:[function(e,t){Xe=Q({topic:ee.c,legacySubscriberMap:Xe,legacySubscriber:t})}],subscribeToUpdate:[Z.b],unsubscribeToUpdate:[Z.c],[ye]:[Ct],removeFilterToEvaluate:[St],openNewPrompt:[ie],clearPrompt:[ce],onPromptAction:[function(e,t){se=J({topic:ee.j,legacySubscriberMap:se,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],offPromptAction:[function(e,t){se=Q({topic:ee.j,legacySubscriberMap:se,legacySubscriber:t})}],[he]:[Oe],sendExternalEvent:[Ce],clearSession:[$],updateConversationContext:[Se],updateClientContext:[Te],onShowMedia:[function(e,t){Ae=J({topic:ee.h,legacySubscriberMap:Ae,legacySubscriber:t,newSubscriber:()=>{t()}})}],offShowMedia:[function(e,t){Ae=Q({topic:ee.h,legacySubscriberMap:Ae,legacySubscriber:t})}],onCloseMedia:[function(e,t){Re=J({topic:ee.g,legacySubscriberMap:Re,legacySubscriber:t,newSubscriber:()=>{t()}})}],offCloseMedia:[function(e,t){Re=Q({topic:ee.g,legacySubscriberMap:Re,legacySubscriber:t})}],onEvent:[function(e,t){Le=J({topic:ee.e,legacySubscriberMap:Le,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],offEvent:[function(e,t){Le=Q({topic:ee.e,legacySubscriberMap:Le,legacySubscriber:t})}],[ge]:[Tt],openExistingConversation:[xt],updateWidget:[function(e,t){const n=t.details.status;At.a[n]?e({type:W.o,payload:t}):(Object(g.a)("Invaild status code",n),Object(be.a)({topic:W.o,payload:{data:t,error:L}}))}],updateCart:[ke],removeFromCart:[Ue],registerDevice:[He,function(e,t){Object(be.a)({topic:ee.k,payload:{data:t,error:e}})}],onDeviceRegister:[function(e,t){Ke=J({topic:ee.k,legacySubscriberMap:Ke,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],offDeviceRegister:[function(e,t){Ke=Q({topic:ee.k,legacySubscriberMap:Ke,legacySubscriber:t})}],unregisterDevice:[qe,function(e,t){Object(be.a)({topic:ee.m,payload:{data:t,error:e}})}],onUnregisterDevice:[function(e,t){Ye=J({topic:ee.m,legacySubscriberMap:Ye,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],offUnregisterDevice:[function(e,t){Ye=Q({topic:ee.m,legacySubscriberMap:Ye,legacySubscriber:t})}],onLoad:[function(e,t){_e=J({topic:ee.a,legacySubscriberMap:_e,legacySubscriber:t,newSubscriber:()=>{t()}})}],offLoad:[function(e,t){_e=Q({topic:ee.a,legacySubscriberMap:_e,legacySubscriber:t})}],onLoadComplete:[function(e,t){xe=J({topic:ee.b,legacySubscriberMap:xe,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],offLoadComplete:[function(e,t){xe=Q({topic:ee.b,legacySubscriberMap:xe,legacySubscriber:t})}],goBack:[ve],onNotification:[gt],onSeekPermission:[It],offSeekPermission:[function(e){It(0,mt)}],grantPermission:[Et]},Nt=async()=>{if(!d()(b)){const e=b.shift();await Lt(...e),await Nt()}};async function wt(e,t,n){if(!t)return;for(var a=arguments.length,o=new Array(a>3?a-3:0),r=3;r<a;r++)o[r-3]=arguments[r];const i=[h.a.emit.bind(h.a),...o];try{const e=await t(...i);n&&n(void 0,e)}catch(c){Object(g.a)(c),n&&n(c)}}async function Lt(e){const t=Rt[e]&&Rt[e][0],n=Rt[e]&&Rt[e][1],a=t&&t.dependecies&&t.dependecies.includes(F),o=t&&t.dependecies&&t.dependecies.includes(B);for(var r=arguments.length,i=new Array(r>1?r-1:0),c=1;c<r;c++)i[c-1]=arguments[c];if(o||a)return a&&!o?I()?void(n&&n(M)):E()?void f([e,...i]):void wt(e,t,n,...i):o&&!a?N()||w()?void(n&&n(M)):R()?void f([e,...i]):void wt(e,t,n,...i):void(N()||w()||I()?n&&n(M):R()||E()?f([e,...i]):wt(e,t,n,...i));wt(e,t,n,...i)}var Dt=n(412),Mt=n.n(Dt),Pt=n(616),kt=n(125),Ut=n(7),Ft=n(6),Bt=n(1876);const Gt=Object(Ut.a)("isSSOAuthorized"),Vt=Object(Ut.a)("authToken"),zt=Object(Ut.a)("oneTimeToken");class Wt{}Wt.isSSOAuthorized=Object(Ft.a)(Gt),Wt.getAuthToken=Object(Ft.a)(Vt),Wt.hasIsSSOAuthorized=e=>e&&Object(Bt.a)("isSSOAuthorized",e),Wt.getOneTimeToken=Object(Ft.a)(zt);var $t=n(425),Ht=n(403),Kt=n(511),qt=n(792),Yt=n(454);var Xt=n(467);const Zt=async e=>{let{ssoId:t,conversationId:n,messageId:a}=e;const o=await(async e=>{let{ssoId:t,conversationId:n,messageId:a}=e;const{appId:o}=Object(u.a)(),r=[{key:"idpId",value:t},{key:"x-chat-token",value:await Object(Kt.a)(o)}];return n&&r.push({key:"conversationId",value:n}),a&&r.push({key:"messageId",value:a}),r})({ssoId:t,conversationId:n,messageId:a});return`https://prod-video-chat-chat.sprinklr.com/api/livechat/authenticate/begin?${Object(Xt.e)(o)}`},Jt=e=>Wt.isSSOAuthorized(kt.a.getUserSettings(Object(u.a)()))&&!!Ht.a.getAutoLoginSSOId($t.a.getCustomizationConfig(e)),Qt=async e=>{let{ssoId:t,conversationId:n,messageId:a}=e;const o=(e=>{const t=screen.width/2,n=screen.height/2,a=t-t/2,o=n-n/2;return window.open(e,"_blank",`height=${n},width=${t},top=${o},left=${a}`)})(await Zt({ssoId:t,conversationId:n,messageId:a}));return(()=>{const e=window.document.createElement("iframe");e.id="subscriberIframe",e.src=`https://live-chat-static.sprinklr.com/api/livechat/authenticate/listener.html?appId=${Object(u.a)().appId}`,e.style.visibility="hidden",window.document.body.appendChild(e)})(),new Promise(((e,t)=>{let n;n=setInterval((()=>{o&&o.closed&&(r(),t())}),1500);const a=async n=>{if(n.origin.match(/(sprinklr\.com)/g))try{const{params:t}=JSON.parse(n.data);await Object(Kt.i)(Object(u.a)().appId,t.authToken),e(t)}catch(a){t(),Object(_t.b)(a)}finally{r()}},r=()=>{clearInterval(n),window.removeEventListener("message",a)};window.addEventListener("message",a)})).finally((()=>{o&&o.close(),(()=>{const e=document.getElementById("subscriberIframe");e&&document.body.removeChild(e)})()}))};var en=n(447),tn=n(410);const nn=e=>{let{handshakeDetails:t,applicationConfig:n,getSessionToken:a}=e;if(a&&Object(Ge.b)({getSessionToken:a}),t&&Object(Ge.b)({userId:t.chatUser.userId}),n){const e=$t.a.getAutoExpireUserSessionTimeInMinutes(n),t=s()(n,"otherConfigs.settings.autoExpiryConfig.alertTime");Object(Ge.b)({sessionExpiryTimeInMinutes:e,sessionExpiryAlertTime:t})}},an=async e=>{const t=kt.a.getAppId(e),n=kt.a.getUserSettings(e),a=Wt.getAuthToken(n);if(Wt.hasIsSSOAuthorized(n)){const e=(e=>{if(e)try{return JSON.parse(atob(e.split(".")[1]))}catch(t){console.error("Unable to parse user token when isSSOAuthorized",e)}return tn.a})(await Object(Kt.a)(t));Object(en.b)(e.chatUserId)&&await Object(Kt.f)(t)}a&&(await Object(Kt.f)(t),await Object(Kt.i)(t,a))};async function on(e){const t=kt.a.getAppId(e),n=kt.a.getUserSettings(e),a=Mt()(kt.a.getUserSettings(e),["authToken","isSSOAuthorized","oneTimeToken"]),o=kt.a.getUserContext(e);let r,i;if(!!kt.a.getSessionOrigin(Object(u.a)())){const{primaryToken:e,secondaryToken:n}=await async function(e){let t,n,a;try{t=await Object(Kt.c)(e)}catch(i){console.warn(i)}try{n=await Object(Kt.b)(e,qt.a)}catch(i){console.warn(i)}try{a=await Object(Kt.b)(e,qt.b)}catch(i){console.warn(i)}const o=n||a||t;let r=a||t;return r=r===o?void 0:r,{primaryToken:o,secondaryToken:r}}(t);r=e,i=n}else r=await Object(Kt.c)(t);const c={appId:t,oneTimeToken:s()(n,"oneTimeToken"),chatSessionToken:r,secondaryChatToken:i,page:Object(Yt.b)(),pageTitle:Object(Yt.c)(),referralPage:Object(Yt.d)(),timezone:Object(Yt.f)(),userAgent:Object(Yt.e)(),locale:kt.a.getLocale(e),meetingId:kt.a.getMeetingId(e),otp:kt.a.getOtp(e)};if(!d()(a)){const{id:e,hash:t,...n}=a;Object.assign(c,{chatUser:{userId:e,...n},chatUserSignature:t})}return d()(o)||Object.assign(c,{customContext:o}),c}const rn=async e=>Object(Pt.c)(e),cn=async e=>{const t=await Object(Pt.a)(await on(e));if(!!kt.a.getSessionOrigin(Object(u.a)())&&await(async e=>{try{await Object(Kt.g)(e,qt.d)}catch(t){console.warn(t)}try{await Object(Kt.g)(e,qt.b)}catch(t){console.warn(t)}})(kt.a.getAppId(e)),await Object(Kt.i)(kt.a.getAppId(e),t.chatSessionToken),!t.userPreferences){const e=await Object(Kt.e)(t.chatUser.userId);return{...t,userPreferences:e}}return t},sn=e=>{h.a.on(e),A(S)},ln=async()=>{A(T),j(!1),await Nt(),Object(be.a)({topic:ee.b,payload:{error:!0}})};var dn=n(128),un=n(728),pn=n.n(un);function bn(e){const t=Object(_t.a)();t&&t.setUser&&t.setUser({id:e.userId,username:pn()(`${e.firstName||""} ${e.lastName||""}`),email:e.email||""})}var fn=n(384),hn=n.n(fn),gn=n(486),yn=n.n(gn),On=n(743),mn=n.n(On),vn=n(571),jn=n.n(vn),In=n(448),En=n.n(In),Cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function Sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var _n=function(e){function t(){var n,a;Sn(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=Tn(this,e.call.apply(e,[this].concat(r))),a.state={match:a.computeMatch(a.props.history.location.pathname)},Tn(a,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:Cn({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,a=t.history;jn()(null==n||1===hn.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=a.listen((function(){e.setState({match:e.computeMatch(a.location.pathname)})}))},t.prototype.componentWillReceiveProps=function(e){mn()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?hn.a.Children.only(e):null},t}(hn.a.Component);_n.propTypes={history:En.a.object.isRequired,children:En.a.node},_n.contextTypes={router:En.a.object},_n.childContextTypes={router:En.a.object.isRequired};var xn=_n,An=n(477),Rn=n(385),Nn=n(389),wn=n(1294),Ln=n(730),Dn=n(523),Mn=n.n(Dn),Pn=n(424),kn=n(538),Un=n(657),Fn=n(450),Bn=n(396);const Gn=e=>Object(Fn.c)(Object(Bn.b)(e)),Vn=e=>{const t=Object(kn.a)(),n=Object(Pn.a)(),a=Object(Nn.d)(Gn),o=$t.a.getVisibilityConfigFilter(n),{hasPassed:r}=Object(Un.a)(o,{logOnSuccess:!0,defaultValue:!1}),i=!r&&a;return Object(fn.useEffect)((()=>{r&&Object(g.a)("Sprinklr Chat hidden by visibility criteria"),a||Object(g.a)("Sprinklr Chat disabled by sdk"),j(i),Object(be.a)({topic:ee.c,payload:{data:{isChatVisible:i}}})}),[r,a,i]),Object(fn.useEffect)((()=>((async()=>{await Nt(),Object(be.a)({topic:ee.a,payload:{}}),Object(be.a)({topic:ee.b,payload:{error:!1}})})(),()=>{Object(be.a)({topic:ee.c,payload:{data:{isChatVisible:!1}}})})),[]),Mn()((()=>{Nt()}),[t]),i?e.children:null};var zn=hn.a.memo(Vn),Wn=n(827),$n=n(663),Hn=n(1019),Kn=n(455);var qn=e=>{const t=Object(kn.a)(),n=Object(Wn.a)(Object($n.a)()),a=Object(Wn.a)(Object($n.b)()),o=Object(Wn.a)(Object(Nn.c)());return Object(fn.useEffect)((()=>{n.current&&(o.current({type:Kn.c}),a.current&&o.current({type:Kn.b}))}),[n.current,a.current]),Object(fn.useLayoutEffect)((()=>{n.current&&(Object(me.a)(),Object(Hn.b)())}),[n.current]),Mn()((()=>{Object(p.L)()&&!a.current&&o.current({type:W.d})}),[t]),e.children},Yn=n(741),Xn=n(825);const Zn=e=>Object(Rn.jsx)(Xn.a,null,Object(Rn.jsx)(Yn.b,null,e.children));var Jn=n(591),Qn=n(391),ea=n(388),ta=n(395),na=n(632),aa=n(1440),oa=n(1028);function ra(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ia(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var ca=function(e){function t(){return ra(this,t),ia(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){jn()(this.context.router,"You should not use <Switch> outside a <Router>")},t.prototype.componentWillReceiveProps=function(e){mn()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),mn()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var e=this.context.router.route,t=this.props.children,n=this.props.location||e.location,a=void 0,o=void 0;return hn.a.Children.forEach(t,(function(t){if(null==a&&hn.a.isValidElement(t)){var r=t.props,i=r.path,c=r.exact,s=r.strict,l=r.sensitive,d=r.from,u=i||d;o=t,a=Object(oa.a)(n.pathname,{path:u,exact:c,strict:s,sensitive:l},e.match)}})),a?hn.a.cloneElement(o,{location:n,computedMatch:a}):null},t}(hn.a.Component);ca.contextTypes={router:En.a.shape({route:En.a.object.isRequired}).isRequired},ca.propTypes={children:En.a.node,location:En.a.object};var sa=ca,la=n(1030),da=n(1029),ua=n.n(da),pa={},ba=0,fa=function(e){var t=e,n=pa[t]||(pa[t]={});if(n[e])return n[e];var a=ua.a.compile(e);return ba<1e4&&(n[e]=a,ba++),a},ha=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("/"===e)return e;var n=fa(e);return n(t,{pretty:!0})},ga=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function ya(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oa(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var ma=function(e){function t(){return ya(this,t),Oa(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){jn()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.componentDidUpdate=function(e){var t=Object(la.a)(e.to),n=Object(la.a)(this.props.to);Object(la.b)(t,n)?mn()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"'):this.perform()},t.prototype.computeTo=function(e){var t=e.computedMatch,n=e.to;return t?"string"===typeof n?ha(n,t.params):ga({},n,{pathname:ha(n.pathname,t.params)}):n},t.prototype.perform=function(){var e=this.context.router.history,t=this.props.push,n=this.computeTo(this.props);t?e.push(n):e.replace(n)},t.prototype.render=function(){return null},t}(hn.a.Component);ma.propTypes={computedMatch:En.a.object,push:En.a.bool,from:En.a.string,to:En.a.oneOfType([En.a.string,En.a.object]).isRequired},ma.defaultProps={push:!1},ma.contextTypes={router:En.a.shape({history:En.a.shape({push:En.a.func.isRequired,replace:En.a.func.isRequired}).isRequired,staticContext:En.a.object}).isRequired};var va=ma,ja=n(386);const Ia=Object(ja.a)("div",{target:"ejhhbev0"})({name:"jbngkd",styles:"display:flex;flex-direction:column;height:100%;width:100%;position:relative;"}),Ea=Object(Rn.css)("@media screen and (min-width:",649,"px) and (min-height:",601,"px){border-radius:8px;}"),Ca="page-fade",Sa={name:"1ih49i4",styles:"opacity:0;z-index:1;overflow:hidden;"},Ta={name:"h3fsyk",styles:"opacity:1;transition:opacity 0.16s ease-in;overflow:hidden;"},_a=Object(Rn.css)(".",Ca,"-enter{",Sa,";}.",Ca,"-enter.",Ca,"-enter-active{",Ta,";}.",Ca,"-exit{",Ta,";}.",Ca,"-exit.",Ca,"-exit-active{",Sa,";}");var xa=n(426),Aa=n.n(xa),Ra=n(387),Na=n(503);const wa="snackbar",La=Object(ja.a)("div",{target:"egs66bu0"})("font-size:",Object(Ra.e)("xs"),";margin:0 auto;position:absolute;top:20%;z-index:",Na.a.SNACK_BAR,";"),Da=Object(ja.a)("div",{target:"egs66bu1"})("background:",Object(Ra.f)("snackBar.backgroundColor"),";color:",Object(Ra.b)("white"),";max-width:70%;border-radius:",Object(Ra.a)("snackBar.borderRadius"),";padding:",Object(Ra.h)("snackBar.padding"),";"),Ma=Object(Rn.css)(".",wa,"-enter{transform:translateY(-20%);transition:transform 250ms ease-in;}.",wa,"-enter-active{transform:translateY(0);}.",wa,"-exit{transform:translateY(0);transition:transform 250ms ease-out;}.",wa,"-exit-active{transform:translateY(-20%);}");var Pa=n(540);var ka=()=>{const{notification:e,setNotification:t}=Object(Pa.a)(),n=Object(fn.useRef)(),a=Object(fn.useMemo)((()=>s()(e,"timeout")||2e3),[e]);return Object(fn.useEffect)((()=>{e&&(window.clearTimeout(n.current),n.current=window.setTimeout((()=>{t(void 0)}),a))}),[e,a]),Object(Rn.jsx)(hn.a.Fragment,null,Object(Rn.jsx)(Rn.Global,{styles:Ma}),Object(Rn.jsx)(na.CSSTransition,{classNames:wa,in:Boolean(e),timeout:{enter:250,exit:250},mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(Rn.jsx)(La,{className:"center-x-y full-width"},e?Object(Rn.jsx)(Da,{className:"text-wrap"},(o=e.message,Aa()(o)?o:Object(Rn.jsx)(ea.b,o))):null)));var o},Ua=n(961),Fa=n(742),Ba=n(673);const Ga=e=>{let{children:t,locationKey:n}=e;return Object(Rn.jsx)(na.TransitionGroup,null,Object(Rn.jsx)(na.CSSTransition,{key:n,classNames:Ca,timeout:300},t))};var Va=()=>Object(Rn.jsx)(hn.a.Fragment,null,Object(Rn.jsx)(ka,null),Object(Rn.jsx)(Rn.Global,{styles:_a}),Object(Rn.jsx)(Ia,null,Object(Rn.jsx)(aa.a,{render:e=>{let{location:t}=e;return Object(Rn.jsx)(Ga,{locationKey:t.pathname},Object(Rn.jsx)(Ua.a,{css:Ea},(e=>{let{LogoutPage:n,HomePage:a,ConversationPage:o,ConversationsListPage:r,SurveyPage:i,Error401Page:c,KnowledgeBasePage:s,KnowledgeBaseCategoriesPage:l,KnowledgeBaseArticlePage:d}=e;return Object(Rn.jsx)(sa,{location:t},Object(Rn.jsx)(aa.a,{exact:!0,path:"/logout",component:n}),Object(Rn.jsx)(aa.a,{exact:!0,path:"/home",component:a}),Object(Rn.jsx)(aa.a,{exact:!0,path:"/survey/:surveyUrl",component:i}),Object(Rn.jsx)(aa.a,{exact:!0,path:"/knowledge-base/categories/:categoryId",component:s}),Object(Rn.jsx)(aa.a,{exact:!0,path:"/knowledge-base/categories/:categoryId/categories",component:l}),Object(Rn.jsx)(aa.a,{exact:!0,path:"/knowledge-base"},Object(Rn.jsx)(va,{to:`/knowledge-base/categories/${Ba.a}`})),Object(Rn.jsx)(aa.a,{exact:!0,path:"/knowledge-base/article/:articleId",component:d}),Object(Rn.jsx)(aa.a,{path:"/conversation",render:e=>{let{match:t}=e;return Object(Rn.jsx)(sa,null,Object(Rn.jsx)(aa.a,{exact:!0,path:`${t.path}/all`,component:r}),Object(Rn.jsx)(aa.a,{exact:!0,path:`${t.path}/new/:transientConversationId?`,render:e=>Object(Rn.jsx)(o,Object(Qn.a)({},e,{pageType:Fa.a.NEW}))}),Object(Rn.jsx)(aa.a,{exact:!0,path:`${t.path}/last`,render:e=>Object(Rn.jsx)(o,Object(Qn.a)({},e,{pageType:Fa.a.LAST}))}),Object(Rn.jsx)(aa.a,{exact:!0,path:`${t.path}/:conversationId/survey/:surveyUrl`,component:i}),Object(Rn.jsx)(aa.a,{path:`${t.path}/:conversationId`,render:e=>Object(Rn.jsx)(o,Object(Qn.a)({},e,{pageType:Fa.a.EXISTING}))}),Object(Rn.jsx)(aa.a,{render:()=>Object(Rn.jsx)("div",null,"Not Found")}))}}),Object(Rn.jsx)(aa.a,{exact:!0,path:"/401",component:c}))})))}}))),za=n(126);const Wa=Object(Rn.css)("padding-top:env(safe-area-inset-top);@media screen and (min-width:",649,"px) and (min-height:",601,"px){border-radius:8px;}");var $a=()=>Object(Rn.jsx)(hn.a.Fragment,null,Object(Rn.jsx)(aa.a,{render:e=>{let{location:t}=e;return Object(Rn.jsx)(Ua.a,{css:Wa},(e=>{let{LogoutPage:n,ConversationPage:a,SurveyPage:o,Error401Page:r}=e;return Object(Rn.jsx)(sa,{location:t},Object(Rn.jsx)(aa.a,{exact:!0,path:"/logout",component:n}),Object(Rn.jsx)(aa.a,{exact:!0,path:"/home"},Object(Rn.jsx)(va,{to:"/conversation/new"})),Object(Rn.jsx)(aa.a,{exact:!0,path:"/survey/:surveyUrl",component:o}),Object(Rn.jsx)(aa.a,{path:"/conversation",render:e=>{let{conversationLocation:t,match:n}=e;return Object(Rn.jsx)(sa,{location:t},Object(Rn.jsx)(aa.a,{exact:!0,path:`${n.path}/new/:transientConversationId?`,render:e=>Object(Rn.jsx)(a,Object(Qn.a)({key:e.match.params.transientConversationId||za.e},e,{pageType:Fa.a.NEW}))}),Object(Rn.jsx)(aa.a,{exact:!0,path:`${n.path}/last`,render:e=>Object(Rn.jsx)(a,Object(Qn.a)({},e,{pageType:Fa.a.LAST}))}),Object(Rn.jsx)(aa.a,{exact:!0,path:`${n.path}/:conversationId/survey/:surveyUrl`,component:o}),Object(Rn.jsx)(aa.a,{path:`${n.path}/:conversationId`,render:e=>Object(Rn.jsx)(a,Object(Qn.a)({key:e.match.params.conversationId},e,{pageType:Fa.a.EXISTING}))}))}}),Object(Rn.jsx)(aa.a,{exact:!0,path:"/401",component:r}))}))}}),Object(Rn.jsx)(ka,null)),Ha=n(621),Ka=n(1283),qa=n(793),Ya=n(1290),Xa=n(398);const Za=e=>`spr-cobrowse-state_${e}`,Ja=!!kt.a.getSessionOrigin(Object(u.a)());var Qa={get:async e=>{try{const t=Za(e);if(!Ja)return qt.d.getItem(t);const n=await qt.c.getItem(t);if(!n){const e=await qt.d.getItem(t);if(e)return qt.d.removeItem(t),await qt.c.setItem(t,e),e}return n}catch(t){return void console.warn(t)}},set:(e,t)=>Ja?qt.c.setItem(Za(e),t):qt.d.setItem(Za(e),t),remove:e=>Ja?qt.c.removeItem(Za(e)):qt.d.removeItem(Za(e))},eo=n(676),to=n(401),no=n(834);const ao=Object(to.a)((()=>Promise.all([n.e(0),n.e(18)]).then(n.bind(null,1849)))),oo={endCobrowseSession:eo.c,resumeCobrowseSession:eo.n,markCobrowseSessionFailed:eo.e};var ro=()=>{const e=Object(Nn.d)(Bn.f),{endCobrowseSession:t,resumeCobrowseSession:n,markCobrowseSessionFailed:a}=Object(Xa.a)(oo),o=Object(fn.useCallback)((()=>{t({messageId:e.messageId})}),[e.messageId]),{appId:r}=Object(fn.useMemo)((()=>Object(u.a)()),[]);return Object(fn.useEffect)((()=>{(async()=>{const e=await Qa.get(r);try{if(e){const{conversationId:t,messageId:a,agentId:o}=JSON.parse(e);n({state:{conversationId:t,messageId:a,agentId:o}})}}catch{a({reason:no.a.RESUME_SESSION_FAILED})}})()}),[n,r]),d()(e)?null:Object(Rn.jsx)(fn.Suspense,{fallback:Object(Rn.jsx)(Ya.a,{sessionState:e.sessionState,onStopSession:o})},Object(Rn.jsx)(ao,{cobrowseState:e}))},io=n(535),co=n(573);const so=Object(ja.a)(io.a,{target:"e1ogxy6u0"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),lo=Object(ja.a)("div",{target:"e1ogxy6u1"})("height:100%;width:100%;display:flex;align-items:center;justify-content:center;background-image:",Object(Ra.f)("page.gradients"),";background-color:",Object(Ra.f)("page.backgroundColor"),";"),uo=Object(ja.a)("div",{target:"e1ogxy6u2"})("height:calc( 100% - ",(e=>{const{absoluteValue:t,unit:n}=Object(Ra.c)("page.minPadding",{defaultUnit:"px"})(e);return 2*t+n})," );width:calc( 100% - ",(e=>{const{absoluteValue:t,unit:n}=Object(Ra.c)("page.minPadding",{defaultUnit:"px"})(e);return 2*t+n})," );border-radius:",(e=>Object(Ra.c)("page.minPadding",{defaultUnit:"px"})(e).absoluteValue?"8px":"0px"),";box-shadow:0 2px 15px 0 rgba(0,0,0,0.2);overflow:hidden;background-color:",Object(Ra.b)("white"),";",(e=>!e.isPhone&&!Object(co.a)()&&"max-width: 648px;\n    max-height: 95%;"),";"),po={name:"2b9rdz",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}"};var bo=n(392),fo=n(419),ho=n(835),go=n(542);const yo="CONVERSATION",Oo="CONVERSATION_LIST",mo="KNOWLEDGE_BASE",vo="KNOWLEDGE_BASE_LIST",jo="SURVEY",Io=["/conversation/"],Eo={survey:jo,401:"401",home:"HOME"};var Co=n(439);const So=()=>{var e;const t=Object(fo.a)(),n=Object(go.a)(),a=null===n||void 0===n||null===(e=n.location)||void 0===e?void 0:e.pathname,o=null===n||void 0===n?void 0:n.action,r=Object(fn.useMemo)((()=>(e=>{let t;const n=null===e||void 0===e?void 0:e.split("/");if(n&&n.length>1)switch(n[1]){case"knowledge-base":n.length>2&&(t="article"===n[2]?mo:vo);break;case"conversation":n.length>3&&"survey"===n[3]?t=jo:n.length>2&&(t="all"===n[2]?Oo:yo);break;default:t=Eo[n[1]]}return t})(a)),[a]);Object(fn.useEffect)((()=>{r&&((e,t)=>!("REPLACE"===t&&Io.filter((t=>null===e||void 0===e?void 0:e.match(t))).length))(a,o)&&t({action:Co.a.PAGE_OPENED,additional:{value:r}})}),[r,a])};var To=n(420);const _o=Object(to.a)((()=>Promise.all([n.e(0),n.e(100)]).then(n.bind(null,1862)))),xo=e=>{const t=Object(bo.a)(),n=Object(fo.a)();return So(),Object(fn.useEffect)((()=>(n({action:Co.a.CONVERSATION_WINDOW_OPENED}),()=>{n({action:Co.a.CONVERSATION_WINDOW_CLOSED})})),[]),Object(Rn.jsx)(lo,null,Object(Rn.jsx)(uo,{ref:e.pageBoxRef,className:"spr",isPhone:t},Object(p.B)()?Object(Rn.jsx)($a,null):Object(Rn.jsx)(Va,null)))};var Ao=Object(ea.h)((e=>{const t=Object(Pn.a)(),n=Object(fn.useRef)(),a=Object(ta.b)(),o=e.intl.formatMessage,r=Object(ho.a)(),i=Object(Xa.a)(An.e),c=Object(fn.useCallback)((()=>{r(n),i()}),[r,i]);return Object(Rn.jsx)(hn.a.Fragment,null,Object(Rn.jsx)(Ka.a,{theme:a}),Object(Rn.jsx)(so,{"aria-label":o(To.a.liveChatBox),name:"spr-chat__page-frame",contentDidMount:c},Object(Rn.jsx)(Rn.Global,{styles:po}),t&&t.autoExpireUserSessionTimeInMinutes?Object(Rn.jsx)(fn.Suspense,{fallback:null},Object(Rn.jsx)(_o,null)):null,Object(Rn.jsx)(xo,Object(Qn.a)({},e,{pageBoxRef:n}))),Object(Rn.jsx)(qa.b,{parentFrameRef:n}),Object(Rn.jsx)(ro,null),Object(Rn.jsx)(Ha.b,null))})),Ro=n(557),No=n(123),wo=n.n(No),Lo=n(1448),Do=n.n(Lo),Mo=n(1449),Po=n.n(Mo);const ko=(e,t)=>{const n=[];return wo()(e,((e,a)=>{"filters"===a?wo()(e,(e=>{let{filter:a,value:o}=e;d()(a)||d()(o)||n.push({field:a.field,filterType:a.fieldType||a.filterType,filters:a.filters,values:a.values,details:{...a.details,path:t,value:o}})})):n.push(...ko(e,t?`${t}.${a}`:a))})),n};var Uo=e=>{const t=Object(fn.useMemo)((()=>ko(s()(e,"styleFilters"),"")),[e]),n=Object(Un.a)(t),a=(e=>{let{styles:t,flatFilters:n,evaluatedFilters:a}=e;const o=Do()(t);return wo()(n,((e,t)=>{a[t].hasPassed&&e.details&&Po()(o,e.details.path,{...s()(o,e.details.path),...e.details.value})})),o})({styles:s()(e,"styles"),flatFilters:t,evaluatedFilters:n});return{...e,styles:a}};var Fo=e=>{const t=Object(ta.b)(),n=Uo(t);return Object(Rn.jsx)(ta.a,{theme:n},e.children)},Bo=n(948),Go=n(1302),Vo=n(1040),zo=n(400),Wo=n(519);const $o=Object(to.a)((()=>Promise.all([n.e(0),n.e(100)]).then(n.bind(null,1862)))),Ho=e=>Object(Fn.g)(Object(Bn.b)(e)),Ko=Object(ea.h)((e=>{const t=Object(Pn.a)(),n=Object(Nn.d)(Ho),a=e.intl.formatMessage,o=Object(zo.a)(),r=Ht.a.isTriggerHiddenWhenMaximised(o),i=Object(fo.a)(),c=Object(bo.a)(),s=Object(fn.useRef)(),l=Object(ho.a)(),d=Object(Xa.a)(An.e),[u,b]=Object(fn.useState)(!1),f=Object(ta.b)();So();const h=Object(fn.useCallback)((e=>{b(e)}),[]);Mn()((()=>{const e=n?Wo.a.CONVERSATION_WINDOW_CLOSED:Wo.a.CONVERSATION_WINDOW_OPENED;i({action:e})}),[n]);const g=Object(fn.useCallback)((()=>{l(s),d()}),[l]),y=Object(fn.useMemo)((()=>({setIsFrameMaximized:h,isFrameMaximized:u})),[h,u]),O=Object(Go.f)({theme:f});return Object(Rn.jsx)(hn.a.Fragment,null,Object(Rn.jsx)(Rn.Global,{styles:O}),Object(Rn.jsx)(na.CSSTransition,{in:!n,classNames:Go.d,timeout:{enter:500,exit:500},mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(Rn.jsx)(Vo.a.Provider,{value:y},Object(Rn.jsx)(Go.a,{className:"spr-chat__box spr-live-chat-frame",ref:e.frameRef,isPhone:c,alignWithChatTrigger:!!r,isMaximized:u},Object(Rn.jsx)(Go.c,{isPhone:c},Object(Rn.jsx)(Go.b,{"aria-label":a(To.a.liveChatBox),name:"spr-chat__box-frame",isPhone:c,contentDidMount:g},Object(Rn.jsx)(Rn.Global,{styles:Go.e}),Object(Rn.jsx)("div",{className:"full-height full-width",ref:s},t&&t.autoExpireUserSessionTimeInMinutes?Object(Rn.jsx)(fn.Suspense,{fallback:null},Object(Rn.jsx)($o,null)):null,Object(p.B)()?Object(Rn.jsx)($a,null):Object(Rn.jsx)(Va,null))))))))}));var qo=hn.a.forwardRef(((e,t)=>Object(Rn.jsx)(Ko,{frameRef:t}))),Yo=n(437),Xo=n.n(Yo),Zo=n(558),Jo=n(677),Qo=n.n(Jo),er=n(838),tr=n(537);const nr=e=>{let{prompt:t,isLocked:n}=e;if(!n)return t;const{buttons:a=tr.a}=t,o=(e=>e.length&&Qo()(e,(e=>e.type!==er.b.NEW_CONVERSATION)))(a);return o?t:void 0};var ar=n(404),or=n(409);const rr=Object(to.a)((()=>n.e(45).then(n.bind(null,1851)))),ir=e=>Object(Fn.f)(Object(Bn.b)(e)),cr=e=>Object(or.b)(Object(or.p)(Object(ar.c)(e)));var sr=e=>{const t=Object(Nn.d)(Bn.d),n=Object(Nn.d)(ir),{isLocked:a,lockReason:o}=Object(Zo.a)(),r=Object(Nn.d)(cr),i=Object(fn.useRef)();return i.current=Object(fn.useMemo)((()=>{if(i.current){const e=i.current.id,n=Xo()(t,(t=>t.id===e));if(!d()(n)){const e=nr({prompt:n,isLocked:a});if(e)return e}}return Xo()(t,(e=>{const t=nr({prompt:e,isLocked:a});if(t)return t}))}),[t,a]),d()(i.current)||n||!r?(a&&Object(g.a)("Cannot initiate prompt: ",o),null):Object(Rn.jsx)(fn.Suspense,{fallback:null},Object(Rn.jsx)(rr,Object(Qn.a)({},e,{visiblePrompt:i.current})))},lr=n(630),dr=n(798);const ur=Object(ja.a)("div",{target:"egvnsbi0"})("display:flex;background:transparent;overflow:hidden;border-radius:",(e=>Object(Ra.a)("trigger.overlayIconButton.borderRadius",Object(Ra.f)("trigger.overlayIconButton.button.height")(e)/2+"px")(e)),";bottom:",(e=>Object(Bo.b)(e)),"px;height:",Object(Ra.f)("trigger.overlayIconButton.button.height"),"px;",(e=>Object(Bo.d)({leftOffset:Object(Bo.e)(e),rightOffset:Object(Bo.e)(e)})(e)),";width:",Object(Ra.f)("trigger.overlayIconButton.button.width"),"px;position:fixed;transform:translatez(",(e=>Object(Ra.f)("frame.translateZ")(e)),"px);"),pr=Object(ja.a)(io.a,{target:"egvnsbi1"})({name:"1aywylc",styles:"border:0 none;box-shadow:0 2px 32px 0 rgba(0,0,0,0.15),0 1px 6px 0 rgba(0,0,0,0.09);height:100%;width:100%;"}),br=Object(ja.a)(dr.a,{target:"egvnsbi2"})("font-size:",Object(Ra.f)("trigger.overlayIconButton.fontSize"),";height:",Object(Ra.f)("trigger.overlayIconButton.button.height"),"px;width:",Object(Ra.f)("trigger.overlayIconButton.button.width"),"px;line-height:",Object(Ra.f)("trigger.overlayIconButton.button.height"),"px;border-radius:",(e=>Object(Ra.a)("trigger.overlayIconButton.borderRadius",Object(Ra.f)("trigger.overlayIconButton.button.height")(e)/2+"px")(e)),";"),fr="spr-chat-proactive-box-anim",hr=Object(Rn.css)(".",fr,"-enter{opacity:0;}.",fr,"-enter.",fr,"-enter-active{opacity:1;transition:opacity 0.3s ease,transform 0.15s ease;}.",fr,"-enter-done,.",fr,"-appear{}.",fr,"-exit{opacity:1;}.",fr,"-exit.",fr,"-exit-active{opacity:0;transition:opacity 0s ease,transform 0s ease;}"),gr=Object(ja.a)("div",{target:"egvnsbi3"})("position:relative;z-index:",(e=>Object(Ra.f)("frame.zIndex")(e)),";");var yr=n(578);const Or=Object(lr.a)((e=>Object(Fn.g)(Object(Bn.b)(e))),(e=>Object(Fn.f)(Object(Bn.b)(e))),(e=>Object(or.v)(Object(or.p)(Object(Bn.c)(e)))),((e,t,n)=>({isMinimized:e,isChatTriggerHidden:t,totalUnreadCount:n})));var mr=Object(ea.h)((e=>{const{isMinimized:t,totalUnreadCount:n,isChatTriggerHidden:a}=Object(Nn.d)(Or),o=Object(ta.b)(),r=e.intl.formatMessage;return a?null:Object(Rn.jsx)(hn.a.Fragment,null,Object(Rn.jsx)(Rn.Global,{styles:hr}),Object(Rn.jsx)(na.CSSTransition,{in:t,timeout:{enter:300,exit:0},classNames:fr,mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(Rn.jsx)(gr,{className:"notification-container"},Object(Rn.jsx)(yr.a,{unreadCount:n,shouldPlay:!0}),n>0&&Object(Rn.jsx)(ur,{className:"spr-chat__notification-box spr-live-chat-frame",theme:o},Object(Rn.jsx)(pr,{name:"spr-chat__notification-frame","aria-label":r(To.a.liveChatNotification)},Object(Rn.jsx)(br,{className:"center-x-y",count:n}))))))}));var vr=()=>{const e=Object(fn.useRef)(null);return Object(Rn.jsx)(hn.a.Fragment,null,Object(Rn.jsx)(sr,{chatBoxFrameRef:e}),Object(Rn.jsx)(Bo.a,null),Object(Rn.jsx)(mr,null),Object(Rn.jsx)(qo,{ref:e}),Object(Rn.jsx)(qa.b,{parentFrameRef:e}),Object(Rn.jsx)(ro,null),Object(Rn.jsx)(Ha.b,null))},jr=n(660),Ir=n(576),Er=n(1020);const Cr=e=>Object(Rn.jsx)(Er.a.Provider,{value:Object(fn.useState)(void 0)},e.children);var Sr=n(1021),Tr=n(1017),_r=n(797),xr=n(1039),Ar=n(799);const Rr=hn.a.createContext("MODERN");var Nr=e=>Object(Rn.jsx)(Rr.Provider,{value:e.skin},e.children),wr=n(839),Lr=n(1042);var Dr=n(675),Mr=n.n(Dr),Pr=n(501),kr=n.n(Pr),Ur=n(1454),Fr=n.n(Ur),Br=n(1455),Gr=n.n(Br),Vr=n(132),zr=n.n(Vr),Wr=n(629),$r=n.n(Wr),Hr=n(539),Kr=n(1043);const qr="CLASSIC",Yr="MODERN",Xr="HYPERSPACE";var Zr=n(429),Jr=n(433),Qr=n(480),ei=n(746),ti=n(635);const ni=ei.a.CROSS;function ai(e){return Object(Zr.e)(e)||Object(Zr.d)(e)?e:Hr.a.charcoal}const oi=ei.a.CHEVRON;function ri(e){return Object(Zr.e)(e)||Object(Zr.d)(e)?e:Hr.a.charcoal}const ii={[qr]:e=>{const{colors:t,typography:{fontSizes:n,fontFamily:a},styles:o}=e,r=Object(Zr.b)(t.primary),i=(Object(Zr.g)(.1,t.primary,t.white),Object(Zr.c)(t.primary)),c=ai(t.primary),l=function(e){const t=ai(e);return t?Object(Zr.l)(Object(Zr.d)(t)?.95:.85,t):""}(t.primary),d=s()(o,"chatConversation.body.backgroundColor",t.white),u=Object(Zr.c)(d),p=Object(Ra.f)("trigger.closeIcon.type")({theme:e})||ni,b=s()(o,"chatMessage.secondary.backgroundColor",t.azure);return{frame:{borderRadius:"8px",height:"600px",width:380,maximizedWidth:688,zIndex:2147483001,translateZ:1e5,align:ti.a.TRIGGER_RIGHT_BOX_RIGHT},call:{height:"240px",card:{appointmentBlock:{borderRadius:20,background:"linear-gradient(107deg, rgba(216, 201, 255, 0.25) 1%, rgba(213, 230, 255, 0.3))",paddingTop:12,paddingBottom:12,paddingLeft:20,paddingRight:20,marginTop:16,button:{size:Qr.c.MEDIUM,variant:Qr.d.PRIMARY,overrides:{marginTop:18}}}}},body:{backgroundColor:t.white,color:i,fontFamily:a,fontSize:"1.2rem",lineHeight:1.4,letterSpacing:-.12,gradients:s()(o,"header.gradients",`linear-gradient(64deg, ${Object(Jr.d)(t.primary).join(",")})`)},page:{minPadding:"2.5%",backgroundColor:Object(Zr.g)(.5,Object(Zr.l)(.85,t.charcoal),Object(Zr.l)(.95,t.primary))},button:{standard:{default:{display:"flex",justifyContent:"center",alignItems:"center",fontWeight:600,textAlign:"center"},[Qr.d.PRIMARY]:{backgroundColor:t.primary,borderColor:t.primary,color:i,fill:i,":hover":{backgroundColor:t.primary,borderColor:t.primary,position:"relative","::after":{backgroundColor:Object(Zr.d)(t.primary)?"rgba(71, 71, 71, 0.2)":"rgba(71, 71, 71, 0.1)",top:0,bottom:0,left:0,right:0,position:"absolute",display:"block",content:'""',borderRadius:"inherit"}},":disabled":{backgroundColor:t.primary,borderColor:t.primary,opacity:"0.5"},":selected":{backgroundColor:t.primary,borderColor:t.primary}},[Qr.d.SECONDARY]:{backgroundColor:t.white,borderColor:t.white,color:t.charcoal,fill:t.charcoal,":hover":{backgroundColor:t.white,borderColor:t.charcoal},":disabled":{backgroundColor:t.white,borderColor:t.white,opacity:"0.5"},":selected":{backgroundColor:t.primary,borderColor:t.primary,color:i,fill:i}},[Qr.d.TERTIARY]:{backgroundColor:t.white,borderColor:t.primary,color:t.charcoal,fill:t.charcoal,":hover":{backgroundColor:Object(Zr.d)(t.primary)?Object(Zr.i)(t.primary,.02):Object(Zr.i)(t.primary,.1)},":disabled":{backgroundColor:t.white,opacity:"0.5"},":selected":{backgroundColor:"#555555",borderColor:"#555555",color:t.white,fill:t.white}},[Qr.c.LARGE]:{minHeight:36,minWidth:88,paddingTop:8,paddingLeft:24,paddingBottom:8,paddingRight:24,borderRadius:18,fontSize:n.md},[Qr.c.MEDIUM]:{minHeight:32,minWidth:72,paddingTop:4,paddingLeft:16,paddingBottom:4,paddingRight:16,borderRadius:16,fontSize:n.xs}}},card:{backgroundColor:t.white,borderRadius:"4px",lg:{paddingTop:24,paddingRight:20,paddingBottom:24,paddingLeft:20,title:{paddingTop:0,paddingRight:36,paddingBottom:0,paddingLeft:36,fontSize:n.lg,fontWeight:600,gutterWidth:20,textAlign:"center",color:t.charcoal}},sm:{paddingTop:24,paddingRight:20,paddingBottom:24,paddingLeft:20,title:{paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,fontSize:n.lg,fontWeight:500,gutterWidth:20,textAlign:"left",color:t.charcoal}},newConversation:{hand:{backgroundColor:"#FFEDF1"}},existingConversation:{header:{paddingTop:24,paddingRight:20,paddingBottom:0,paddingLeft:20,fontWeight:600,fontSize:n.lg,color:t.charcoal},summaryCard:{paddingTop:16,paddingRight:20,paddingBottom:16,paddingLeft:20},arrow:{icon:{fill:t.primary}},hoverStyles:{backgroundColor:t.water}}},notification:{color:t.white,backgroundColor:t.blue},actionDialog:{minWidth:"200",maxWidth:"300",borderRadius:"4",actionItem:{fontWeight:"normal",fontSize:n.sm,paddingTop:"8",paddingRight:"16",paddingBottom:"8",paddingLeft:"16"}},confirmationBox:{backgroundColor:t.white,borderRadius:"8px",maxWidth:"316",margin:"28",paddingTop:"20",paddingRight:"20",paddingBottom:"20",paddingLeft:"20",header:{paddingBottom:"10",title:{fontSize:"16",fontWeight:"600"},iconButton:{icon:{height:"14",width:"14"},button:{height:"24",width:"24"}}},description:{fontSize:"13",paddingBottom:"24",minHeight:"0"},buttonGroup:{align:"end",size:"lg",gutterWidth:"12"}},chatMessage:{borderRadius:"4px",paddingTop:"12px",paddingRight:"12px",paddingBottom:"12px",paddingLeft:"12px",primary:{backgroundColor:t.primary,borderColor:t.primary,color:i},secondary:{backgroundColor:b,borderColor:t.azure,color:t.charcoal},sender:{height:32,width:32,align:"bottom",gutterWidth:12},timeStamp:{align:ti.e.VERTICAL},senderName:{align:ti.d.BOTTOM},attachment:{size:ti.b.FIXED,card:{title:{color:t.charcoal,fontWeight:700,textAlign:"center",fontSize:n.sm,paddingTop:20,paddingBottom:0,paddingLeft:8,paddingRight:8},description:{fontSize:n.sm,textAlign:"left"},color:t.charcoal,paddingTop:0,paddingLeft:0,paddingRight:0,paddingBottom:6,titleAndDescriptionGutterWidth:16,contentAndButtonGutterWidth:16,buttonGroupGutterWidth:6,buttonAlign:Qr.a.CENTER,button:{size:Qr.c.LARGE,variant:Qr.d.SECONDARY,overrides:{paddingTop:8,paddingBottom:8,paddingLeft:8,paddingRight:8,marginTop:0,marginLeft:6,marginRight:6,marginBottom:0,borderRadius:10}}},form:{title:{color:t.charcoal,alignSelf:"center",fontWeight:600,textAlign:"center",fontSize:n.sm},paddingTop:20,paddingBottom:20,paddingLeft:12,paddingRight:12,titleAndFieldsGutterWidth:20,fieldGroupGutterWidth:20,buttonAndFieldsGutterWidth:8,button:{size:Qr.c.MEDIUM,variant:Qr.d.PRIMARY}},appointment:{paddingTop:12,paddingBottom:12,paddingLeft:12,paddingRight:12,title:{fontSize:13,marginBottom:8},selectedDate:{marginBottom:8},timeSlots:{marginBottom:12,button:{size:Qr.c.MEDIUM,variant:Qr.d.SECONDARY}},calendar:{marginBottom:8,paddingTop:10,paddingBottom:10,paddingLeft:4,paddingRight:4,borderRadius:8,weekdays:{borderBottomColor:t.azure,fontWeight:400},date:{width:24,height:24,backgroundColor:t.white,marginTop:10,borderRadius:12,disabledStyles:{color:t.ash},selectedStyles:{backgroundColor:t.primary,color:t.white},neighboringMonth:{color:t.anchor}}}}}},chatConversation:{body:{backgroundColor:t.white,backgroundUrl:""},dateBubble:{color:u,backgroundColor:d,borderRadius:"20px",boxShadow:"0 2px 8px 0 rgba(10, 10, 20, 0.2)"},faq:{paddingTop:8,paddingRight:24,paddingBottom:14,paddingLeft:24,borderTopWidth:1,borderTopColor:t.azure,option:{fontSize:n.md,paddingTop:16,paddingBottom:16,fontWeight:500,color:t.charcoal,borderBottomWidth:1,borderBottomColor:t.silver}},footer:{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,chatMessageComposer:{borderRadius:"0 0 8px 8px",paddingTop:"18px",paddingRight:"24px",paddingBottom:"18px",paddingLeft:"24px",fontSize:n.md,backgroundColor:t.white,placeholder:{color:t.anchor},disabledStyles:{backgroundColor:b},button:{default:{fontSize:n.md},primary:{color:t.blue}},iconButton:{default:{button:{height:"36px",width:"36px"},icon:{height:"20px",width:"20px"}},primary:{button:{},icon:{fill:t.primary}},secondary:{button:{},icon:{fill:t.anchor,hoverStyles:{fill:t.primary}}}}},actions:{iconButton:{default:{button:{height:28,width:28,marginRight:8,borderRadius:20,backgroundColor:t.blue},icon:{height:16,width:16,fill:t.white}}}}},notification:{backgroundColor:"rgba(10, 10, 20, 0.7)"}},snackBar:{paddingTop:8,paddingRight:16,paddingBottom:8,paddingLeft:16,backgroundColor:t.charcoal,borderRadius:4},errorScreen:{icon:{height:40,width:40,fill:t.red},label:{fontSize:n.md,fontWeight:600,minHeight:0},button:{marginTop:32}},header:{backgroundColor:t.primary,buttonGroupGutterWidth:"0",color:i,minHeight:"72px",paddingTop:"0px",paddingRight:"15px",paddingBottom:"0px",paddingLeft:"15px",title:{fontWeight:"500",fontSize:n.md,color:i},description:{fontSize:n.xs,color:i},icon:{fill:i,height:"14",width:"14",hoverStyles:{fill:i}},button:{width:"40",height:"40",backgroundColor:"transparent",hoverStyles:{backgroundColor:r}},lg:{paddingTop:28,paddingBottom:0,paddingLeft:28,paddingRight:28,logo:{marginBottom:20,height:32},title:{fontWeight:300,fontSize:n.xxxxl},description:{marginTop:8,marginBottom:0,marginRight:0,marginLeft:0,fontWeight:400,fontSize:n.lg}}},chatMessageComposer:{borderColor:t.primary,placeholderColor:t.anchor},input:{default:{borderColor:t.ash,fontSize:n.xs,paddingTop:0,paddingBottom:0,paddingLeft:8,paddingRight:8,minHeight:32,borderRadius:4,backgroundColor:t.white,color:t.charcoal,placeholderColor:t.anchor,hoverStyles:{borderColor:t.fossil},focusStyles:{borderColor:t.primary},errorStyles:{borderColor:t.red}},textArea:{paddingTop:8,paddingBottom:8,minHeight:64},selectBox:{optionsList:{paddingTop:4,paddingBottom:4,maxHeight:140},chevron:{height:10,width:10,fill:t.fossil,hoverStyles:{fill:t.primary}},option:{borderLeftWidth:2,borderLeftColor:"transparent",paddingLeft:12,paddingRight:12,paddingTop:8,paddingBottom:8,hoverStyles:{backgroundColor:l},selectedStyles:{fontWeight:600,backgroundColor:l,borderLeftWidth:2,borderLeftColor:c}}},phoneInput:{countrySelectBox:{width:50,backgroundColor:t.water,hoverStyles:{backgroundColor:t.azure},focusStyles:{backgroundColor:t.azure},selectedStyles:{backgroundColor:t.azure}}},checkboxGroup:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,checkboxesGutterWidth:12,backgroundColor:t.azure,checkbox:{width:14,height:14,borderRadius:1,boxAndOptionGutterWidth:8,selectedStyles:{fill:t.primary,borderColor:t.primary,backgroundColor:t.primary}},option:{fontSize:n.xs,color:t.charcoal}}},inputLabel:{fontSize:n.xs,fontWeight:500,color:t.anchor,labelAndInputGutterWidth:4,errorColor:t.anchor,activeColor:t.anchor},trigger:{align:ti.f.RIGHT,backgroundColor:t.primary,borderWidth:1,borderColor:t.primary,backgroundHoverColor:r,size:60,boxShadow:"0px 1px 6px 0px rgba(0, 0, 0, 0.09), 0px 2px 32px 0px rgba(0, 0, 0, 0.15)",overlayIconButton:{button:{height:24,width:24},icon:{height:12,width:12},fontSize:n.xs},removeIcon:{backgroundColor:t.charcoal,fill:t.white},icon:{type:"mic",color:i,height:26,width:26},closeIcon:{type:p,color:i,height:ti.g[p].height,width:ti.g[p].width}},link:{color:s()(o,["link","color"],"#0E61F6")},proactivePrompt:{maxWidth:304,paddingTop:0,paddingLeft:8,paddingBottom:0,paddingRight:8,direction:"column",removeIconButton:{marginBottom:12,marginTop:0,marginLeft:0,marginRight:0,button:{height:28,width:28,backgroundColor:Object(Zr.i)(t.charcoal,.6)},icon:{fill:Hr.a.white,height:8,width:8}},message:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.2)",borderRadius:10,paddingTop:20,paddingLeft:20,paddingBottom:20,paddingRight:20,fontSize:n.md},replyBox:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)"},button:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)",fontWeight:400}}}},[Yr]:e=>{const{colors:t,typography:{fontSizes:n,fontFamily:a},styles:o}=e,r=Object(Zr.b)(t.primary),i=(Object(Zr.g)(.1,t.primary,t.white),Object(Zr.c)(t.primary)),c=ri(t.primary),l=function(e){const t=ri(e);return t?Object(Zr.l)(Object(Zr.d)(t)?.95:.85,t):""}(t.primary),d=s()(o,"chatConversation.body.backgroundColor",t.white),u=Object(Zr.c)(d),p=Object(Ra.f)("trigger.closeIcon.type")({theme:e})||oi,b=s()(o,"chatMessage.secondary.backgroundColor",t.azure);return{frame:{borderRadius:"16px",height:"700px",width:380,maximizedWidth:688,zIndex:2147483001,translateZ:1e5,align:ti.a.TRIGGER_RIGHT_BOX_RIGHT},call:{height:"240px",card:{appointmentBlock:{borderRadius:20,background:"linear-gradient(107deg, rgba(216, 201, 255, 0.25) 1%, rgba(213, 230, 255, 0.3))",paddingTop:12,paddingBottom:12,paddingLeft:20,paddingRight:20,marginTop:16,button:{size:Qr.c.MEDIUM,variant:Qr.d.PRIMARY,overrides:{marginTop:18}}}}},body:{backgroundColor:t.white,color:i,fontFamily:a,fontSize:"1.2rem",lineHeight:1.4,letterSpacing:-.12,gradients:s()(o,"header.gradients",`linear-gradient(64deg, ${Object(Jr.d)(t.primary).join(",")})`)},page:{minPadding:"2.5%",backgroundColor:Object(Zr.g)(.5,Object(Zr.l)(.85,t.charcoal),Object(Zr.l)(.95,t.primary))},button:{standard:{default:{display:"flex",justifyContent:"center",alignItems:"center",fontWeight:600,textAlign:"center"},[Qr.d.PRIMARY]:{backgroundColor:t.primary,borderColor:t.primary,color:i,fill:i,":hover":{backgroundColor:t.primary,borderColor:t.primary,position:"relative","::after":{backgroundColor:Object(Zr.d)(t.primary)?"rgba(71, 71, 71, 0.2)":"rgba(71, 71, 71, 0.1)",top:0,bottom:0,left:0,right:0,position:"absolute",display:"block",content:'""',borderRadius:"inherit"}},":disabled":{backgroundColor:t.primary,borderColor:t.primary,opacity:"0.5"},":selected":{backgroundColor:t.primary,borderColor:t.primary}},[Qr.d.SECONDARY]:{backgroundColor:t.white,borderColor:t.white,color:t.charcoal,fill:t.charcoal,":hover":{backgroundColor:t.white,borderColor:t.charcoal},":disabled":{backgroundColor:t.white,borderColor:t.white,opacity:"0.5"},":selected":{backgroundColor:t.primary,borderColor:t.primary,color:i,fill:i}},[Qr.d.TERTIARY]:{backgroundColor:t.white,borderColor:t.primary,color:t.charcoal,fill:t.charcoal,":hover":{backgroundColor:Object(Zr.d)(t.primary)?Object(Zr.i)(t.primary,.02):Object(Zr.i)(t.primary,.1)},":disabled":{backgroundColor:t.white,opacity:"0.5"},":selected":{backgroundColor:"#555555",borderColor:"#555555",color:t.white,fill:t.white}},[Qr.c.LARGE]:{minHeight:36,minWidth:88,paddingTop:8,paddingLeft:24,paddingBottom:8,paddingRight:24,borderRadius:10,fontSize:n.md},[Qr.c.MEDIUM]:{minHeight:32,minWidth:72,paddingTop:4,paddingLeft:16,paddingBottom:4,paddingRight:16,borderRadius:8,fontSize:n.xs}}},card:{backgroundColor:t.white,borderRadius:"10px",boxShadow:"0px 2px 15px 0px rgba(0, 0, 0, 0.15)",lg:{paddingTop:20,paddingRight:20,paddingBottom:20,paddingLeft:20,title:{paddingTop:20,paddingRight:10,paddingBottom:0,paddingLeft:10,fontSize:n.xxl,fontWeight:600,gutterWidth:42,textAlign:"left",color:t.charcoal}},sm:{paddingTop:20,paddingRight:20,paddingBottom:20,paddingLeft:20,title:{paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,fontSize:n.lg,fontWeight:600,gutterWidth:16,textAlign:"left",color:t.charcoal}},newConversation:{hand:{backgroundColor:"#FFEDF1"}},existingConversation:{header:{paddingTop:20,paddingRight:20,paddingBottom:12,paddingLeft:20,fontSize:n.lg,fontWeight:600,color:t.charcoal},summaryCard:{paddingTop:12,paddingRight:20,paddingBottom:12,paddingLeft:20},arrow:{icon:{fill:t.primary}},hoverStyles:{backgroundColor:t.water}}},notification:{color:t.white,backgroundColor:t.red},actionDialog:{minWidth:"200",maxWidth:"300",borderRadius:"4",actionItem:{fontSize:n.sm,fontWeight:"normal",paddingTop:"8",paddingRight:"16",paddingBottom:"8",paddingLeft:"16"}},confirmationBox:{backgroundColor:t.white,borderRadius:"8px",maxWidth:"316",margin:"28",paddingTop:"20",paddingRight:"20",paddingBottom:"20",paddingLeft:"20",header:{paddingBottom:"10",title:{fontSize:"16",fontWeight:600},iconButton:{icon:{height:"14",width:"14"},button:{height:"24",width:"24"}}},description:{fontSize:"13",paddingBottom:"24",minHeight:"0"},buttonGroup:{align:"end",size:"md",gutterWidth:"12"}},chatMessage:{borderRadius:"10px",paddingTop:"12px",paddingRight:"12px",paddingBottom:"12px",paddingLeft:"12px",primary:{backgroundColor:t.primary,borderColor:t.primary,color:i},secondary:{backgroundColor:b,borderColor:t.azure,color:t.charcoal},sender:{height:32,width:32,align:"bottom",gutterWidth:12},timeStamp:{align:ti.e.VERTICAL},senderName:{align:ti.d.BOTTOM},attachment:{size:ti.b.FIXED,card:{title:{color:t.charcoal,fontWeight:700,textAlign:"center",fontSize:n.sm,paddingTop:20,paddingBottom:0,paddingLeft:8,paddingRight:8},description:{fontSize:n.sm,textAlign:"left"},color:t.charcoal,paddingTop:0,paddingLeft:0,paddingRight:0,paddingBottom:6,titleAndDescriptionGutterWidth:16,contentAndButtonGutterWidth:16,buttonGroupGutterWidth:6,buttonAlign:Qr.a.CENTER,button:{size:Qr.c.LARGE,variant:Qr.d.SECONDARY,overrides:{paddingTop:8,paddingBottom:8,paddingLeft:8,paddingRight:8,marginTop:0,marginLeft:6,marginRight:6,marginBottom:0,borderRadius:10}}},form:{title:{color:t.charcoal,alignSelf:"center",fontWeight:600,textAlign:"left",fontSize:n.sm},paddingTop:16,paddingBottom:20,paddingLeft:12,paddingRight:12,titleAndFieldsGutterWidth:20,fieldGroupGutterWidth:16,buttonAndFieldsGutterWidth:4,button:{size:Qr.c.MEDIUM,variant:Qr.d.PRIMARY}},appointment:{paddingTop:12,paddingBottom:12,paddingLeft:12,paddingRight:12,title:{fontSize:13,marginBottom:8},selectedDate:{marginBottom:8},timeSlots:{marginBottom:12,button:{size:Qr.c.MEDIUM,variant:Qr.d.SECONDARY}},calendar:{marginBottom:8,paddingTop:10,paddingBottom:10,paddingLeft:4,paddingRight:4,borderRadius:8,weekdays:{borderBottomColor:t.azure,fontWeight:400},date:{width:24,height:24,backgroundColor:t.white,marginTop:10,borderRadius:12,disabledStyles:{color:t.ash},selectedStyles:{backgroundColor:t.primary,color:t.white},neighboringMonth:{color:t.anchor}}}}}},chatConversation:{body:{backgroundColor:t.white,backgroundUrl:""},dateBubble:{color:u,backgroundColor:d,borderRadius:"14px",boxShadow:"0px 0px 6px 0px rgba(0, 0, 0, 0.15)"},faq:{paddingTop:8,paddingRight:24,paddingBottom:14,paddingLeft:24,borderTopWidth:1,borderTopColor:t.azure,option:{fontSize:n.md,paddingTop:16,paddingBottom:16,fontWeight:500,color:t.charcoal,borderBottomWidth:1,borderBottomColor:t.silver}},footer:{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,chatMessageComposer:{borderRadius:"0 0 8px 8px",paddingTop:"18px",paddingRight:"24px",paddingBottom:"18px",paddingLeft:"24px",fontSize:n.md,backgroundColor:t.white,placeholder:{color:t.anchor},disabledStyles:{backgroundColor:b},button:{default:{fontSize:n.md},primary:{color:t.blue}},iconButton:{default:{button:{height:"36px",width:"36px"},icon:{height:"20px",width:"20px"}},primary:{button:{},icon:{fill:t.primary}},secondary:{button:{},icon:{fill:t.anchor,hoverStyles:{fill:t.primary}}}}},actions:{iconButton:{default:{button:{height:28,width:28,marginRight:8,borderRadius:20,backgroundColor:t.blue},icon:{height:16,width:16,fill:t.white}}}}},notification:{backgroundColor:"rgba(10, 10, 20, 0.7)"}},snackBar:{paddingTop:8,paddingRight:16,paddingBottom:8,paddingLeft:16,backgroundColor:t.charcoal,borderRadius:4},errorScreen:{icon:{height:40,width:40,fill:t.red},label:{fontSize:n.md,fontWeight:600,minHeight:0},button:{marginTop:32}},header:{backgroundColor:t.primary,buttonGroupGutterWidth:"0",color:i,minHeight:"72px",paddingTop:"0px",paddingRight:"15px",paddingBottom:"0px",paddingLeft:"15px",title:{fontWeight:"500",fontSize:n.md,color:i},description:{fontSize:n.xs,color:i},icon:{fill:i,height:"14",width:"14",hoverStyles:{fill:i}},button:{width:"40",height:"40",backgroundColor:"transparent",hoverStyles:{backgroundColor:r}},lg:{paddingTop:28,paddingBottom:20,paddingLeft:24,paddingRight:24,logo:{marginBottom:12,marginTop:0,marginLeft:0,marginRight:0,height:26},title:{fontWeight:500,fontSize:n.xxxl},description:{marginTop:4,marginBottom:0,marginRight:0,marginLeft:0,fontWeight:400,fontSize:n.lg}}},chatMessageComposer:{borderColor:t.primary,placeholderColor:t.anchor},input:{default:{fontSize:n.xs,paddingTop:0,paddingBottom:0,paddingLeft:8,paddingRight:8,minHeight:32,color:t.charcoal,backgroundColor:t.white,borderRadius:8,borderColor:t.ash,placeholderColor:t.anchor,hoverStyles:{borderColor:t.fossil},focusStyles:{borderColor:t.primary},errorStyles:{borderColor:t.red}},textArea:{paddingTop:8,paddingBottom:8,minHeight:64},selectBox:{optionsList:{paddingTop:4,paddingBottom:4,maxHeight:140},chevron:{height:10,width:10,fill:t.fossil,hoverStyles:{fill:t.primary}},option:{borderLeftWidth:2,borderLeftColor:"transparent",paddingLeft:12,paddingRight:12,paddingTop:8,paddingBottom:8,hoverStyles:{backgroundColor:l},selectedStyles:{fontWeight:600,backgroundColor:l,borderLeftWidth:2,borderLeftColor:c}}},phoneInput:{countrySelectBox:{width:50,backgroundColor:t.water,hoverStyles:{backgroundColor:t.azure},focusStyles:{backgroundColor:t.azure},selectedStyles:{backgroundColor:t.azure}}},checkboxGroup:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,checkboxesGutterWidth:12,backgroundColor:t.azure,checkbox:{width:14,height:14,borderRadius:1,boxAndOptionGutterWidth:8,selectedStyles:{fill:t.primary,borderColor:t.primary,backgroundColor:t.primary}},option:{fontSize:n.xs,color:t.charcoal}}},inputLabel:{fontSize:n.xs,fontWeight:500,color:t.anchor,labelAndInputGutterWidth:4,errorColor:t.anchor,activeColor:t.anchor},trigger:{align:ti.f.RIGHT,backgroundColor:t.primary,borderWidth:1,borderColor:t.primary,backgroundHoverColor:r,size:60,boxShadow:"0px 1px 6px 0px rgba(0, 0, 0, 0.09), 0px 2px 32px 0px rgba(0, 0, 0, 0.15)",overlayIconButton:{button:{height:24,width:24},icon:{height:12,width:12},fontSize:n.xs},removeIcon:{backgroundColor:t.charcoal,fill:t.white},icon:{type:"mic",color:i,height:26,width:26},closeIcon:{type:p,color:i,height:ti.g[p].height,width:ti.g[p].width}},link:{color:s()(o,["link","color"],"#0E61F6")},proactivePrompt:{maxWidth:304,paddingTop:0,paddingLeft:8,paddingBottom:0,paddingRight:8,direction:"column",removeIconButton:{marginBottom:12,marginTop:0,marginLeft:0,marginRight:0,button:{height:28,width:28,backgroundColor:Object(Zr.i)(t.charcoal,.6)},icon:{height:8,width:8,fill:Hr.a.white}},message:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.2)",borderRadius:10,paddingTop:20,paddingLeft:20,paddingBottom:20,paddingRight:20,fontSize:n.md},replyBox:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)"},button:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)",fontWeight:400}}}},[Xr]:e=>{const{colors:t,typography:{fontSizes:n,fontFamily:a},styles:o}=e;return{tombstone:{background:"linear-gradient(to right, #f8f8fa 0%, #dbdbdb 50%, #f8f8fa 100%)"},frame:{borderRadius:"16px",height:"700px",width:380,maximizedWidth:688,zIndex:2147483001,translateZ:1e5},body:{backgroundColor:t.white,color:"#ffffff",fontFamily:a,fontSize:"1.2rem",lineHeight:1.4,gradients:s()(o,"header.gradients",`linear-gradient(64deg, ${Object(Jr.d)(t.primary).join(",")})`)},link:{color:s()(o,["link","color"],"#0E61F6")},trigger:{align:"right",backgroundColor:"#0a0a14",borderWidth:1,borderColor:"#0a0a14",backgroundHoverColor:"#0240cb",size:60,boxShadow:"0px 1px 6px 0px rgba(0, 0, 0, 0.09), 0px 2px 32px 0px rgba(0, 0, 0, 0.15)",overlayIconButton:{button:{height:24,width:24},icon:{height:12,width:12},fontSize:"12px"},icon:{type:"collaborators",color:"#ffffff",height:26,width:26},closeIcon:{type:"cross",color:"#ffffff",height:14,width:14},xPadding:20,yPadding:30,border:"1px solid #1c62fd"},search:{backgroundColor:"#f8f8fd",hover:{borderColor:"#0e61f6"}},timestamp:{color:"#73737d"},createConversationButton:{borderColor:"#CAD3D6",hover:{borderColor:"#0e61f6"}},backIcon:{color:"#a9a9b2",hover:{color:"#0e61f6"}},receivedMessage:{backgroundColor:"#f5f5f5",color:"#0a0a14"},sentMessage:{backgroundColor:"#0a0a14",color:"#ffffff"},messageArea:{hover:{borderColor:"#0e61f6"}},sendIcon:{hover:{color:"#0e61f6"}}}}},ci=(e,t)=>ii[t](e),si={field:"userInfo.deviceType",fieldType:"EQUALS",values:["MOBILE"]},li={[qr]:e=>{const{typography:{fontSizes:t}}=e;return{page:{filters:[{value:{minPadding:"0"},filter:si}]},button:{standard:{[Qr.c.LARGE]:{filters:[{value:{fontSize:t.lg},filter:si}]},[Qr.c.MEDIUM]:{filters:[{value:{fontSize:t.sm},filter:si}]}}},chatMessage:{attachment:{card:{title:{filters:[{value:{fontSize:t.lg},filter:si}]},description:{filters:[{value:{fontSize:t.lg},filter:si}]}},form:{title:{filters:[{value:{fontSize:t.lg},filter:si}]}}}},input:{default:{filters:[{value:{fontSize:t.lg,minHeight:36},filter:si}]},checkboxGroup:{option:{filters:[{value:{fontSize:t.lg},filter:si}]}}},inputLabel:{filters:[{value:{fontSize:t.lg},filter:si}]},chatConversation:{footer:{chatMessageComposer:{filters:[{value:{fontSize:t.lg},filter:si}]}},faq:{option:{filters:[{value:{fontSize:t.lg},filter:si}]}}},actionDialog:{actionItem:{filters:[{value:{fontSize:t.md},filter:si}]}},errorScreen:{label:{filters:[{value:{fontSize:t.lg},filter:si}]}},header:{title:{filters:[{value:{fontSize:t.lg},filter:si}]},description:{filters:[{value:{fontSize:t.md},filter:si}]},lg:{logo:{filters:[{value:{height:40},filter:si}]},title:{filters:[{value:{fontSize:t.xxxxxl},filter:si}]},description:{filters:[{value:{fontSize:t.xl},filter:si}]}}},card:{lg:{title:{filters:[{value:{fontSize:t.xl},filter:si}]}},sm:{title:{filters:[{value:{fontSize:t.xl},filter:si}]}}}}},[Yr]:e=>{const{typography:{fontSizes:t}}=e;return{page:{filters:[{value:{minPadding:"0"},filter:si}]},button:{standard:{[Qr.c.LARGE]:{filters:[{value:{fontSize:t.lg},filter:si}]},[Qr.c.MEDIUM]:{filters:[{value:{fontSize:t.sm,minHeight:36},filter:si}]}}},chatMessage:{attachment:{card:{title:{filters:[{value:{fontSize:t.lg},filter:si}]},description:{filters:[{value:{fontSize:t.lg},filter:si}]}},form:{title:{filters:[{value:{fontSize:t.lg},filter:si}]}}}},input:{default:{filters:[{value:{fontSize:t.lg},filter:si}]},checkboxGroup:{option:{filters:[{value:{fontSize:t.lg},filter:si}]}}},inputLabel:{filters:[{value:{fontSize:t.lg},filter:si}]},chatConversation:{footer:{chatMessageComposer:{filters:[{value:{fontSize:t.lg},filter:si}]}},faq:{option:{filters:[{value:{fontSize:t.lg},filter:si}]}}},actionDialog:{actionItem:{filters:[{value:{fontSize:t.md},filter:si}]}},errorScreen:{errorLabel:{filters:[{value:{fontSize:t.lg},filter:si}]}},header:{title:{filters:[{value:{fontSize:t.lg},filter:si}]},description:{filters:[{value:{fontSize:t.md},filter:si}]},lg:{logo:{filters:[{value:{height:40},filter:si}]},description:{filters:[{value:{fontSize:t.xl},filter:si}]}}}}},[Xr]:()=>({})},di=(e,t)=>li[t](e);function ui(e,t){if(!pe()(e)||d()(e))return t;const n=Gr()(e);return wo()(t,((t,a)=>{n[a]=de()(t)?kr()(Fr()(e[a],t)):ui(e[a],t)})),n}const pi=e=>({...e,colors:zr()({},Hr.a,e.colors)}),bi=e=>({...e,typography:Object(Kr.a)(e.typography)}),fi=(e,t)=>({...t,styles:Object(Jr.a)(zr()({},ci(t,e),t.styles))}),hi=(e,t)=>({...t,styleFilters:ui(di(t,e),t.styleFilters)});var gi=e=>{const t=Object(fn.useContext)(Rr),n=Object(fn.useMemo)((()=>((e,t)=>$r()([pi,bi,Mr()(fi,t),Mr()(hi,t)])(e))(e.theme,t)),[e.theme,t]);return Object(Rn.jsx)(ta.a,{theme:n},e.children)};const yi={theme:{},direction:"ltr",device:"DESKTOP",skin:"CLASSIC",intl:{locale:"en",messages:{},defaultLocale:"en"},ownerDocument:window.document},Oi=e=>{let{theme:t,direction:n,device:a,skin:o,ownerDocument:r,intl:i,children:c}=e;const s=Object(fn.useMemo)((()=>{return e=r,Object(Ar.a)({container:e.head});var e}),[r]);return Object(Rn.jsx)(Rn.CacheProvider,{value:s},Object(Rn.jsx)(ea.e,i,Object(Rn.jsx)(Nr,{skin:o},Object(Rn.jsx)(gi,{theme:t},Object(Rn.jsx)(Lr.b,{direction:n},Object(Rn.jsx)(wr.b,{device:a},c))))))};Oi.defaultProps=yi;var mi=Oi,vi=n(520),ji=n(399),Ii=n(1026);var Ei=hn.a.memo(Object(ea.h)((e=>{const t=Object(vi.a)(),n=Object(ji.a)(),a=Object(Pn.a)(),o=Object(Ii.a)(),r=Object(fn.useMemo)((()=>({locale:e.intl.locale,messages:e.intl.messages,defaultLocale:e.intl.defaultLocale})),[e.intl]);return Object(Rn.jsx)(mi,{ownerDocument:window.parent.document,theme:a.otherConfigs.theme,direction:n.direction,device:t.device,skin:o,intl:r},e.children)}))),Ci=n(1037),Si=n(122),Ti=n.n(Si);const _i=e=>{let{id:t,filters:n}=e;const a=Object(Un.a)(n);return Object(fn.useEffect)((()=>{Object(be.a)({topic:ye,payload:{data:{id:t,filters:n,results:de()(a)?Ti()(a,(e=>e.hasPassed)):a.hasPassed}}})}),[a,n]),null},xi=e=>Object(Fn.b)(Object(Bn.b)(e)),Ai=hn.a.memo((e=>{const t=Object(Nn.d)(xi);return Object(Rn.jsx)(hn.a.Fragment,null,Ti()(t,((e,t)=>Object(Rn.jsx)(_i,{key:t,id:t,filters:e}))),e.children)}));var Ri=n(1300),Ni=n(440),wi=n(634);var Li=function(e){let{applicationConfig:t,store:n,history:a}=e;const o=Object(u.b)(),r=Object(p.K)()?Ao:vr,i=Object(fn.useCallback)((e=>Object(Ni.e)(Object(Bn.g)(n.getState()),e)),[]),c=Object(fn.useMemo)((()=>Object(wi.a)(o.document)),[o.document]);return Object(fn.useEffect)((()=>{n.dispatch(Object(An.d)())}),[n]),Object(Rn.jsx)(Rn.CacheProvider,{value:c},Object(Rn.jsx)(_r.a,{window:o},Object(Rn.jsx)(Nn.a,{store:n},Object(Rn.jsx)(Ln.b,null,Object(Rn.jsx)(Cr,null,Object(Rn.jsx)(Zn,null,Object(Rn.jsx)(Jn.b.Provider,{value:t},Object(Rn.jsx)(Tr.a,null,Object(Rn.jsx)(Ai,null,Object(Rn.jsx)(Ri.b,null,Object(Rn.jsx)(zn,null,Object(Rn.jsx)(Ir.a,{locale:Object(u.a)().locale,applicationConfig:t},Object(Rn.jsx)(Ei,null,Object(Rn.jsx)(Fo,null,Object(Rn.jsx)(Ro.b.Provider,{value:i},Object(Rn.jsx)(Sr.a,null,Object(Rn.jsx)(wn.b,null,Object(Rn.jsx)(jr.a,null,Object(Rn.jsx)(xr.a.Provider,{value:a},Object(Rn.jsx)(xn,{history:a},Object(Rn.jsx)(Ci.b,null,Object(Rn.jsx)(qn,null,Object(Rn.jsx)(r,null)))))))))))))))))))))))},Di=n(482),Mi=function(e){return"@@redux-saga/"+e},Pi=Mi("CANCEL_PROMISE"),ki=Mi("CHANNEL_END"),Ui=Mi("IO"),Fi=Mi("MATCH"),Bi=Mi("MULTICAST"),Gi=Mi("SAGA_ACTION"),Vi=Mi("SELF_CANCELLATION"),zi=Mi("TASK"),Wi=Mi("TASK_CANCEL"),$i=Mi("TERMINATE"),Hi=Mi("LOCATION"),Ki=n(536),qi=n(628),Yi=function(e){return null===e||void 0===e},Xi=function(e){return null!==e&&void 0!==e},Zi=function(e){return"function"===typeof e},Ji=function(e){return"string"===typeof e},Qi=Array.isArray,ec=function(e){return e&&Zi(e.then)},tc=function(e){return e&&Zi(e.next)&&Zi(e.throw)},nc=function e(t){return t&&(Ji(t)||rc(t)||Zi(t)||Qi(t)&&t.every(e))},ac=function(e){return e&&Zi(e.take)&&Zi(e.close)},oc=function(e){return Zi(e)&&e.hasOwnProperty("toString")},rc=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype};var ic=function(e,t){var n;void 0===t&&(t=!0);var a=new Promise((function(a){n=setTimeout(a,e,t)}));return a[Pi]=function(){clearTimeout(n)},a},cc=function(e){return function(){return e}}(!0),sc=function(){};var lc=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var dc=function(e,t){Object(Ki.a)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))};function uc(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function pc(e){var t=!1;return function(){t||(t=!0,e())}}var bc=function(e){throw e},fc=function(e){return{value:e,done:!0}};function hc(e,t,n){void 0===t&&(t=bc),void 0===n&&(n="iterator");var a={meta:{name:n},next:e,throw:t,return:fc,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(a[Symbol.iterator]=function(){return a}),a}function gc(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var yc=function(e){return Array.apply(null,new Array(e))},Oc=function(e){return function(t){return e(Object.defineProperty(t,Gi,{value:!0}))}},mc=function(e){return e===$i},vc=function(e){return e===Wi},jc=function(e){return mc(e)||vc(e)};function Ic(e,t){var n=Object.keys(e),a=n.length;var o,r=0,i=Qi(e)?yc(a):{},c={};return n.forEach((function(e){var n=function(n,c){o||(c||jc(n)?(t.cancel(),t(n,c)):(i[e]=n,++r===a&&(o=!0,t(i))))};n.cancel=sc,c[e]=n})),t.cancel=function(){o||(o=!0,n.forEach((function(e){return c[e].cancel()})))},c}function Ec(e){return{name:e.name||"anonymous",location:Cc(e)}}function Cc(e){return e[Hi]}var Sc={isEmpty:cc,put:sc,take:sc};function Tc(e,t){void 0===e&&(e=10);var n=new Array(e),a=0,o=0,r=0,i=function(t){n[o]=t,o=(o+1)%e,a++},c=function(){if(0!=a){var t=n[r];return n[r]=null,a--,r=(r+1)%e,t}},s=function(){for(var e=[];a;)e.push(c());return e};return{isEmpty:function(){return 0==a},put:function(c){var l;if(a<e)i(c);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[o]=c,r=o=(o+1)%e;break;case 4:l=2*e,n=s(),a=n.length,o=n.length,r=0,n.length=l,e=l,i(c)}},take:c,flush:s}}var _c=function(){return Sc},xc=function(e){return Tc(e,3)},Ac=function(e){return Tc(e,4)},Rc=Object.freeze({__proto__:null,none:_c,fixed:function(e){return Tc(e,1)},dropping:function(e){return Tc(e,2)},sliding:xc,expanding:Ac}),Nc="TAKE",wc="PUT",Lc="ALL",Dc="RACE",Mc="CALL",Pc="FORK",kc="CANCEL",Uc="SELECT",Fc="ACTION_CHANNEL",Bc="CANCELLED",Gc=function(e,t){var n;return(n={})[Ui]=!0,n.combinator=!1,n.type=e,n.payload=t,n},Vc=function(e){return Gc(Pc,Object(Ki.a)({},e.payload,{detached:!0}))};function zc(e,t){return void 0===e&&(e="*"),nc(e)?Gc(Nc,{pattern:e}):ac(n=e)&&n[Bi]&&Xi(t)&&nc(t)?Gc(Nc,{channel:e,pattern:t}):ac(e)?Gc(Nc,{channel:e}):void 0;var n}function Wc(e,t){return Yi(t)&&(t=e,e=void 0),Gc(wc,{channel:e,action:t})}function $c(e){var t=Gc(Lc,e);return t.combinator=!0,t}function Hc(e){var t=Gc(Dc,e);return t.combinator=!0,t}function Kc(e,t){var n,a=null;return Zi(e)?n=e:(Qi(e)?(a=e[0],n=e[1]):(a=e.context,n=e.fn),a&&Ji(n)&&Zi(a[n])&&(n=a[n])),{context:a,fn:n,args:t}}function qc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Gc(Mc,Kc(e,n))}function Yc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Gc(Pc,Kc(e,n))}function Xc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Vc(Yc.apply(void 0,[e].concat(n)))}function Zc(e){return void 0===e&&(e=Vi),Gc(kc,e)}function Jc(e){void 0===e&&(e=lc);for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Gc(Uc,{selector:e,args:n})}function Qc(e,t){return Gc(Fc,{pattern:e,buffer:t})}var es=qc.bind(null,ic);function ts(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var ns=ts,as=[],os=0;function rs(e){try{ss(),e()}finally{ls()}}function is(e){as.push(e),os||(ss(),ds())}function cs(e){try{return ss(),e()}finally{ds()}}function ss(){os++}function ls(){os--}function ds(){var e;for(ls();!os&&void 0!==(e=as.shift());)rs(e)}var us=function(e){return function(t){return e.some((function(e){return gs(e)(t)}))}},ps=function(e){return function(t){return e(t)}},bs=function(e){return function(t){return t.type===String(e)}},fs=function(e){return function(t){return t.type===e}},hs=function(){return cc};function gs(e){var t="*"===e?hs:Ji(e)?bs:Qi(e)?us:oc(e)?bs:Zi(e)?ps:rc(e)?fs:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var ys={type:ki},Os=function(e){return e&&e.type===ki};function ms(e){void 0===e&&(e=Ac());var t=!1,n=[];return{take:function(a){t&&e.isEmpty()?a(ys):e.isEmpty()?(n.push(a),a.cancel=function(){uc(n,a)}):a(e.take())},put:function(a){if(!t){if(0===n.length)return e.put(a);n.shift()(a)}},flush:function(n){t&&e.isEmpty()?n(ys):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var a=0,o=e.length;a<o;a++){(0,e[a])(ys)}}}}}function vs(e,t){void 0===t&&(t=_c());var n,a=!1,o=ms(t),r=function(){a||(a=!0,Zi(n)&&n(),o.close())};return n=pc(n=e((function(e){Os(e)?r():o.put(e)}))),a&&n(),{take:o.take,flush:o.flush,close:r}}function js(){var e=function(){var e,t=!1,n=[],a=n,o=function(){a===n&&(a=n.slice())},r=function(){t=!0;var e=n=a;a=[],e.forEach((function(e){e(ys)}))};return(e={})[Bi]=!0,e.put=function(e){if(!t)if(Os(e))r();else for(var o=n=a,i=0,c=o.length;i<c;i++){var s=o[i];s[Fi](e)&&(s.cancel(),s(e))}},e.take=function(e,n){void 0===n&&(n=hs),t?e(ys):(e[Fi]=n,o(),a.push(e),e.cancel=pc((function(){o(),uc(a,e)})))},e.close=r,e}(),t=e.put;return e.put=function(e){e[Gi]?t(e):is((function(){t(e)}))},e}function Is(e,t){var n=e[Pi];Zi(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var Es,Cs=0,Ss=function(){return++Cs};function Ts(e){e.isRunning()&&e.cancel()}var _s=((Es={}).TAKE=function(e,t,n){var a=t.channel,o=void 0===a?e.channel:a,r=t.pattern,i=t.maybe,c=function(e){e instanceof Error?n(e,!0):!Os(e)||i?n(e):n($i)};try{o.take(c,Xi(r)?gs(r):null)}catch(s){return void n(s,!0)}n.cancel=c.cancel},Es.PUT=function(e,t,n){var a=t.channel,o=t.action,r=t.resolve;is((function(){var t;try{t=(a?a.put:e.dispatch)(o)}catch(i){return void n(i,!0)}r&&ec(t)?Is(t,n):n(t)}))},Es.ALL=function(e,t,n,a){var o=a.digestEffect,r=Cs,i=Object.keys(t);if(0!==i.length){var c=Ic(t,n);i.forEach((function(e){o(t[e],r,c[e],e)}))}else n(Qi(t)?[]:{})},Es.RACE=function(e,t,n,a){var o=a.digestEffect,r=Cs,i=Object.keys(t),c=Qi(t)?yc(i.length):{},s={},l=!1;i.forEach((function(e){var t=function(t,a){l||(a||jc(t)?(n.cancel(),n(t,a)):(n.cancel(),l=!0,c[e]=t,n(c)))};t.cancel=sc,s[e]=t})),n.cancel=function(){l||(l=!0,i.forEach((function(e){return s[e].cancel()})))},i.forEach((function(e){l||o(t[e],r,s[e],e)}))},Es.CALL=function(e,t,n,a){var o=t.context,r=t.fn,i=t.args,c=a.task;try{var s=r.apply(o,i);if(ec(s))return void Is(s,n);if(tc(s))return void Ps(e,s,c.context,Cs,Ec(r),!1,n);n(s)}catch(l){n(l,!0)}},Es.CPS=function(e,t,n){var a=t.context,o=t.fn,r=t.args;try{var i=function(e,t){Yi(e)?n(t):n(e,!0)};o.apply(a,r.concat(i)),i.cancel&&(n.cancel=i.cancel)}catch(c){n(c,!0)}},Es.FORK=function(e,t,n,a){var o=t.context,r=t.fn,i=t.args,c=t.detached,s=a.task,l=function(e){var t=e.context,n=e.fn,a=e.args;try{var o=n.apply(t,a);if(tc(o))return o;var r=!1;return hc((function(e){return r?{value:e,done:!0}:(r=!0,{value:o,done:!ec(o)})}))}catch(i){return hc((function(){throw i}))}}({context:o,fn:r,args:i}),d=function(e,t){return e.isSagaIterator?{name:e.meta.name}:Ec(t)}(l,r);cs((function(){var t=Ps(e,l,s.context,Cs,d,c,void 0);c?n(t):t.isRunning()?(s.queue.addTask(t),n(t)):t.isAborted()?s.queue.abort(t.error()):n(t)}))},Es.JOIN=function(e,t,n,a){var o=a.task,r=function(e,t){if(e.isRunning()){var n={task:o,cb:t};t.cancel=function(){e.isRunning()&&uc(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(Qi(t)){if(0===t.length)return void n([]);var i=Ic(t,n);t.forEach((function(e,t){r(e,i[t])}))}else r(t,n)},Es.CANCEL=function(e,t,n,a){var o=a.task;t===Vi?Ts(o):Qi(t)?t.forEach(Ts):Ts(t),n()},Es.SELECT=function(e,t,n){var a=t.selector,o=t.args;try{n(a.apply(void 0,[e.getState()].concat(o)))}catch(r){n(r,!0)}},Es.ACTION_CHANNEL=function(e,t,n){var a=t.pattern,o=ms(t.buffer),r=gs(a),i=function t(n){Os(n)||e.channel.take(t,r),o.put(n)},c=o.close;o.close=function(){i.cancel(),c()},e.channel.take(i,r),n(o)},Es.CANCELLED=function(e,t,n,a){n(a.task.isCancelled())},Es.FLUSH=function(e,t,n){t.flush(n)},Es.GET_CONTEXT=function(e,t,n,a){n(a.task.context[t])},Es.SET_CONTEXT=function(e,t,n,a){var o=a.task;dc(o.context,t),n()},Es);function xs(e,t){return e+"?"+t}function As(e){var t=e.name,n=e.location;return n?t+"  "+xs(n.fileName,n.lineNumber):t}function Rs(e){var t=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))}((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var Ns=null,ws=[],Ls=function(){Ns=null,ws.length=0},Ds=function(){var e=ws[0],t=ws.slice(1),n=e.crashedEffect?function(e){var t=Cc(e);return t?t.code+"  "+xs(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+As(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+As(e.meta)})),[Rs(ws)]).join("\n")};function Ms(e,t,n,a,o,r,i){var c;void 0===i&&(i=sc);var s,l,d=0,u=null,p=[],b=Object.create(n),f=function(e,t,n){var a,o=[],r=!1;function i(e){t(),s(),n(e,!0)}function c(t){o.push(t),t.cont=function(c,s){r||(uc(o,t),t.cont=sc,s?i(c):(t===e&&(a=c),o.length||(r=!0,n(a))))}}function s(){r||(r=!0,o.forEach((function(e){e.cont=sc,e.cancel()})),o=[])}return c(e),{addTask:c,cancelAll:s,abort:i,getTasks:function(){return o}}}(t,(function(){p.push.apply(p,f.getTasks().map((function(e){return e.meta.name})))}),h);function h(t,n){if(n){if(d=2,(r={meta:o,cancelledTasks:p}).crashedEffect=Ns,ws.push(r),g.isRoot){var a=Ds();Ls(),e.onError(t,{sagaStack:a})}l=t,u&&u.reject(t)}else t===Wi?d=1:1!==d&&(d=3),s=t,u&&u.resolve(t);var r;g.cont(t,n),g.joiners.forEach((function(e){e.cb(t,n)})),g.joiners=null}var g=((c={})[zi]=!0,c.id=a,c.meta=o,c.isRoot=r,c.context=b,c.joiners=[],c.queue=f,c.cancel=function(){0===d&&(d=1,f.cancelAll(),h(Wi,!1))},c.cont=i,c.end=h,c.setContext=function(e){dc(b,e)},c.toPromise=function(){return u||(u=ns(),2===d?u.reject(l):0!==d&&u.resolve(s)),u.promise},c.isRunning=function(){return 0===d},c.isCancelled=function(){return 1===d||0===d&&1===t.status},c.isAborted=function(){return 2===d},c.result=function(){return s},c.error=function(){return l},c);return g}function Ps(e,t,n,a,o,r,i){var c=e.finalizeRunEffect((function(t,n,a){if(ec(t))Is(t,a);else if(tc(t))Ps(e,t,l.context,n,o,!1,a);else if(t&&t[Ui]){(0,_s[t.type])(e,t.payload,a,d)}else a(t)}));u.cancel=sc;var s={meta:o,cancel:function(){0===s.status&&(s.status=1,u(Wi))},status:0},l=Ms(e,s,n,a,o,r,i),d={task:l,digestEffect:p};return i&&(i.cancel=l.cancel),u(),l;function u(e,n){try{var o;n?(o=t.throw(e),Ls()):vc(e)?(s.status=1,u.cancel(),o=Zi(t.return)?t.return(Wi):{done:!0,value:Wi}):o=mc(e)?Zi(t.return)?t.return():{done:!0}:t.next(e),o.done?(1!==s.status&&(s.status=3),s.cont(o.value)):p(o.value,a,u)}catch(r){if(1===s.status)throw r;s.status=2,s.cont(r,!0)}}function p(t,n,a,o){void 0===o&&(o="");var r,i=Ss();function s(n,o){r||(r=!0,a.cancel=sc,e.sagaMonitor&&(o?e.sagaMonitor.effectRejected(i,n):e.sagaMonitor.effectResolved(i,n)),o&&function(e){Ns=e}(t),a(n,o))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:i,parentEffectId:n,label:o,effect:t}),s.cancel=sc,a.cancel=function(){r||(r=!0,s.cancel(),s.cancel=sc,e.sagaMonitor&&e.sagaMonitor.effectCancelled(i))},c(t,i,s)}}function ks(e,t){var n=e.channel,a=void 0===n?js():n,o=e.dispatch,r=e.getState,i=e.context,c=void 0===i?{}:i,s=e.sagaMonitor,l=e.effectMiddlewares,d=e.onError,u=void 0===d?gc:d;for(var p=arguments.length,b=new Array(p>2?p-2:0),f=2;f<p;f++)b[f-2]=arguments[f];var h=t.apply(void 0,b);var g,y=Ss();if(s&&(s.rootSagaStarted=s.rootSagaStarted||sc,s.effectTriggered=s.effectTriggered||sc,s.effectResolved=s.effectResolved||sc,s.effectRejected=s.effectRejected||sc,s.effectCancelled=s.effectCancelled||sc,s.actionDispatched=s.actionDispatched||sc,s.rootSagaStarted({effectId:y,saga:t,args:b})),l){var O=Di.d.apply(void 0,l);g=function(e){return function(t,n,a){return O((function(t){return e(t,n,a)}))(t)}}}else g=lc;var m={channel:a,dispatch:Oc(o),getState:r,sagaMonitor:s,onError:u,finalizeRunEffect:g};return cs((function(){var e=Ps(m,h,c,y,Ec(t),!0,void 0);return s&&s.effectResolved(y,e),e}))}var Us=function(e){var t,n=void 0===e?{}:e,a=n.context,o=void 0===a?{}:a,r=n.channel,i=void 0===r?js():r,c=n.sagaMonitor,s=Object(qi.a)(n,["context","channel","sagaMonitor"]);function l(e){var n=e.getState,a=e.dispatch;return t=ks.bind(null,Object(Ki.a)({},s,{context:o,channel:i,dispatch:a,getState:n,sagaMonitor:c})),function(e){return function(t){c&&c.actionDispatched&&c.actionDispatched(t);var n=e(t);return i.put(t),n}}}return l.run=function(){return t.apply(void 0,arguments)},l.setContext=function(e){dc(o,e)},l},Fs=Us,Bs=n(956),Gs=n(485),Vs=n(442);const zs=(e,t)=>`${$t.a.getParnterId(t)}_${$t.a.getAppId(t)}_${Vs.a.getId(Gs.a.getChatUser(e))}_${Date.now()}_${Math.random().toString(16).substr(2,8)}`;let Ws;const $s=()=>Ws;const Hs=new(n(1293).a)({middlewares:[],getContext:()=>Promise.resolve({})});var Ks=Hs;class qs{constructor(){this.data={}}setReducer(e){return this.data.reducer=e,this}setSaga(e){return this.data.saga=e,this}setPreloadedState(e){return this.data.preloadedState=e,this}setHTTPClient(e){return this.data.httpClient=e,this}setApplicationConfig(e){return e&&(this.data.applicationConfig=e),this}setHandshakeDetails(e){return e&&(this.data.handshakeDetails=e),this}setChatSettings(e){return e&&(this.data.chatSettings=e),this}build(){const{applicationConfig:e,handshakeDetails:t,chatSettings:n,httpClient:a,reducer:o,preloadedState:r,saga:i}=this.data,c=n.clientContext;jn()(a,"HTTP Client is not configured"),(e=>{Hs.clone(e)})(a),((e,t)=>{const n=Gs.a.getChatSessionToken(e),a=zs(e,t),o=Gs.a.getInboxServerUrl(e),r=Gs.a.getUserInbox(e);Ws=new Bs.a({userName:n,clientId:a,inboxServerUrl:o,userInbox:r})})(t,e),jn()(o,"Reducer is not configured");const s=[];const l=Fs();s.push(l);const d=Object(Di.e)(o,r,Object(Di.a)(...s));i&&l.run(i);const u={payload:{applicationConfig:e,handshakeDetails:t,clientContext:c},type:Kn.a};return d.dispatch(u),this.data.store=d,d}}var Ys=function(e){return{done:!0,value:e}},Xs={};function Zs(e){return ac(e)?"channel":oc(e)?String(e):Zi(e)?e.name:String(e)}function Js(e,t,n){var a,o,r,i=t;function c(t,n){if(i===Xs)return Ys(t);if(n&&!o)throw i=Xs,n;a&&a(t);var c=n?e[o](n):e[i]();return i=c.nextState,r=c.effect,a=c.stateUpdater,o=c.errorState,i===Xs?Ys(t):r}return hc(c,(function(e){return c(null,e)}),n)}function Qs(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];var r,i={done:!1,value:zc(e)},c=function(e){return{done:!1,value:Yc.apply(void 0,[t].concat(a,[e]))}},s=function(e){return r=e};return Js({q1:function(){return{nextState:"q2",effect:i,stateUpdater:s}},q2:function(){return{nextState:"q1",effect:c(r)}}},"q1","takeEvery("+Zs(e)+", "+t.name+")")}function el(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];var r,i,c={done:!1,value:zc(e)},s=function(e){return{done:!1,value:Yc.apply(void 0,[t].concat(a,[e]))}},l=function(e){return{done:!1,value:Zc(e)}},d=function(e){return r=e},u=function(e){return i=e};return Js({q1:function(){return{nextState:"q2",effect:c,stateUpdater:u}},q2:function(){return r?{nextState:"q3",effect:l(r)}:{nextState:"q1",effect:s(i),stateUpdater:d}},q3:function(){return{nextState:"q1",effect:s(i),stateUpdater:d}}},"q1","takeLatest("+Zs(e)+", "+t.name+")")}function tl(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];var r,i={done:!1,value:zc(e)},c=function(e){return{done:!1,value:qc.apply(void 0,[t].concat(a,[e]))}},s=function(e){return r=e};return Js({q1:function(){return{nextState:"q2",effect:i,stateUpdater:s}},q2:function(){return{nextState:"q1",effect:c(r)}}},"q1","takeLeading("+Zs(e)+", "+t.name+")")}function nl(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return Yc.apply(void 0,[Qs,e,t].concat(a))}var al=n(512),ol=n.n(al);function rl(e){const t=()=>{$s().disconnect().then((()=>{Object(g.a)("MQTT Client | Disconnected")})).catch((e=>{Object(dn.f)(e)?console.warn(e):console.error(`MQTT Client | Disconnection Error ${e}`)}))};try{$s().connect().catch((e=>{Object(dn.f)(e)?console.warn(e):console.error(`MQTT Client | Connection Error ${e}`)})),function(){const e=$s();e.on("error",(()=>{Object(g.a)("MQTT Client | Error")})),e.on("offline",(()=>{Object(g.a)("MQTT Client | Offline")})),e.on("reconnect",(()=>{Object(g.a)("MQTT Client | Reconnect")})),e.on("close",(()=>{Object(g.a)("MQTT Client | Closed")}))}(),$s().subscribe().catch((e=>{Object(dn.f)(e)?console.warn(e):console.error(`MQTT client | Subscribe Error ${e}`)})),$s().on("message",((t,n)=>{try{const t=JSON.parse(n.toString());e(t)}catch(a){Object(_t.b)(a)}}))}catch(n){Object(_t.b)(n),t()}return t}var il=n(824),cl=n.n(il);var sl=class{constructor(e,t){if(this.poll=()=>{this.isActive&&(this.timeoutId=window.setTimeout((()=>{this.handler().finally((()=>{this.enableBackOff&&(this.interval=this.interval+this.baseInterval),this.poll()}))}),this.interval))},this.start=e=>{this.isActive||(this.isActive=!0,this.timeoutId=window.setTimeout((()=>{this.handler().finally((()=>{this.poll()}))}),e||0))},this.stop=()=>{this.isActive=!1,this.timeoutId&&(window.clearTimeout(this.timeoutId),this.timeoutId=void 0),this.enableBackOff&&(this.interval=this.baseInterval)},!e)throw new Error("No poll handler defined");var n;this.handler=(n=e,()=>n().catch((()=>{}))),this.baseInterval=t.pollInterval,this.enableBackOff=t.enableBackOff,this.interval=t.pollInterval,this.timeoutId=void 0,this.isActive=!1}},ll=n(435);function dl(e){return Object(ll.__awaiter)(this,void 0,void 0,(function*(){return Ks.post("/livechat/event/publish",Object.assign({type:e.type},e.payload))}))}const ul=()=>{return"A_"+(e=Date.now(),`${Math.floor(e/1e3).toString(16)}0000000000000000`);var e},pl=cl()((()=>{let e=ul();return{set:t=>{e=t||e},get:()=>e}}));let bl=!0;function fl(e,t){const n=pl();return new sl((function(){return function(e){return Object(ll.__awaiter)(this,void 0,void 0,(function*(){const{cursor:t,lastActiveDiff:n}=e||tn.a;return(yield Ks.post("/livechat/event/fetch-notifications"+(t?`?cursor=${t}`:""),{lastActiveDiff:n},{backoff:!0,headers:{"X-CHAT-AUTO":!0}})).data}))}({cursor:n.get(),lastActiveDiff:t.getLastActiveTimeDifference()}).then((t=>{const{results:a,afterCursor:o}=t;e(null,a,{isFirstCall:bl}),bl=!1,n.set(o)})).catch((t=>{e(Object(dn.c)(t)?t:null,[],{})}))}),Object.assign(Object.assign({},t||{}),{pollInterval:15e3}))}var hl=n(1872);const gl=Object(hl.a)(["payload","type"]),yl=Object(Ut.a)("conversationId"),Ol=Object(Ut.a)("sender"),ml=Object(Ut.a)("payload"),vl=Object(Ut.a)("creationTime");class jl{}jl.getMessageType=Object(Ft.a)(gl),jl.getConversationId=Object(Ft.a)(yl),jl.getSender=Object(Ft.a)(Ol),jl.getCreationTime=Object(Ft.a)(vl),jl.getPayload=e=>Object(Ft.a)(ml)(e);var Il=n(521);const El={[Ze]:e=>({payload:{conversationId:jl.getConversationId(e),messageId:jl.getPayload(e).messageId},type:Ze}),[Je]:e=>({payload:{conversationId:jl.getConversationId(e),messageId:jl.getPayload(e).messageId},type:Je}),[Qe]:e=>({payload:Object.assign(Object.assign({},Mt()(e.payload.externalEvent,["type","action","conversationId","payload"])),{actionType:jl.getPayload(e).externalEvent.action,externalParams:jl.getPayload(e).externalEvent.payload,contextId:jl.getConversationId(e)}),type:Qe}),UI_CONTROL:e=>({type:jl.getPayload(e).event.action,payload:jl.getPayload(e).event.payload?JSON.parse(jl.getPayload(e).event.payload):{}}),[et]:e=>({payload:{conversationId:jl.getConversationId(e),chatUserId:jl.getPayload(e).chatUserId},type:et}),[tt]:e=>({payload:{conversationId:jl.getConversationId(e),sender:jl.getSender(e),actionTime:jl.getCreationTime(e)},type:tt}),[nt]:e=>({payload:{conversationId:jl.getConversationId(e),sender:jl.getSender(e),actionTime:jl.getCreationTime(e)},type:nt}),[rt]:e=>({payload:{conversationId:jl.getConversationId(e),sender:jl.getSender(e),closed:jl.getPayload(e).closed,deleted:jl.getPayload(e).deleted,caseNumber:jl.getPayload(e).caseNumber,expireAssetUntilLastMessageId:jl.getPayload(e).lastMessageId},type:rt}),[it]:e=>{const t=jl.getPayload(e).audioOnly;return{payload:{videoConversationId:jl.getPayload(e).videoConversationId,conversationId:jl.getConversationId(e),participantInfos:jl.getPayload(e).participantInfos,type:t?Il.a.AUDIO:Il.a.VIDEO},type:it}},[ct]:e=>({payload:{conversationId:jl.getConversationId(e),videoConversationId:jl.getPayload(e).videoConversationId},type:ct}),[st]:e=>({payload:{conversationId:jl.getConversationId(e),videoCallEnabled:jl.getPayload(e).videoEnabled,audioCallEnabled:jl.getPayload(e).audioEnabled},type:st}),[lt]:e=>({payload:{conversationId:jl.getConversationId(e),videoConversationId:jl.getPayload(e).conversation.id,conversation:jl.getPayload(e).conversation,participant:jl.getPayload(e).participant},type:lt}),[dt]:e=>({payload:{conversationId:jl.getConversationId(e),videoConversationId:jl.getPayload(e).videoConversationId},type:dt}),[ut]:e=>({payload:{conversationId:jl.getConversationId(e),videoConversationId:jl.getPayload(e).videoConversationId},type:ut}),[pt]:e=>({payload:{status:jl.getPayload(e).status},type:pt}),[bt]:e=>({payload:{conversationId:jl.getConversationId(e),unassignedFrom:jl.getPayload(e).unassignedFrom,assignedTo:jl.getPayload(e).assignedTo,newAssigneeType:jl.getPayload(e).newAssigneeType,oldAssigneeType:jl.getPayload(e).oldAssigneeType,assignmentTime:jl.getPayload(e).assignmentTime},type:bt}),[ft]:e=>{const{action:t}=jl.getPayload(e);return{payload:{params:t.params,conversationId:jl.getConversationId(e),type:t.actionType},type:ft}},[ht]:e=>{const{action:t}=jl.getPayload(e);return{payload:{},type:ht}}};function Cl(e){try{const t=jl.getMessageType(e),n=El[t];if(n)return n(e)}catch(t){Object(_t.b)(t)}}var Sl=n(463);const Tl=(()=>{const e=new Set;return{add:t=>e.add(t),clear:()=>e.clear(),has:t=>e.has(t)}})(),_l=(()=>{let e=0,t=!0;return{getLastActiveTimeDifference:()=>t?0:Date.now()-e,setAppActive:n=>{t=n,n||(e=Date.now())}}})(),xl=(e,t)=>function(e,t){let n;function a(){n&&n.stop()}try{n=fl(e,t),n.start(15e3)}catch(o){a()}return a}(((t,n,a)=>{let{isFirstCall:o}=a;if(e(Object(An.g)(!t)),t)return;const r=n.filter((e=>!Tl.has(e.id))).map(Cl).filter((e=>!!e)).filter((e=>!o||!(e=>e.type===lt||e.type===it)(e)));e(r),Tl.clear()}),Object.assign(Object.assign({},t),{getLastActiveTimeDifference:_l.getLastActiveTimeDifference}));function Al(){return vs((e=>{const t=(e=>rl((t=>{const n=Cl(t);n&&(Tl.add(t.id),e(n))})))(e);return()=>{t()}}))}function Rl(){return vs((e=>{const t=xl(e);return()=>{t()}}))}function Nl(){return vs((e=>{const t=xl(e,{enableBackOff:!0});let n;return n=window.setTimeout((()=>{t()}),432e5),()=>{n&&window.clearTimeout(n),t()}}))}const wl=e=>e.type===Sl.f,Ll=e=>!wl(e);function*Dl(e){try{yield $c(e.filter(wl).map((e=>Wc(e))))}catch(t){Object(_t.b)(t)}}function*Ml(e){try{const t=e.filter(Ll);d()(t)||(yield Wc({type:Sl.l,payload:{events:t}}),yield Wc(Object(An.e)()))}catch(t){Object(_t.b)(t)}}function*Pl(e){try{const t=ol()(e);yield $c([qc(Dl,t),qc(Ml,t)])}catch(t){Object(_t.b)(t)}}function*kl(){try{let t,n;try{t=yield qc(Nl),n=yield nl(t,Pl),yield zc(Sl.a)}catch(e){}finally{t&&t.close(),n&&!n.isCancelled()&&(yield Zc(n))}}catch(t){Object(_t.b)(t)}}function*Ul(){try{for(;;){yield zc(Sl.b);const[e,t]=yield Hc([zc(Sl.a),es(18e5)]);if(t)break}}catch(e){Object(_t.b)(e)}}function*Fl(){try{let t,n;try{t=yield qc(Rl),n=yield nl(t,Pl),yield qc(Ul)}catch(e){}finally{t&&t.close(),n&&!n.isCancelled()&&(yield Zc(n))}}catch(t){Object(_t.b)(t)}}function*Bl(){try{for(;;){yield zc(Sl.b);const[e,t]=yield Hc([zc(Sl.a),es(108e5)]);if(t)break}}catch(e){Object(_t.b)(e)}}function*Gl(){try{let t,n;for(;;)try{yield Hc([zc(Sl.j),zc(Sl.a)]),t=yield qc(Al),n=yield nl(t,Pl),yield qc(Bl)}catch(e){}finally{t&&t.close(),n&&!n.isCancelled()&&(yield Zc(n))}}catch(t){Object(_t.b)(t)}}function*Vl(){try{for(yield Hc([zc(Sl.i),zc(Sl.a)]);;)yield qc(Fl),yield qc(kl)}catch(e){Object(_t.b)(e)}}function*zl(){try{for(;;){const[e,t]=yield Hc([zc(Sl.a),zc(Sl.b)]);_l.setAppActive(!!e)}}catch(e){Object(_t.b)(e)}}function*Wl(){try{yield $c([Yc(Gl),Yc(Vl),Yc(zl)])}catch(e){Object(_t.b)(e)}}var $l=n(471),Hl=n(47),Kl=n.n(Hl),ql=n(574),Yl=n.n(ql);function Xl(e){return Object(ll.__awaiter)(this,void 0,void 0,(function*(){return(yield Ks.post("/livechat/conversation/chatUsers",e)).data}))}const Zl=e=>Object(ll.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Ks.post("/livechat/conversation/chatUser",Yl()(e,["userId","userType","firstName","lastName","fullName","profileImageUrl","email","phoneNo","customContext"]))).data}));function Jl(e){return Object(ll.__awaiter)(this,void 0,void 0,(function*(){const{query:t="",size:n=10,pageNum:a=0}=e;return(yield Ks.get(`/livechat/user/search-users?query=${t}&size=${n}&pageNum=${a}`)).data}))}const Ql=e=>({userId:e,email:"",firstName:"",userType:"PARTNER",phoneNo:"",profileImageUrl:""});function*ed(e){try{const t=Ti()(e,(e=>e.sender)),n=yield qc(Xl,e),a=Ti()(n,(e=>Vs.a.getId(e)));let o=[];wo()(t,(e=>{!a.includes(e)&&Object(en.c)(e)&&(o=[...o,Ql(e)])})),yield Wc({type:U.d,payload:{users:[...n,...o]}})}catch(t){Object(_t.b)(t)}}function*td(e){try{const t=ol()(e);if(0===t.length)return;const n=((e,t)=>{const n={};return Kl()(t,((t,a)=>{const o=a.sender;return n[o]||!!Object(Ni.f)(e,o)||(n[o]=o,t.push(a)),t}),[])})(yield Jc(ar.h),t);if(0===n.length)return;yield qc(ed,n)}catch(t){Object(_t.b)(t)}}function*nd(e){try{yield qc(ed,ol()(e))}catch(t){Object(_t.b)(t)}}function ad(e){return e.type===at||e.type===ot}function*od(e){try{yield $c(e.filter(ad).map((e=>Wc(e))))}catch(t){Object(_t.b)(t)}}function rd(e){return e.type===bt}const id=e=>"USER"===e,cd=new Set(["WORK_QUEUE","TASK_QUEUE","HOLDING_QUEUE"]);function*sd(e){try{const{assignmentTime:n,assignedTo:a,unassignedFrom:o,conversationId:r,newAssigneeType:i,oldAssigneeType:c}=e.payload,s=[];a&&id(i)&&s.push({conversationId:r,sender:a}),o&&id(c)&&s.push({conversationId:r,sender:o}),yield qc(td,s),yield Wc(Object($l.a)({conversationId:r,workQueueAssigned:(t=i,cd.has(t)),agentAssigned:id(i)}));const l=yield Jc((e=>Object(Ni.f)(Object(ar.h)(e),a))),d={currentlyAssignedUser:l,previouslyAssignedUser:yield Jc((e=>Object(Ni.f)(Object(ar.h)(e),o))),assignmentTime:n};id(i)&&(yield Wc(Object(An.c)({conversationId:r,additional:d,action:Co.a.AGENT_ASSIGNED})))}catch(n){Object(_t.b)(n)}var t}function*ld(e){try{const t=e.filter(rd);yield $c(t.map(sd))}catch(t){Object(_t.b)(t)}}function*dd(e){try{const{events:t}=e.payload;yield $c([qc(od,t),qc(ld,t)])}catch(t){Object(_t.b)(t)}}function*ud(){try{yield nl(Sl.l,dd)}catch(e){Object(_t.b)(e)}}function*pd(e){yield es(e),yield Wc(Object(An.h)())}function*bd(){let e;const t=yield Qc([at,ot]);for(;;)try{const{type:n,payload:a}=yield zc(t);e&&!e.isCancelled()&&(yield Zc(e)),n===at&&(e=yield Yc(pd,a.waitTime),yield Wc(Object(An.f)({waitTime:a.waitTime,reason:a.reason}))),n===ot&&(yield Wc(Object(An.h)()))}catch(n){Object(_t.b)(n)}}function*fd(){yield $c([Yc(bd)])}function*hd(){try{yield $c([Yc(Wl),Yc(ud),Yc(fd)])}catch(e){Object(_t.b)(e)}}var gd=n(826),yd=n.n(gd),Od=n(408),md=n(449),vd=n(478),jd=n(443),Id=n.n(jd);function Ed(e){let{shouldFetchNumberOfOpenConversation:t,size:n,cursor:a}=e;return Object(ll.__awaiter)(this,void 0,void 0,(function*(){let e=`/livechat/conversation/fetch?fetchNumberOfOpenConversations=${t}&sortKey=lastInteractionTime`;n&&(e=`${e}&size=${n}`),a&&a.after&&(e=`${e}&after=${a.after}`),a&&a.before&&(e=`${e}&before=${a.before}`);return(yield Ks.get(e)).data}))}function Cd(e,t,n){return Object(ll.__awaiter)(this,void 0,void 0,(function*(){let a;a=Aa()(n)?`data=${encodeURIComponent(n)}`:Ti()(n,((e,t)=>`${encodeURIComponent(t)}=${encodeURIComponent(e)}`)).join("&");const o=[...Object.keys(t),"Content-type"];return(yield Ks.post(e,a,{headers:Object.assign(Object.assign({},t),{"Content-Type":"application/x-www-form-urlencoded"}),baseURL:"",transformRequest:(e,t)=>(wo()(t,((e,n)=>{Id()(o,n)||delete t[n]})),e)})).data}))}function Sd(e){return Object(ll.__awaiter)(this,void 0,void 0,(function*(){return(yield Ks.get(`/livechat/conversation/fetch/${e}`)).data}))}function Td(e){return Object(ll.__awaiter)(this,void 0,void 0,(function*(){return(yield Ks.get(`/livechat/conversation/fetch/case/${e}`)).data}))}function _d(e,t){let{size:n,cursor:a}=t;return Object(ll.__awaiter)(this,void 0,void 0,(function*(){const t=[{key:"conversationId",value:e}];n&&t.push({key:"size",value:n}),a&&t.push({key:"cursor",value:a});const o=t.map((e=>`${e.key}=${e.value}`)).join("&");return(yield Ks.get(`/livechat/conversation/fetchMessages?${o}`)).data}))}function xd(e){return Object(ll.__awaiter)(this,void 0,void 0,(function*(){return(yield Ks.post(`/livechat/conversation/closeConversation?conversationId=${e}`)).data}))}function Ad(){return Object(ll.__awaiter)(this,void 0,void 0,(function*(){return(yield Ks.post("/livechat/conversation/closeAll")).data}))}function Rd(e){return Object(ll.__awaiter)(this,void 0,void 0,(function*(){return(yield Ks.post(`/livechat/conversation/delete?conversationId=${e}`)).data}))}function Nd(){return Object(ll.__awaiter)(this,void 0,void 0,(function*(){return(yield Ks.post("/livechat/conversation/deleteAll")).data}))}function wd(e,t){return Object(ll.__awaiter)(this,void 0,void 0,(function*(){return(yield Ks.post(`/livechat/conversation/updateDisclaimer/${e}?disclaimerStatus=${t}`)).data}))}function Ld(e,t){return Object(ll.__awaiter)(this,void 0,void 0,(function*(){const n={conversationId:e,messageId:t};return(yield Ks.get("/livechat/conversation/fetchMessage",{params:n,backoff:!0})).data}))}function Dd(e){return Object(ll.__awaiter)(this,void 0,void 0,(function*(){return(yield Ks.post("/livechat/appointment/slots",{slotDefinitionId:e.slotDefinitionId,startTime:e.selectedDate.getTime(),timeZone:e.timeZone,params:e.appointmentAssetParams,messageId:e.messageId})).data}))}function Md(e){return Object(ll.__awaiter)(this,void 0,void 0,(function*(){return(yield Ks.post("/livechat/appointment/reserve",{startTime:e.selectedDate.getTime(),selectedSlot:e.selectedSlot,slotDefinitionId:e.slotDefinitionId,timeZone:e.timeZone,params:e.appointmentAssetParams,messageId:e.messageId})).data}))}function Pd(e){return Object(ll.__awaiter)(this,void 0,void 0,(function*(){return(yield Ks.post("/livechat/conversation/new",e)).data}))}function kd(e,t,n){return Object(ll.__awaiter)(this,void 0,void 0,(function*(){return(yield Ks.post("/livechat/conversation/suggestions",Object.assign({conversationId:e,query:t},n))).data}))}function Ud(e){let{context:t,updateLatest:n}=e;Ks.post(`/livechat/conversation/updateConversationDetails?updateLatest=${n}`,t)}function Fd(e){let{conversationId:t,context:n}=e;Ks.post(`/livechat/conversation/updateConversationDetails?conversationId=${t}`,n)}function Bd(e){return Ks.post(`/livechat/conversation/cancelAsset/${e}`)}function Gd(e){return Object(ll.__awaiter)(this,void 0,void 0,(function*(){return Ks.post(`/livechat/conversation/markSurveyOpened/${e}`)}))}function Vd(){return Object(ll.__awaiter)(this,void 0,void 0,(function*(){return(yield Ks.get("/livechat/conversation/fetchNumberOfOpenConversations")).data}))}function zd(e){return Object(ll.__awaiter)(this,void 0,void 0,(function*(){return Ks.post(`/livechat/conversation/markTimeOfDelivery?messageIds=${e.join(",")}`)}))}var Wd=n(428);function*$d(e){Object(vd.k)(e)&&(yield Wc(Object(Wd.p)(e)))}function Hd(e){return Object(ll.__awaiter)(this,void 0,void 0,(function*(){let t=e;Object(vd.j)(e)||(t=Mt()(e,"id"));const n=yield function(e){return Object(ll.__awaiter)(this,void 0,void 0,(function*(){return(yield Ks.post("/livechat/conversation/send",e)).data}))}(t);return n}))}function*Kd(e){try{return yield qc(Hd,e)}catch(t){return void Object(_t.b)(t)}}function*qd(e){const t=e.id,n=Od.a.getConversationId(e);let a;const o=s()(md.a.getAttachment(Od.a.getMessagePayload(e)),"messageId");try{a=yield qc(Hd,e)}catch(r){throw yield Wc({type:Ee.I,payload:{chatMessage:new Od.a(e).setCreationTime(Date.now()).build(),conversationId:Od.a.getConversationId(e)}}),yield Wc({payload:{conversationId:n,transientId:t,postbackParentMessageId:o},type:Ee.F}),r}Object(vd.k)(a)&&(yield Wc({payload:{chatMessage:a,conversationId:n,transientId:t},type:Ee.G}))}var Yd=n(508);function*Xd(e){try{const t=Yd.a.makeOutgoing().makeTextMessage(e.payload);yield qc($d,t),yield qc(qd,t)}catch(t){Object(_t.b)(t)}}function*Zd(){yield nl(Ee.Z,Xd)}var Jd=n(415);const Qd=(e,t)=>{const n=md.a.getAttachment(Od.a.getMessagePayload(e));return k()(e,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},n.showSubmittedContent?{clickedButtonId:t.buttonId}:{}),{submitted:!n.reSubmittable})}}})},eu=(e,t)=>{const n=md.a.getAttachment(Od.a.getMessagePayload(e));return k()(e,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},n.showSubmittedContent?{filledForm:t.filledForm}:{}),{submitted:!0})}}})},tu={[Jd.b.CARD]:Qd,[Jd.b.CAROUSEL]:Qd,[Jd.b.CO_BROWSE_INVITE]:Qd,[Jd.b.PRODUCT_CARD]:Qd,[Jd.b.PRODUCT_SHOWCASE_CARD]:Qd,[Jd.b.INFO_CARD]:Qd,[Jd.b.PRODUCT_BANNER]:Qd,[Jd.b.PRODUCT_LIST]:Qd,[Jd.b.FORM]:eu,[Jd.b.CONTACT_DETAILS_FORM]:eu,[Jd.b.SECURE_FORM]:eu,[Jd.b.APPOINTMENT]:(e,t)=>k()(e,{messagePayload:{attachment:{$merge:{selectedDate:t.selectedDate,selectedSlot:t.selectedSlot,submitted:!0}}}}),[Jd.b.SURVEY]:(e,t)=>k()(e,{messagePayload:{attachment:{$merge:{opened:!!t.opened,submitted:!!t.submitted}}}})},nu=(e,t)=>{if(!e)return{};switch(md.a.getAttachment(Od.a.getMessagePayload(e)).type){case Jd.b.CAROUSEL:case Jd.b.CO_BROWSE_INVITE:case Jd.b.PRODUCT_CARD:case Jd.b.PRODUCT_SHOWCASE_CARD:case Jd.b.INFO_CARD:case Jd.b.PRODUCT_BANNER:case Jd.b.PRODUCT_LIST:case Jd.b.CARD:return{buttonId:md.a.getAttachment(Od.a.getMessagePayload(t)).buttonId};case Jd.b.SURVEY:return{submitted:!md.a.getAttachment(Od.a.getMessagePayload(t)).reSubmittable,opened:!0};case Jd.b.SECURE_FORM:case Jd.b.FORM:case Jd.b.CONTACT_DETAILS_FORM:return{filledForm:md.a.getAttachment(Od.a.getMessagePayload(t)).filledForm};case Jd.b.APPOINTMENT:return{selectedDate:md.a.getAttachment(Od.a.getMessagePayload(t)).selectedDate,selectedSlot:md.a.getAttachment(Od.a.getMessagePayload(t)).selectedSlot};default:return{}}};function*au(e){let{chatMessage:t,conversationId:n,params:a}=e;if(!t)return null;const o=tu[md.a.getAttachment(Od.a.getMessagePayload(t)).type];if(o){const e=o(t,a);return yield Wc({type:Ee.I,payload:{chatMessage:e,conversationId:n}}),e}return null}function*ou(e){const{postback:{messageId:t},conversationId:n}=e.payload;let a;const o=yield Jc(ar.c),r=Object(or.j)(Object(or.l)(o,n),t);try{const t=Yd.a.makeOutgoing().makeTemplatePostbackAttachmentMessage(e.payload);a=yield qc(au,{chatMessage:r,conversationId:n,params:nu(r,t)}),t&&(yield qc($d,t),yield qc(qd,t),e.promise.resolve())}catch(i){a&&(yield Wc({type:Ee.I,payload:{chatMessage:r,conversationId:n}})),e.promise.reject(),Object(_t.b)(i)}}function*ru(){yield nl(Ee.Y,ou)}function*iu(e){try{const t=Yd.a.makeOutgoing().makeQuickReplyPostbackAttachmentMessage(e.payload);t&&(yield qc($d,t),yield qc(qd,t))}catch(t){Object(_t.b)(t)}}function*cu(){yield nl(Ee.R,iu)}const su="/co-browse/conversation",lu=e=>{let{messageId:t,markCompletedSession:n}=e;return Object(ll.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Ks.post(`${su}/${n?"completed":"cancelled"}?messageId=${t}`)).data}))},du=e=>{let{messageId:t,actionPayload:n}=e;return Object(ll.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Ks.post(`${su}/push?messageId=${t}`,{type:"CO_BROWSE",payload:n})).data}))},uu=e=>{let{messageId:t,payload:n}=e;return Object(ll.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Ks.post(`${su}/push/status?messageId=${t}`,n)).data}))},pu=e=>{let{messageId:t,otp:n,additionalInfo:a}=e;return Object(ll.__awaiter)(void 0,void 0,void 0,(function*(){return uu({messageId:t,payload:{status:"SUCCESS",otp:n,additionalInfo:a}})}))},bu=e=>{let{messageId:t,reason:n}=e;return Object(ll.__awaiter)(void 0,void 0,void 0,(function*(){return uu({messageId:t,payload:{status:"FAILED",reason:n}})}))},fu=e=>{let{messageId:t,payload:n}=e;return Ks.post(`${su}/event?messageId=${t}`,n)},hu=e=>{let{messageId:t}=e;return Object(ll.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Ks.get(`${su}/session/live?messageId=${t}`)).data}))};var gu=n(739);function*yu(e){try{const{messageId:t}=yield Jc(ar.f);yield qc(du,{messageId:t,actionPayload:e.payload})}catch(t){Object(_t.b)(t)}}function*Ou(e){const{messageId:t,conversationId:n,agentId:a}=yield Jc(ar.f);try{const{otp:o,additionalInfo:r}=e.payload;yield qc(pu,{messageId:t,otp:o,additionalInfo:r}),yield Wc(Object(eo.i)({state:{messageId:t,conversationId:n,agentId:a}}))}catch(o){try{yield Wc(Object(eo.e)({reason:no.a.OTP_SEND_FAILED})),yield qc(bu,{messageId:t,reason:no.a.OTP_SEND_FAILED})}catch(r){Object(_t.b)(o)}}}function*mu(e){try{const{messageId:t,reason:n}=e.payload;yield Wc(Object(eo.e)({reason:n})),yield qc(bu,{messageId:t,reason:n})}catch(t){Object(_t.b)(t)}}function*vu(e){let{messageId:t}=e;const[n,a]=yield Hc([zc((e=>{let{type:n,payload:a}=e;return n===Ee.G&&s()(a,"chatMessage.messagePayload.attachment.messageId")===t})),zc((e=>{let{type:n,payload:a}=e;return n===Ee.F&&s()(a,"postbackParentMessageId")===t})),zc(gu.g),zc(gu.h)]);n&&(yield Wc(Object(eo.p)())),a&&(yield Wc(Object(eo.e)({reason:no.a.POSTBACK_SEND_FAILED})))}function*ju(e){try{const{messageId:t}=yield Jc(ar.f);yield qc(fu,{messageId:t,payload:e.payload})}catch(t){Object(_t.b)(t)}}function*Iu(e){try{const{messageId:t,endedByAgent:n,markCompletedSession:a}=e.payload;if(n||!t)return;return void(yield qc(lu,{messageId:t,markCompletedSession:a}))}catch(t){Object(_t.b)(t)}}function*Eu(e){const{shouldNotifyAgent:t}=e.payload;try{t&&(yield Wc(Object(eo.j)({type:"REMOTE_CONTROL",payload:{status:"ACCEPT"}})))}catch(n){Object(_t.b)(n)}}function*Cu(e){try{yield Wc(Object(eo.j)({type:"REMOTE_CONTROL",payload:{status:"REJECT"}}))}catch(t){Object(_t.b)(t)}}function*Su(e){try{yield Wc(Object(eo.j)({type:"REMOTE_CONTROL",payload:{status:"STOP"}}))}catch(t){Object(_t.b)(t)}}function*Tu(e){const{messageId:t,conversationId:n,agentId:a}=e.payload.state;try{const[e]=yield $c([qc(hu,{messageId:t}),qc(td,{sender:a,conversationId:n})]);e?yield Wc(Object(eo.o)({state:{conversationId:n,messageId:t,agentId:a}})):yield Wc(Object(eo.e)({reason:no.a.RESUME_SESSION_FAILED}))}catch(o){yield Wc(Object(eo.f)({messageId:t,reason:no.a.RESUME_SESSION_FAILED})),Object(_t.b)(o)}}function*_u(){yield nl(gu.g,Iu)}function*xu(){yield nl(gu.o,Ou)}function*Au(){yield nl(gu.p,mu)}function*Ru(){yield nl(gu.b,Eu)}function*Nu(){yield nl(gu.e,Cu)}function*wu(){yield nl(gu.c,Su)}function*Lu(){yield nl(gu.a,yu)}function*Du(){yield nl(gu.k,Tu)}function*Mu(){yield nl(gu.f,ju)}function*Pu(){yield $c([Yc(xu),Yc(Au),Yc(_u),Yc(Ru),Yc(Nu),Yc(wu),Yc(Lu),Yc(Du),Yc(Mu)])}function*ku(e){const t=e?ol()(e):tr.a;if(0===t.length)return;const n=Od.a.getConversationId(t[0]),a=Ti()(t,(e=>({sender:Od.a.getSender(e),conversationId:n})));yield qc(td,a)}var Uu=n(431),Fu=n.n(Uu),Bu=n(674),Gu=n.n(Bu),Vu=n(841),zu=n(748),Wu=n(672),$u=n(842),Hu=n(1044);const Ku=(e,t)=>{const n=Vs.a.getId(t),a=md.a.getAttachment(Od.a.getMessagePayload(e)),o=Object(Hu.a)(a,{user:t}),r=Gu()(Vu.a.getFields(zu.a.getForm(a)),(e=>{const{id:t,validator:n}=e;return"EQUALITY"!==n&&d()(o[t])}));return!Object(en.b)(n)&&r},qu=(e,t,n,a)=>{let o;return o="string"===typeof e?(new Od.a).setMessagePayload((new md.a).setMessageType(Wu.b).setMessageText(e).setMessageDisableManualResponse(!!a).build()).build():e,Yd.a.makeSent().makeMessage(Object.assign({messageId:n,conversationId:t,sender:za.b},o))},Yu=e=>{if(Aa()(e))return e;switch(Object(dn.f)(e)?s()(e,"response.status",404):-1){case 401:case 404:return $u.a.NOT_FOUND;case 406:return $u.a.NOT_ACCEPTABLE;default:return $u.a.UNEXPECTED_ERROR}};var Xu=n(615);let Zu={};function*Ju(e){try{const n=e.payload.conversationId;if(Zu[n]){for(;;){const[t,a]=yield Hc([zc(Ee.L),zc(Ee.M)]);if(s()(t||a,"payload.transientConversationId")===n){e.promise&&(t&&e.promise.resolve({conversationId:t.payload.conversationResponse.id,caseNumber:t.payload.conversationResponse.caseNumber}),a&&e.promise.reject(a.payload.error));break}}return}try{Zu[n]=!0;const t=yield Jc(ar.c),a=yield Jc(ar.d),o=Fu()(a),r=Object(or.l)(t,n),i=Object(or.p)(t),c=Object(or.g)(i,n),l=s()(Object(or.f)(i,n),"assignToUser"),d=Object(or.w)(r),u=Object(or.e)(Object(or.p)(t),n)||{},p=u.clickedOnPrompt,b=yield qc(Pd,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},d?{chatMessages:Object(or.k)(r).map((e=>({messagePayload:Od.a.getMessagePayload(e),sender:Od.a.getSender(e)})))}:void 0),{createCase:Object(or.A)(Object(or.p)(t),n),startedByContext:c}),u),e.payload.appContext),!p&&o?{creativeId:o.additional.creativeId,interceptId:o.additional.interceptId,clickedOnPrompt:!1}:{}),{assignToUser:l})),f=Object(Ni.b)(yield Jc(ar.h));yield Wc({payload:{transientConversationId:n,conversationResponse:b,botUserIds:f},type:Ee.L}),e.promise&&e.promise.resolve({conversationId:b.id,caseNumber:b.caseNumber})}catch(t){yield Wc({type:Ee.M,payload:{transientConversationId:e.payload.conversationId,error:Yu(t)}}),e.promise&&e.promise.reject(Yu(t)),Object(_t.b)(t)}finally{delete Zu[e.payload.conversationId]}}catch(n){}}function*Qu(e){try{const t=kr()(ol()(Ht.a.getDefaultMessages($t.a.getCustomizationConfig(e)))),n=kr()(t.map(((e,t)=>qu(e,za.e,`${za.d}${t}`))));if(n.length){const e=yield Jc(ar.h),t=n.map((t=>{const n=Object(Xu.e)(e,Od.a.getSender(t));return Wc(Object($l.g)(t,n))}));yield $c(t)}return n}catch(t){Object(_t.b)(t)}}function*ep(e,t){try{const n=Ht.a.getContactDetailsMessage($t.a.getCustomizationConfig(e)),a=[];if(n&&Ku(n,Gs.a.getChatUser(t))){const e=qu(n,za.e,za.c),t=yield Jc(ar.h),o=Object(Xu.e)(t,Od.a.getSender(e));a.push(e),yield Wc(Object($l.g)(e,o))}return a}catch(n){Object(_t.b)(n)}}function*tp(e,t){try{const n=yield qc(Qu,e),a=yield qc(ep,e,t);return[...n,...a]}catch(n){Object(_t.b)(n)}}function np(){Zu={}}function*ap(){try{const t=s()(Object(Ni.c)(yield Jc(ar.h)),"userId");for(;;)try{const e=yield Jc(ar.c),n=Object(or.l)(e,za.e),a=Object(or.j)(n,za.c);if(!a)break;const{payload:{users:o}}=yield zc(U.d),r=o.find((e=>e.userId===t));r&&!Ku(a,r)&&(yield Wc(Object($l.h)(za.e,za.c)))}catch(e){Object(_t.b)(e)}}catch(e){Object(_t.b)(e)}}function*op(){try{yield nl(Kn.c,np)}catch(e){Object(_t.b)(e)}}function*rp(){try{yield nl(Ee.K,Ju)}catch(e){Object(_t.b)(e)}}function*ip(){try{const{payload:{applicationConfig:e,handshakeDetails:t}}=yield zc(Kn.a);yield qc(tp,e,t),yield $c([Yc(ap),Yc(rp),Yc(op)])}catch(e){Object(_t.b)(e)}}var cp=n(554);function*sp(e){const{payload:t}=e,{actionParams:n}=t;n.actionType===cp.a&&(yield Wc(Object($l.i)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId}})))}function*lp(e){const{payload:t}=e,{actionParams:n}=t;n.actionType===cp.b&&(yield Wc(Object($l.j)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId}})))}function*dp(e){yield $c([qc(sp,e),qc(lp,e)])}function*up(e){const{messageId:t,conversationId:n}=e.payload,a=yield Jc(ar.c),o=Object(or.j)(Object(or.l)(a,n),t);let r;try{r=yield qc(au,{chatMessage:o,conversationId:n,params:{opened:!0}}),yield qc(Gd,t)}catch(i){r&&(yield Wc({type:Ee.I,payload:{chatMessage:o,conversationId:n}})),Object(_t.b)(i)}}function*pp(e){const{attachment:t}=e.payload,n=s()(t,"opened");try{return void(n||(yield qc(up,e)))}catch(a){Object(_t.b)(a)}}function*bp(){yield nl(Ee.V,pp)}var fp=n(544),hp=n(736),gp=n(575),yp=n(468),Op=n(843),mp=n(670),vp=n(1278),jp=n(487),Ip=n(488);const Ep=e=>Object(jp.e)(Object(ar.e)(e));function Cp(e){return e===cp.a||e===cp.b}function Sp(e){return e===hp.a.OPEN_URL}function Tp(e){return e===hp.a.DIAL}function _p(e){return e===hp.a.FETCH_APPOINTMENT_TIME_SLOTS}function xp(e){return e===hp.a.RESERVE_APPOINTMENT_TIME_SLOT}function Ap(e){return e===hp.a.START_VIDEO_CALL}function Rp(e){return e===hp.a.START_AUDIO_CALL}function Np(e){return e===hp.a.REJOIN_CALL}function wp(e,t){return Yd.a.makeSent().makeMessage({messageId:e.id,messagePayload:Od.a.getMessagePayload(e),conversationId:t,sender:Od.a.getSender(e),creationTime:Od.a.getCreationTime(e),clientMessageId:Od.a.getClientMessageId(e)})}function*Lp(e){try{const{payload:t}=e,{conversationId:n,cursor:a}=t,o=yield qc(_d,n,{size:t.size,cursor:a}),r=kr()(o.results.map((e=>wp(e,n))));yield qc(ku,r),yield Wc({payload:{conversationMessagesResponse:Object.assign(Object.assign({},o),{results:r}),conversationId:n,cursor:a},type:Ee.m}),e.promise&&e.promise.resolve()}catch(t){e.promise&&e.promise.reject(),yield Wc({type:Ee.n,payload:{conversationId:e.payload.conversationId}}),Object(_t.b)(t)}}function*Dp(e){try{const{payload:t,promise:n}=e,{conversationId:a,includeAll:o}=t,r=o?yield qc(Nd):yield qc(Rd,a);yield Wc(Object($l.a)({conversationId:a,includeAll:o,deleted:!0,surveyUrl:r.surveyUrl})),n&&n.resolve()}catch(t){e.promise&&e.promise.reject(),Object(_t.b)(t)}}function*Mp(){try{yield nl(Ee.i,Dp)}catch(e){Object(_t.b)(e)}}function*Pp(e){try{const{payload:t,promise:n}=e,{conversationId:a,includeAll:o}=t,r=o?yield qc(Ad):yield qc(xd,a);yield Wc(Object($l.a)({conversationId:a,includeAll:o,closed:!0,surveyUrl:r.surveyUrl})),n&&n.resolve()}catch(t){e.promise&&e.promise.reject(),Object(_t.b)(t)}}function*kp(){try{yield nl(Ee.h,Pp)}catch(e){Object(_t.b)(e)}}function*Up(){try{yield nl(Ee.l,Lp)}catch(e){Object(_t.b)(e)}}function*Fp(e){try{const{query:t,conversationId:n,faqAttachment:a}=e.payload,o=yield qc(kd,n,t,a);e.promise&&e.promise.resolve(o)}catch(t){e.promise&&e.promise.reject(),Object(_t.b)(t)}}function*Bp(){try{yield nl(Ee.A,Fp)}catch(e){Object(_t.b)(e)}}function*Gp(e){try{const t=Kl()(e,((e,t)=>{const n=yp.a.getParticipants(t);return wo()(n,(n=>{e.push({sender:n,conversationId:t.id})})),e}),[]);yield qc(td,t)}catch(t){Object(_t.b)(t)}}function*Vp(){try{for(;;)try{const e=yield zc(Ee.f),t=yield qc(Ed,e.payload);yield qc(Gp,t.results);const n=yield Jc(ar.h),a=Object(Ni.b)(n),o=Object(Ni.d)(n);yield Wc({payload:{conversationResponse:t,botUserIds:a,chatUserId:o},type:Ee.g})}catch(e){Object(_t.b)(e)}}catch(t){Object(_t.b)(t)}}function*zp(){try{for(;;){let n,a,o;const r=yield zc(Ee.s);a=r.payload.caseId,n=r.payload.conversationId,o=r.payload.context;const i=yield Jc(ar.h),c=Object(Ni.b)(i),s=Object(Ni.d)(i);try{const e=yield qc(Td,r.payload.caseId);yield Wc({payload:{caseId:a,conversationResponse:e,botUserIds:c,chatUserId:s},type:Ee.t})}catch(e){try{if(Object(dn.a)(e))throw e;{const e=yield qc(Pd,Object.assign({createCase:!0,caseId:a},o));yield Wc({payload:{caseId:a,conversationResponse:e,botUserIds:c,chatUserId:s},type:Ee.t})}}catch(t){yield Wc({payload:{conversationId:n,error:Yu(t)},type:Ee.u})}}}}catch(n){Object(_t.b)(n)}}function*Wp(){try{for(;;){let t;try{const e=yield zc(Ee.v);t=e.payload.conversationId;const n=yield qc(Sd,e.payload.conversationId),a=yield Jc(ar.h),o=Object(Ni.b)(a),r=Object(Ni.d)(a);yield Wc({payload:{conversationResponse:n,botUserIds:o,chatUserId:r},type:Ee.w})}catch(e){yield Wc({payload:{conversationId:t,error:Yu(e)},type:Ee.x}),Object(_t.b)(e)}}}catch(t){Object(_t.b)(t)}}function*$p(e){try{for(;;){const n=yield Jc(Ep);try{if(n){const t=e.payload,{conversationId:n}=t,a=wp(yield qc(Ld,n,t.messageId),n);return yield qc(ku,a),a}yield zc(Sl.f)}catch(t){if(Object(_t.b)(t),!Object(dn.c)(t))break}}return null}catch(n){return Object(_t.b)(n),null}}function*Hp(e){try{const t=e.payload;yield Wc(Object($l.k)({type:t.actionType,payload:Mt()(e.payload,["actionType"])}))}catch(t){Object(_t.b)(t)}}function*Kp(e){try{const t=yield qc($p,e);t&&(yield Wc({type:Ee.I,payload:{chatMessage:t,conversationId:Od.a.getConversationId(t)}}))}catch(t){Object(_t.b)(t)}}function*qp(e){try{const t=yield Jc(ar.c),n=Object(or.p)(t),a=Object(Ni.c)(yield Jc(ar.h)),{sender:o,deleted:r,closed:i,caseNumber:c,conversationId:s}=e.payload,l=Object(or.f)(n,s);(o!==a.userId||c&&l&&!l.caseNumber&&!r&&!i)&&(yield Wc(Object($l.a)(e.payload)),c&&l&&!l.caseNumber&&(yield Wc(Object(An.c)({action:Co.a.NEW_CONVERSATION_CREATED,conversationId:s,additional:{caseNumber:c}}))))}catch(t){Object(_t.b)(t)}}function*Yp(e){try{const{conversationId:t,videoCallEnabled:n,audioCallEnabled:a}=e.payload;yield Wc({type:Ee.d,payload:{conversationId:t,videoCallEnabled:n,audioCallEnabled:a}})}catch(t){Object(_t.b)(t)}}function*Xp(e){try{const{payload:t}=e,{actionParams:n}=t;Cp(n.actionType)&&(yield qc(dp,e),e.promise.resolve())}catch(t){Object(_t.b)(t)}}function*Zp(e){try{const{payload:t}=e,{actionParams:n,conversationId:a}=t;n.actionType===hp.a.ACCOUNT_LINK&&(yield Wc(Object(An.a)({ssoId:n.values,conversationId:a,messageId:n.messageId})(e.promise)))}catch(t){Object(_t.b)(t)}}function*Jp(e){try{const{actionParams:{attachment:t,values:n}}=e.payload,a=t,o=yield qc(Cd,a.submitResponseUrl,a.httpHeaders,n.secureData);return{maskedData:n.maskedData,secureFormId:o}}catch(t){return Object(_t.b)(t),null}}function*Qp(e){try{const{actionParams:{messageId:t,actionType:n,values:a},conversationId:o}=e.payload;if(n===hp.a.ACCEPT_CO_BROWSE){const e=yield Jc((e=>Object(or.j)(Object(or.l)(Object(ar.c)(e),o),t))),n=Od.a.getSender(e);yield Wc(Object(eo.d)({messageId:t,conversationId:o,agentId:n})),yield Xc(vu,{messageId:t})}return a}catch(t){return Object(_t.b)(t),null}}function*eb(e){try{const{actionParams:{attachment:t,actionId:n,values:a,messageId:o},conversationId:r}=e.payload,i=s()(Object(mp.a)(n,t),"surveyUrl","");yield Wc(Object($l.e)({surveyUrl:i,conversationId:r})),yield Wc({type:Ee.V,payload:{messageId:o,conversationId:r,attachment:t}});const[c]=yield Hc([zc(Ee.W),zc(Ee.T),zc(Ee.X)]);return c?a:null}catch(t){return Object(_t.b)(t),null}}function*tb(e){try{const{actionParams:{actionType:t,values:n}}=e.payload;return function(e){return e===hp.a.SECURE_FORM_POST_BACK}(t)?yield qc(Jp,e):function(e){return e===hp.a.ACCEPT_CO_BROWSE||e===hp.a.DENY_CO_BROWSE}(t)?yield qc(Qp,e):function(e){return e===hp.a.SURVEY_POST_BACK}(t)?yield qc(eb,e):n}catch(t){return Object(_t.b)(t),null}}function*nb(e){try{const{payload:a}=e,{actionParams:o,appContext:r}=a;if(!Cp(t=o.actionType)&&!Sp(t)&&!Tp(t)&&!_p(t)&&!xp(t)&&!Rp(t)&&!Ap(t)&&!Np(t))try{const t=yield qc(tb,e);i()(t)?e.promise&&e.promise.resolve():yield Wc(Object($l.o)({conversationId:a.conversationId,sender:a.sender,postback:{attachment:o.attachment,values:t,additional:o.additional,appContext:r,messageId:o.messageId,postbackId:o.actionId,postbackType:o.actionType},inReplyToChatMessageId:a.inReplyToChatMessageId})(e.promise))}catch(n){Object(g.a)(n),e.promise.reject()}}catch(a){Object(_t.b)(a)}var t}function*ab(e){try{const{payload:t}=e,{actionParams:n}=t;Sp(n.actionType)&&(yield Wc(Object($l.f)({attachment:n.attachment,actionId:n.actionId})(e.promise)))}catch(t){Object(_t.b)(t)}}function*ob(e){try{const{payload:t}=e,{actionParams:n}=t;Tp(n.actionType)&&(yield Wc(Object($l.d)({attachment:n.attachment,actionId:n.actionId})(e.promise)))}catch(t){Object(_t.b)(t)}}function*rb(e){try{const{payload:t}=e,{actionParams:{actionId:n,actionType:a,attachment:o,messageId:r,values:i},conversationId:c,appContext:l}=t;if(Np(a))yield Wc(Object(fp.o)({conversationId:c,isPhone:l.isPhone,type:i.audioOnly?Il.a.AUDIO:Il.a.VIDEO,isIncomingCall:i.isIncomingCall,videoConversationId:i.videoChatConversationId,prevState:Object(Op.a)(i.currentState,i.isIncomingCall)})),e.promise&&e.promise.resolve();else if(Ap(a)||Rp(a)){const t=yield Jc(ar.b);if(Object(Ip.a)(t))return void(e.promise&&e.promise.reject());const i=Ap(a)?Il.a.VIDEO:Il.a.AUDIO,d=s()(Object(mp.a)(n,o),"title","");let u={};n&&(u={sourceButtonId:n,messageId:r,messageText:d}),yield Wc(Object(fp.g)(Object.assign({conversationId:c,isPhone:l.isPhone,type:i},u))),e.promise&&e.promise.resolve()}}catch(t){Object(_t.b)(t)}}function*ib(e){try{const{payload:n}=e,{actionParams:a,conversationId:o,appContext:r}=n,i=_p(a.actionType),c=xp(a.actionType);let l,d;if(i||c)try{const t=yield Jc(ar.c);if(l=Object(or.j)(Object(or.l)(t,o),a.messageId),i&&(yield Wc({type:Ee.I,payload:{chatMessage:k()(l,{messagePayload:{attachment:{$merge:{slots:void 0}}}}),conversationId:o}}),d=yield qc(Dd,{selectedDate:a.values.selectedDate,slotDefinitionId:a.attachment.slotDefinitionConfigId,timeZone:r.timeZone,appointmentAssetParams:a.attachment.params,messageId:a.messageId}),yield Wc({type:Ee.I,payload:{chatMessage:k()(l,{messagePayload:{attachment:{$merge:{slots:d}}}}),conversationId:o}})),c){d=yield qc(Md,{selectedDate:a.values.selectedDate,selectedSlot:a.values.selectedSlot,timeZone:r.timeZone,slotDefinitionId:a.attachment.slotDefinitionConfigId,appointmentAssetParams:a.attachment.params,messageId:a.messageId});const e=s()(d,"slots");e&&(yield Wc({type:Ee.I,payload:{chatMessage:k()(l,{messagePayload:{attachment:{$merge:{slots:e}}}}),conversationId:o}}))}e.promise.resolve({actionType:a.actionType,response:{reservationId:s()(d,"reservationId"),selectedSlot:a.values.selectedSlot,selectedDate:a.values.selectedDate,visibleSlots:a.values.visibleSlots}})}catch(t){Object(_t.b)(t),e.promise.reject({actionType:a.actionType,response:{error:d}})}}catch(n){Object(_t.b)(n)}}function*cb(e){try{yield $c([qc(Xp,e),qc(nb,e),qc(ab,e),qc(ob,e),qc(Zp,e),qc(ib,e),qc(rb,e)])}catch(t){Object(_t.b)(t)}}function*sb(e,t){try{const n=k()(e,{payload:{actionParams:{$set:Object.assign(Object.assign({},Mt()(e.payload.actionParams,["actionTypes"])),{actionType:t})}}}),a=new Promise(((e,t)=>{n.promise={resolve:e,reject:t}}));return yield qc(cb,n),a}catch(n){return Object(_t.b)(n),null}}function*lb(e){try{let n={},a={};try{const t=e.payload.actionParams.actionTypes;for(let o=0;o<yd()(t);o+=1){(yield qc(sb,e,t[o])).then((e=>{a=zr()(a,e)}),(e=>{n=zr()(n,e)}))}e.promise.resolve(a)}catch(t){e.promise.reject(n),Object(_t.b)(t)}}catch(n){Object(_t.b)(n)}}function*db(){try{yield nl(Ee.c,lb)}catch(e){Object(_t.b)(e)}}function*ub(e){try{let n,a;try{const{disclaimerStatus:t}=e.payload,o=yield Jc(ar.c),r=Object(or.p)(o);n=e.payload.conversationId,a=s()(Object(or.h)(r,n),"disclaimerStatus"),yield Wc({type:Ee.r,payload:{conversationId:n,disclaimerStatus:t}}),yield qc(wd,n,t),e.promise.resolve()}catch(t){e.promise.reject(),yield Wc({type:Ee.r,payload:{conversationId:n,disclaimerStatus:a}}),Object(_t.b)(t)}}catch(n){Object(_t.b)(n)}}function*pb(){try{yield nl(Ee.q,ub)}catch(e){Object(_t.b)(e)}}const bb={field:"closed",values:[!0],filterType:gp.a.NIN};function*fb(e,t){try{const n=yield Jc(ar.c),a=Object(or.u)(n),o=t||bb,r=Xo()(a.ids,(e=>{let t=!1;if(d()(o))return!0;vp.a.createFilterAction(o,{getFilterBuilder:vp.a.createFilterAction}).matches(a.byId[e],{logOnFailure:!0})&&(t=!0);return t}));r&&(yield qc(Fd,{context:e,conversationId:r}))}catch(n){Object(_t.b)(n)}}function*hb(e,t){try{yield zc(Ee.g),yield qc(fb,e,t)}catch(n){Object(_t.b)(n)}}function*gb(e){try{const{context:t,conversationId:n,filters:a,includeDeleted:o}=e.payload;if(n)return void(yield qc(Fd,{context:t,conversationId:n}));if(o)return void(yield qc(Ud,{context:t,updateLatest:o}));const r=yield Jc(ar.c),i=Object(or.p)(r);if(Object(or.b)(i))return void(yield qc(fb,t,a));yield Yc(hb,t,a)}catch(t){Object(_t.b)(t)}}function*yb(){try{yield nl(Ee.k,gb)}catch(e){Object(_t.b)(e)}}function*Ob(e){try{const{lastReadMessageId:t}=e.payload;yield qc(dl,{type:"MESSAGE_READ",payload:{messageId:t}})}catch(t){Object(_t.b)(t)}}function*mb(){try{yield nl(Ee.O,Ob)}catch(e){Object(_t.b)(e)}}function*vb(e){try{const e=yield qc(Vd);yield Wc({payload:{openConversationCount:e},type:Ee.ab})}catch(t){Object(_t.b)(t)}}function*jb(){try{yield function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return Yc.apply(void 0,[tl,e,t].concat(a))}(Ee.B,vb)}catch(e){Object(_t.b)(e)}}function*Ib(){try{yield $c([Yc(Vp),Yc(Wp),Yc(Bp),Yc(ip),Yc(Up),Yc(Mp),Yc(kp),Yc(Zd),Yc(ru),Yc(cu),Yc(db),Yc(yb),Yc(zp),Yc(pb),Yc(mb),Yc(bp),Yc(jb)])}catch(e){Object(_t.b)(e)}}const Eb={},Cb="START_TYPING",Sb="STOP_TYPING";function*Tb(e,t){try{yield qc(dl,{type:e,payload:{conversationId:t}})}catch(n){Object(_t.b)(n)}}function*_b(e,t){for(;;)yield Yc(Tb,Cb,e),yield es(25e3),yield zc(t)}function*xb(e,t){let n,a;try{for(n=ms(Rc.dropping(1)),a=yield Yc(_b,e,n);;){const e=yield zc(t);if(e.type!==Ee.bb)break;n.put(e)}}catch(o){Object(_t.b)(o)}finally{yield Yc(Tb,Sb,e),n&&n.close(),a&&a.cancel()}}function*Ab(e,t){for(;;)try{let n;if(n=yield zc(t),n.type!==Ee.bb)continue;yield qc(xb,e,t)}catch(n){Object(_t.b)(n)}}function*Rb(){for(;;)try{const e=yield Hc([zc(Ee.bb),zc(Ee.cb)]),t=kr()(e)[0],{payload:{conversationId:n}}=t;let a=Eb[n];a||(a=ms(Rc.sliding(1)),Eb[n]=a,yield Yc(Ab,n,a)),a.put(t)}catch(e){Object(_t.b)(e)}}function*Nb(){yield Yc(Rb)}var wb=n(500),Lb=n.n(wb);const Db={};function*Mb(){throw yield es(3e4),new Error("")}function*Pb(e,t,n,a){let o;yield Wc({type:Ee.a,payload:{conversationId:t,userId:n,actionTime:a}});try{for(o=yield Yc(Mb);;){const a=yield zc(e);if(a.type===tt)o.isCancelled()||(yield Zc(o)),o=yield Yc(Mb),yield Wc({type:Ee.a,payload:{conversationId:t,userId:n,actionTime:a.payload.actionTime}});else{const e=yield Jc(ar.c),o=Object(or.l)(e,t),r=Object(or.s)(o,n);if(r&&Od.a.getCreationTime(r)<a.payload.actionTime)break}}}catch(r){Object(_t.b)(r)}finally{yield Wc({type:Ee.b,payload:{conversationId:t,userId:n}}),o.isCancelled()||(yield Zc(o))}}function*kb(e,t,n){for(;;)try{let a;if(a=yield zc(e),a.type!==tt)continue;yield qc(Pb,e,t,n,a.payload.actionTime)}catch(a){}}function*Ub(e){const{payload:{conversationId:t,sender:n}}=e,a=yield Jc(ar.h),o=Fu()(Object(Xu.e)(a,n)),r=function(e,t){return`${e}_${t}`}(t,o);let i=Db[r];i||(i=ms(Rc.sliding(1)),Db[r]=i,yield Yc(kb,i,t,o)),i.put(e)}function*Fb(e){try{yield $c(e.map((e=>qc(Ub,e))))}catch(t){Object(_t.b)(t)}}function*Bb(e){try{yield $c(e.map((e=>qc(Ub,e))))}catch(t){Object(_t.b)(t)}}function Gb(e){return e.type===Ze}function Vb(e){return e.type===tt}function zb(e){return e.type===nt}function*Wb(e){const{data:t}=e;if(t){const e=yield Jc(ar.h),n=Object(Xu.e)(e,Od.a.getSender(t));yield Wc(Object($l.g)(t,n))}}function*$b(e){try{const t=e.filter(Gb);yield $c(t.map((e=>qc(Wb,e))));const n=t.reduce(((e,t)=>{const{data:n}=t;return n&&e.push(Od.a.getId(n)),e}),[]);d()(n)||(yield qc(zd,n))}catch(t){Object(_t.b)(t)}}function*Hb(e){const t=e.filter(Vb);t.length&&(yield qc(Fb,t))}function*Kb(e){const t=e.filter(zb);t.length&&(yield qc(Bb,t))}function*qb(e){yield $c([qc($b,e),qc(Hb,e),qc(Kb,e)])}const Yb=(()=>{const e=new Set;return{add:t=>e.add(t),has:t=>e.has(t),delete:t=>e.delete(t)}})(),Xb=(()=>{let e=[];return{set:t=>{e=t},get:()=>e,push:t=>{e=[...e,...ol()(t)]}}})();function*Zb(e){const{id:t,data:n}=e;if(Yb.add(t),wo()(Xb.get(),(e=>{if(e.id===t)return e.data=n,!1})),t===s()(Fu()(Xb.get()),"id")){const{resolvedEvents:e,unresolvedEvents:t}=Kl()(Xb.get(),((e,t)=>Yb.has(t.id)&&d()(e.unresolvedEvents)?(Yb.delete(t.id),Object.assign(Object.assign({},e),{resolvedEvents:[...e.resolvedEvents,t]})):Object.assign(Object.assign({},e),{unresolvedEvents:[...e.unresolvedEvents,t]})),{resolvedEvents:[],unresolvedEvents:[]});Xb.set(t),yield Yc(qb,e)}}function*Jb(e){if(Gb(e)){const t=yield qc($p,e);yield qc(Zb,{id:e.id,data:t})}}function*Qb(e){if(Vb(e)){const t=Yl()(e.payload,["conversationId","sender"]);yield qc(td,t),yield qc(Zb,{id:e.id,data:{}})}}function*ef(e){zb(e)&&(yield qc(Zb,{id:e.id,data:{}}))}function*tf(e){yield $c([qc(Jb,e),qc(Qb,e),qc(ef,e)])}function*nf(e){Xb.push(e),yield $c(e.map((e=>Yc(tf,e))))}var af=n(976),of=n.n(af);function rf(e){return e.type===Je}function cf(e){return e.type===st}function sf(e){return e.type===et}function lf(e){return e.type===Qe}function df(e){return e.type===rt}function*uf(e){try{yield $c(e.filter(lf).map((e=>qc(Hp,e))))}catch(t){Object(_t.b)(t)}}function*pf(e){try{yield $c(e.filter(rf).map((e=>qc(Kp,e))))}catch(t){Object(_t.b)(t)}}function*bf(e){try{yield $c(of()(e.filter(sf).map((e=>[qc(nd,{sender:e.payload.chatUserId,conversationId:e.payload.conversationId}),Wc(Object(An.c)({conversationId:e.payload.conversationId,action:Co.a.USER_PROFILE_UPDATED,additional:{sender:e.payload.chatUserId}}))]))))}catch(t){Object(_t.b)(t)}}function*ff(e){try{yield $c(e.filter(df).map((e=>qc(qp,e))))}catch(t){Object(_t.b)(t)}}function*hf(e){try{yield $c(e.filter(cf).map((e=>qc(Yp,e))))}catch(t){Object(_t.b)(t)}}function*gf(e){try{yield $c([qc(uf,e),qc(pf,e),qc(bf,e),qc(ff,e),qc(hf,e)])}catch(t){Object(_t.b)(t)}}const yf=[Ze,tt,nt];function*Of(e){try{const{events:t}=e.payload;let n=[],a=[];wo()(t,(e=>{Id()(yf,e.type)?n=[...n,Object.assign(Object.assign({},e),{id:Lb()()})]:a=[...a,e]})),yield qc(nf,n),yield qc(gf,a)}catch(t){Object(g.a)(t)}}function*mf(){yield nl(Sl.l,Of)}function*vf(){yield $c([Yc(mf)])}var jf=n(479),If=n(522);const Ef=e=>{const t=$t.a.getNoDisplayConfigFilter(e);return!d()(t)&&Object(If.c)(t,jf.a.IS_CONVERSATION_OPEN)};function*Cf(e){try{const t=yield Jc(ar.c),n=Object(or.p)(t);if(!Object(or.b)(n))return;yield Wc(Object($l.b)({shouldFetchNumberOfOpenConversation:Ef(e.applicationConfig),size:n.ids.length}))}catch(t){Object(_t.b)(t)}}function*Sf(){try{const e=yield Jc(ar.c),t=Object(or.p)(e),n=Object(or.n)(e),a=Kl()(n,((e,n,a)=>{const o=n.messages;if(!a.startsWith(za.e)&&Object(or.a)(o)&&!Object(or.y)(t,a)){const t=Object($l.c)(a,{size:Object(or.k)(o).length})();e.push(Wc(t))}return e}),[]);a.length&&(yield $c(a))}catch(e){Object(_t.b)(e)}}function*Tf(e){yield $c([Yc(Cf,e),Yc(Sf)])}function*_f(){const{payload:{applicationConfig:e}}=yield zc(Kn.a);yield nl(Sl.m,Tf,{applicationConfig:e})}function*xf(){yield $c([Yc(Ib),Yc(Nb),Yc(vf),Yc(_f)])}function*Af(e){try{const t=e.payload,n=Object(Ni.c)(yield Jc(ar.h));yield qc(Zl,Object.assign(Object.assign({},n),{customContext:t})),yield Wc(Object(An.c)({action:Co.a.USER_PROFILE_UPDATED}))}catch(t){Object(_t.b)(t)}}function*Rf(){try{yield nl(U.c,Af)}catch(e){Object(_t.b)(e)}}function*Nf(e){try{const t=e.payload,n=yield qc(Jl,t);e.promise.resolve(n);const a=n.results;yield Wc({type:U.d,payload:{users:a}})}catch(t){e.promise.reject(t),Object(_t.b)(t)}}function*wf(){try{yield nl(U.b,Nf)}catch(e){console.error(e)}}function*Lf(){try{yield $c([Yc(Rf),Yc(wf)])}catch(e){Object(_t.b)(e)}}function Df(e){return e.type===it}function Mf(e){return e.type===ct}function Pf(e){return e.type===dt}function kf(e){return e.type===ut}function Uf(e){return e.type===lt}function*Ff(e){try{yield $c(e.filter(Df).map((e=>Wc(Object(fp.n)({conversationId:e.payload.conversationId,videoConversationId:e.payload.videoConversationId,participantInfos:e.payload.participantInfos,type:e.payload.type})))))}catch(t){Object(_t.b)(t)}}function*Bf(e){try{yield $c(e.filter(Mf).map((e=>Wc(Object(fp.l)({notifyAgent:!1,videoConversationId:e.payload.videoConversationId})))))}catch(t){Object(_t.b)(t)}}function*Gf(e){try{const t=yield Jc(ar.b),n=Object(Ip.g)(t);yield $c(e.filter(kf).map((e=>Wc(n.videoConversationId===e.payload.videoConversationId?Object(fp.i)({videoConversationId:e.payload.videoConversationId,reason:Il.d.AGENT_ASSIGNMENT_FAILED}):Object(fp.l)({notifyAgent:!1,videoConversationId:e.payload.videoConversationId})))))}catch(t){Object(_t.b)(t)}}function*Vf(e){try{yield $c(e.filter(Pf).map((e=>Wc(Object(fp.i)({videoConversationId:e.payload.videoConversationId,reason:Il.d.AGENT_ASSIGNMENT_FAILED})))))}catch(t){Object(_t.b)(t)}}function*zf(e){try{yield $c(e.filter(Uf).map((e=>Wc(Object(fp.u)({videoConversationId:e.payload.videoConversationId,callInfo:{conversation:e.payload.conversation,participant:e.payload.participant}})))))}catch(t){Object(_t.b)(t)}}function*Wf(e){try{const{events:t}=e.payload;yield $c([qc(Bf,t),qc(Ff,t),qc(Vf,t),qc(zf,t),qc(Gf,t)])}catch(t){Object(_t.b)(t)}}function*$f(){try{yield nl(Sl.l,Wf)}catch(e){Object(_t.b)(e)}}var Hf=n(738);function Kf(e){let{videoConversationId:t,shouldWaitForConnection:n}=e;return Object(ll.__awaiter)(this,void 0,void 0,(function*(){return(yield Ks.post(`video-chat/conversation/accept/${t}?shouldWaitForConnection=${n}`)).data}))}function qf(e){let{videoConversationId:t}=e;return Object(ll.__awaiter)(this,void 0,void 0,(function*(){return Ks.post(`video-chat/conversation/leave/${t}`)}))}function Yf(e){let{conversationId:t,audioOnly:n,messageText:a,sourceButtonId:o,postBackChatMessageId:r,shouldWaitForConnection:i,videoConversationId:c,activityEventType:s}=e;return Object(ll.__awaiter)(this,void 0,void 0,(function*(){return(yield Ks.post(`video-chat/conversation/initiate/${t}`,{audioOnly:n,messageText:a,clickedButtonId:o,postBackChatMessageId:r,shouldWaitForConnection:i,videoChatConversationId:c,activityEventType:s})).data}))}function Xf(e){return Object(ll.__awaiter)(this,void 0,void 0,(function*(){return(yield Ks.get(`video-chat/conversation/participant/connected/${e}`)).data}))}function Zf(e){return Object(ll.__awaiter)(this,void 0,void 0,(function*(){return(yield Ks.get(`video-chat/conversation/fetch/ongoing/conversation?caseId=${e}`)).data}))}function*Jf(e){try{const{notifyAgent:t,isIncomingCall:n,callDetails:a,videoConversationId:o}=e.payload;if(!t)return;if(!n&&!a.hasInitiateSucceeded&&a.state===Il.e.WAITING){if((yield zc((e=>(e.type===Hf.v||e.type===Hf.o)&&s()(e,"payload.videoConversationId")===o))).type===Hf.o)return}if(n&&a.state===Il.c.ACCEPTED){if((yield zc((e=>(e.type===Hf.k||e.type===Hf.h)&&s()(e,"payload.videoConversationId")===o))).type===Hf.h)return}yield qc(qf,{videoConversationId:o})}catch(t){Object(_t.b)(t)}}function*Qf(e){try{e.payload.isOutgoingWaiting&&(yield qc(Jf,e)),yield Wc({type:Ee.Z,payload:{text:e.payload.text,sender:e.payload.sender,conversationId:e.payload.conversationId}})}catch(t){Object(_t.b)(t)}}function*eh(e){try{const{actionParams:{messageId:t,actionId:n},conversationId:a}=e.payload,o=yield Jc(ar.b),r=Object(Ip.g)(o),i=r.messageId;if(i&&t===i&&n!==r.sourceButtonId){const e=yield Jc(ar.c),n=Object(or.j)(Object(or.l)(e,a),t);md.a.getAttachment(Od.a.getMessagePayload(n)).reSubmittable||(yield Wc(Object(fp.l)({notifyAgent:!0,callDetails:r,videoConversationId:r.videoConversationId})))}}catch(t){Object(_t.b)(t)}}function*th(e){try{yield Wc(Object(fp.p)({conversationId:e.payload.conversationId,controls:Object(Op.e)(e.payload.isPhone),type:e.payload.type,messageText:e.payload.messageText,messageId:e.payload.messageId,sourceButtonId:e.payload.sourceButtonId,videoConversationId:Lb.a.v4()}))}catch(t){Object(_t.b)(t)}}function*nh(e){try{const{videoConversationId:t}=e.payload;yield Wc(Object(fp.b)({videoConversationId:t,controls:Object(Op.e)(e.payload.isPhone)})),yield qc(Kf,{videoConversationId:t,shouldWaitForConnection:!0}),yield Wc(Object(fp.t)({videoConversationId:t}))}catch(t){if(Object(_t.b)(t),Object(dn.f)(t)){const n=s()(t,"response.data.error");yield Wc(Object(fp.d)({videoConversationId:e.payload.videoConversationId,reason:"CALL_ALREADY_ENDED"===n?Il.b.ACCEPT_FAILED_DUE_TO_CALL_END:Il.b.ACCEPT_FAILED_DUE_TO_OTHER_REASONS}))}}}function*ah(e){try{yield Wc(Object(fp.f)({videoConversationId:e.payload.videoConversationId}))}catch(t){Object(_t.b)(t)}}function*oh(e){try{yield Wc(Object(fp.k)({videoConversationId:e.payload.videoConversationId}))}catch(t){Object(_t.b)(t)}}function*rh(e){let t;try{const{videoConversationId:n}=e.payload,a=yield Jc(ar.b),o=Object(Ip.g)(a),r=o.messageId,i=o.conversationId,c=Object(Ip.k)(a,n);if(yield Wc(Object(An.c)({conversationId:i,action:c?Co.a.AUDIO_CALL_OUTGOING_STARTING:Co.a.VIDEO_CALL_OUTGOING_STARTING})),r){const e=yield Jc(ar.c);t=Object(or.j)(Object(or.l)(e,i),r),yield qc(au,{chatMessage:t,conversationId:i,params:{buttonId:o.sourceButtonId}})}const s=yield qc(Yf,{conversationId:i,audioOnly:c,messageText:o.messageText,sourceButtonId:o.sourceButtonId,postBackChatMessageId:r,shouldWaitForConnection:!0,videoConversationId:n,activityEventType:"CALL_STARTED"});yield Wc(Object(fp.w)({agentWaitTime:s.conversation.agentWaitTime,videoConversationId:s.conversation.id}))}catch(n){t&&(yield Wc({type:Ee.I,payload:{chatMessage:t,conversationId:e.payload.conversationId}})),Object(_t.b)(n),Object(dn.f)(n)&&(yield Wc(Object(fp.i)({videoConversationId:e.payload.videoConversationId,reason:Il.d.INITIATE_FAILED})))}}function*ih(e){try{const{conversationId:n,type:a,isPhone:o,prevState:r,videoConversationId:i}=e.payload,c=yield Jc(ar.b),l=Object(Ip.d)(c),u=s()(l,"state")===Il.c.FAILED;if(Object(Op.f)({callDetails:l,rejoiningVideoConversationId:i}))return;u&&(yield Wc(Object(fp.l)({notifyAgent:!1,videoConversationId:i,callDetails:l,isIncomingCall:!0})));const p=a===Il.a.AUDIO,b=Object(Op.b)(r);yield Wc(Object(An.c)({conversationId:n,action:Object(Op.c)(p,b)})),yield Wc(Object(fp.q)({conversationId:n,videoConversationId:i,state:b?Il.c.ACCEPTED:Il.c.SETUP,controls:Object(Op.e)(o),type:a}));const f=yield qc(Zf,n);if(d()(f))return yield Wc(Object(fp.d)({videoConversationId:i,reason:Il.b.REJOINING_FAILED_DUE_TO_CALL_END,prevState:r}));const{conversation:h}=f;if(b){try{yield qc(Kf,{videoConversationId:h.id,shouldWaitForConnection:!0})}catch(t){if(Object(_t.b)(t),Object(dn.f)(t)){const e=s()(t,"response.data.error");return yield Wc(Object(fp.d)({videoConversationId:i,reason:"CALL_ALREADY_ENDED"===e?Il.b.ACCEPT_FAILED_DUE_TO_CALL_END:Il.b.ACCEPT_FAILED_DUE_TO_OTHER_REASONS,prevState:r}))}}yield Wc(Object(fp.t)({videoConversationId:h.id}))}}catch(t){if(Object(_t.b)(t),Object(dn.f)(t))return yield Wc(Object(fp.d)({videoConversationId:e.payload.videoConversationId,reason:Il.b.REJOINING_FAILED_DUE_TO_OTHER_REASONS,prevState:e.payload.prevState}))}}function*ch(e){try{const{conversationId:t,type:n,isPhone:a,prevState:o,videoConversationId:r}=e.payload,i=yield Jc(ar.b),c=Object(Ip.d)(i),l=s()(c,"state")===Il.e.FAILED;if(Object(Op.f)({callDetails:c,rejoiningVideoConversationId:r}))return;l&&(yield Wc(Object(fp.l)({notifyAgent:!1,videoConversationId:r,callDetails:c})));const u=n===Il.a.AUDIO;yield Wc(Object(An.c)({conversationId:t,action:Object(Op.c)(u)})),yield Wc(Object(fp.r)({conversationId:t,videoConversationId:r,state:Object(Op.d)(o),controls:Object(Op.e)(a),type:n}));const p=yield qc(Zf,e.payload.conversationId);if(d()(p))return yield Wc(Object(fp.i)({videoConversationId:r,reason:Il.d.REJOINING_FAILED_DUE_TO_CALL_END,prevState:o}));const{conversation:b}=p;yield Wc(Object(fp.s)({videoConversationId:b.id,agentWaitTime:b.agentWaitTime}))}catch(t){if(Object(_t.b)(t),Object(dn.f)(t))return yield Wc(Object(fp.i)({videoConversationId:e.payload.videoConversationId,reason:Il.d.REJOINING_FAILED_DUE_TO_OTHER_REASONS,prevState:e.payload.prevState}))}}function*sh(e){try{const t=e.payload,{isIncomingCall:n}=t,a=Object(ll.__rest)(t,["isIncomingCall"]);n?yield Wc(Object(fp.e)(a)):yield Wc(Object(fp.j)(a))}catch(t){Object(_t.b)(t)}}function*lh(e){try{yield qc(Xf,e.payload.videoConversationId)}catch(t){Object(_t.b)(t)}}function*dh(){try{yield nl(Hf.e,nh),yield nl(Hf.g,ah),yield nl(Hf.n,oh),yield nl(Hf.b,Jf),yield nl(Hf.m,th),yield nl(Hf.u,rh),yield nl(Hf.c,Qf),yield nl(Hf.w,sh),yield nl(Hf.j,ih),yield nl(Hf.r,ch),yield nl(Ee.c,eh),yield nl(Hf.x,lh)}catch(e){Object(_t.b)(e)}}function*uh(){yield $c([Yc($f),Yc(dh)])}function ph(e){return e.type===pt}function*bh(){const e=yield Jc(ar.f);return d()(e)||(yield Wc(Object(eo.g)())),null}function*fh(e){try{const{events:t}=e.payload;yield $c(t.filter(ph).map((e=>{const{status:t}=e.payload;return"LIVE"===t?qc(bh):"COMPLETED"===t?Wc(Object(eo.c)({endedByAgent:!0})):null})))}catch(t){Object(_t.b)(t)}}function*hh(){yield nl(Sl.l,fh)}function*gh(){yield $c([Yc(Pu),Yc(hh)])}function yh(e){return e.type===ft}function*Oh(e){yield $c(e.filter(yh).map((e=>Wc({type:De,payload:e.payload}))))}function*mh(e){try{const{events:t}=e.payload;yield $c([qc(Oh,t)])}catch(t){Object(_t.b)(t)}}function*vh(){yield nl(Sl.l,mh)}const jh=new(n(967).a),Ih=e=>Object(ll.__awaiter)(void 0,void 0,void 0,(function*(){const{httpMethod:t="GET",httpUrl:n="",httpPayload:a=tn.a,actionIdentifier:o,requestId:r}=e.params;let i,c;try{const d="POST"===t||"PUT"===t?yield jh[t.toLowerCase()](n,a,{withCredentials:!0}):yield jh[t.toLowerCase()](n,{withCredentials:!0});i=d.request.status,c=d.request.responseText}catch(d){Object(_t.b)(d),Object(dn.f)(d)?(i=d.request.status,c=d.request.responseText):(i=500,c="")}finally{yield(s={status:i,responseText:c,actionIdentifier:o,requestId:r},l=e.conversationId,Ks.post(`/livechat/cart/on-add-to-cart/${l}`,s))}var s,l})),Eh=e=>Ks.post("/livechat/cart/update-cart",e),Ch=e=>Ks.post("/livechat/cart/remove-from-cart",e);function*Sh(e){try{const{type:t,params:n,conversationId:a}=e.payload;"HTTP_REQUEST"===t&&(yield qc(Ih,{params:n,conversationId:a}))}catch(t){Object(_t.b)(t)}}function*Th(){yield nl(De,Sh)}const _h={presence:!0,format:{pattern:"^(?!\\s*$).+",message:"can only be non-empty string"}},xh={modifiedTime:{type:"number"},productItems:{array:{each:{sku:_h,productCategory:{type:"string"},quantity:{type:"number"},standardPrice:{type:"number"},standardCurrency:{type:"string"},title:{type:"string"},description:{type:"string"}}}}},Ah={modifiedTime:{type:"number"},productItems:{array:{each:{sku:_h,quantity:{type:"number"}}}}};function*Rh(e){try{const n=(t=e.payload,ze()(t,xh));if(n)return void Object(g.a)("Invalid payload passed to update cart, please check",n);yield qc(Eh,e.payload)}catch(n){Object(_t.b)(n)}var t}function*Nh(){yield nl(Me,Rh)}function*wh(e){try{const n=(t=e.payload,ze()(t,Ah));if(n)return void Object(g.a)("Invalid payload passed to remove from cart, please check",n);yield qc(Ch,e.payload)}catch(n){Object(_t.b)(n)}var t}function*Lh(){yield nl(Pe,wh)}function*Dh(){yield $c([Yc(vh),Yc(Th),Yc(Nh),Yc(Lh)])}function*Mh(){try{yield $c([Yc(hd),Yc(xf),Yc(Lf),Yc(uh),Yc(gh),Yc(Dh)])}catch(e){Object(_t.b)(e)}}function*Ph(){try{const e=yield Yc(Mh);yield zc(Kn.c),yield Zc(e)}catch(e){Object(_t.b)(e)}}var kh=n(533);function Uh(e,t){const n=Object(oa.a)(e,{path:"/conversation/:conversationId/:transientId?"});if(!n)return{};const a=s()(n.params,"conversationId"),o=s()(n.params,"transientId");return"all"===a?{isConversationPath:!1,matchedConversationId:void 0}:"new"===a?{isConversationPath:!0,matchedConversationId:t?t.slice(1):o}:{isConversationPath:!0,matchedConversationId:a}}var Fh=n(462),Bh=n(963);function*Gh(e){try{const{conversationId:t,chatMessage:n}=e.payload,a=Object(Ni.d)(yield Jc(Bn.g)),o=yield Jc(Bn.c),r=Object(or.f)(o.conversations,t);if(r){const e=Ti()(r.defaultMessages,"id"),o=Od.a.getId(n);if(e.includes(o))return void(yield Wc({type:Ee.O,payload:{conversationId:t,lastReadMessageId:o}}));if(function(e,t){return!(Od.a.getSender(e)===t)&&!Object(vd.f)(e)}(n,a)){const{isConversationPath:e,conversationId:n}=yield Jc(kh.e),a=yield Jc(Bn.b),{isMinimized:o}=a,i=Object(me.b)(),c=!!e,s=!d()(r);(Object(p.B)()?s&&t===n:s)&&(yield Wc({type:Ee.P,payload:{conversationId:t,count:1}}),o&&!c&&i.push(`/conversation/${t}`))}}}catch(t){Object(_t.b)(t)}}function*Vh(){try{yield nl(Ee.D,Gh)}catch(e){Object(_t.b)(e)}}function*zh(e){try{const t=Object(Fh.a)();Object(Fh.b)(t)?t.open(Object(Xt.c)(e.payload.url),e.payload.target):window.open(Object(Xt.c)(e.payload.url)),e.promise.resolve()}catch(t){e.promise.reject(),Object(_t.b)(t)}}function*Wh(){try{yield nl(Ee.Q,zh)}catch(e){Object(_t.b)(e)}}function*$h(e){try{window.open(Object(Xt.b)(e.payload.phoneNumber)),e.promise.resolve()}catch(t){e.promise.reject(),Object(_t.b)(t)}}function*Hh(){try{yield nl(Ee.p,$h)}catch(e){Object(_t.b)(e)}}function*Kh(e){try{const{surveyUrl:t,shouldReplace:n,conversationId:a}=e.payload,o=Object(me.b)(),r=Object(p.B)()||Object(p.F)()?`${t}&showCancel=true`:t,i=`/survey/${encodeURIComponent(`${r}&hideThankYouPage=true`)}`;return n?o.replace(i):o.push(a?`/conversation/${a}${i}`:i)}catch(t){return void Object(_t.b)(t)}}function*qh(){try{yield nl(Ee.U,Kh)}catch(e){Object(_t.b)(e)}}function*Yh(e){try{const{deleted:n,closed:a,surveyUrl:o,conversationId:r}=e.payload;try{if(n||a){const e=Object(me.b)(),{matchedConversationId:t}=Uh(e.location.pathname,e.location.hash),a=n&&r&&t===r&&!Object(p.B)();o?yield Wc(Object(Wd.n)({surveyUrl:o,shouldReplace:a,conversationId:r})):a&&e.goBack()}}catch(t){Object(_t.b)(t)}}catch(t){Object(_t.b)(t)}}function*Xh(){try{yield nl(Ee.j,Yh)}catch(e){Object(_t.b)(e)}}function*Zh(){try{const{payload:{applicationConfig:e,handshakeDetails:t}}=yield zc(Kn.a);if(t){if(Object(p.E)()){const e=Object(p.g)();yield Wc(Object(Wd.b)(e))}if(Object(p.D)()){const e=Object(p.f)(),t=Object(p.c)(e);yield Wc(Object(Wd.a)(e,t,Object(Yt.a)()))}yield es(1e3),yield Wc(Object(Wd.g)())}}catch(e){Object(_t.b)(e)}}function*Jh(e){try{const{payload:t,promise:n}=e,{conversationId:a}=t;yield qc(Bh.b,a),n&&n.resolve()}catch(t){e.promise&&e.promise.reject(),Object(_t.b)(t)}}function*Qh(){try{yield nl(Ee.o,Jh)}catch(e){Object(_t.b)(e)}}function*eg(e){try{const t=yield Jc(Bn.g),n=Object(Ni.d)(t),a=yield Jc(Bn.c),o=((e,t,n)=>{if(n){const a=Object(kh.d)(e[n],t);return a?[{conversationId:n,count:a}]:[]}return Kl()(e,((e,n)=>{const a=Object(kh.d)(n,t);return a&&e.push({conversationId:n.id,count:a}),e}),[])})(Object(or.p)(a).byId,n,e);d()(o)||(yield Wc({type:Ee.N,payload:o}))}catch(t){console.warn(t)}}function*tg(){try{if(Object(p.B)()){if(Object(p.H)())for(;;){yield zc(Ee.g);const{conversationId:e}=yield Jc(kh.e);yield qc(eg,e)}if(Object(p.E)()||Object(p.D)()){yield Hc([zc(Ee.t),zc(Ee.u),zc(Ee.w),zc(Ee.x)]);const{conversationId:e}=yield Jc(kh.e);return void(yield qc(eg,e))}return}if(Object(p.E)()||Object(p.D)())return yield $c([Hc([zc(Ee.t),zc(Ee.w),zc(Ee.u),zc(Ee.x)]),zc(Ee.g)]),void(yield qc(eg));if(Object(p.J)()||Object(p.G)()||Object(p.H)())for(;;)yield zc(Ee.g),yield qc(eg)}catch(e){Object(_t.b)(e)}}function*ng(){try{yield $c([Yc(Zh),Yc(Vh),Yc(Wh),Yc(Hh),Yc(Qh),Yc(qh),Yc(Xh),Yc(tg)])}catch(e){Object(_t.b)(e)}}function*ag(e){let{action:t}=e;try{const e=t.payload;if((n=e).type!==cp.h&&n.type!==cp.i)return;const a=yield Jc(Bn.c),o=Object(or.d)(Object(or.u)(a));e.type===cp.h&&(yield qc(Kt.j,e.payload.contextId||o,e.payload.abortedProcessContext,[])),e.type===cp.i&&(yield qc(Kt.h,e.payload.contextId||o))}catch(a){Object(_t.b)(a)}var n}function*og(e){try{const{conversationId:t,chatMessage:n}=e.payload,a=yield qc(Kt.d,t);if(a){const e=md.a.getAttachment(Od.a.getMessagePayload(n));if(Object(en.c)(Od.a.getSender(n))&&e&&Object(mp.c)(e)){const e=Od.a.getId(n),o=a.messageIds;yield qc(Kt.j,t,a.context,[...o,e])}}}catch(t){Object(_t.b)(t)}}function*rg(e){try{const{conversationId:t,chatMessage:n}=e.payload,a=yield qc(Kt.d,t);a&&(yield qc(Kt.j,t,a.context,[]))}catch(t){Object(_t.b)(t)}}function*ig(){yield nl(Ee.D,og)}function*cg(){yield nl(Ee.G,rg)}function*sg(e){try{const t=yield qc(Kt.d,e);t&&(yield $c(t.messageIds.map((e=>qc(Bd,e)))),yield qc(Fd,{context:t.context,conversationId:e}),yield qc(Kt.h,e))}catch(t){Object(_t.b)(t)}}function*lg(e){try{const{results:t}=e.payload.conversationResponse;yield $c(t.map((e=>qc(sg,e.id))))}catch(t){Object(_t.b)(t)}}function*dg(){yield nl(Ee.g,lg)}function*ug(){yield $c([Yc(ig),Yc(cg),Yc(dg)])}var pg=n(518),bg=n.n(pg),fg=n(502),hg=n.n(fg),gg=n(811);function*yg(){try{const e=yield Jc(Bn.b),{isMinimized:t}=e;t&&(yield Wc({type:W.d,payload:{}}))}catch(e){Object(_t.b)(e)}}function*Og(){try{const e=yield Jc(Bn.c),t=Object(or.d)(Object(or.u)(e)),n=yield qc(me.b),a=`/conversation/${t}`,{isConversationPath:o}=Uh(n.location.pathname,n.location.hash);o?n.replace(a):n.push(a),yield qc(yg)}catch(e){Object(_t.b)(e)}}function*mg(){try{yield zc(Ee.g),yield qc(Og)}catch(e){Object(_t.b)(e)}}function*vg(e){let{initialMessages:t,conversationContext:n,createCase:a,additional:o,assignToUser:r,conversationId:i}=e;try{const e=yield Jc(Bn.g),c=Object(Ni.d)(e);let s,l;const u=hg()(t,(e=>{const t=Aa()(e)?e:e.message;return!d()(pn()(t))}));if(!d()(u)||d()(t)&&de()(t)){const e=(e=>e.map((e=>Aa()(e)?{message:{text:e},isSentByUser:!1}:Aa()(e.message)?{...e,message:{text:e.message}}:e)))(u);s=kr()(e.map(((e,t)=>e.isSentByUser?Yd.a.makeOutgoing().makeTextMessage({text:e.message.text||"",conversationId:i,sender:c,disableManualResponse:e.message.disableManualResponse}):qu(e.message.text,i,`${t}`,e.message.disableManualResponse)))),l=!0}else{const e=yield Jc(Bn.c),t=Object(or.l)(e,za.e);s=Object(or.k)(t),l=Object(or.w)(t)}yield Wc({type:Ee.J,payload:{conversationId:i,messages:s,conversationContext:n,hasInitialItems:l,createCase:a,assignToUser:r,additional:o}})}catch(c){Object(_t.b)(c)}}function*jg(e,t){const{payload:{silent:n},promise:a}=t;try{let o=yield Jc((e=>e));const r=$t.a.getCustomizationConfig(e),i=(e,t)=>s()(e,t),c=Object(or.p)(Object(Bn.c)(o));Ie()(Object(or.t)(c))&&(yield Wc({type:Ee.B,payload:{}}),yield zc(Ee.ab),o=yield Jc((e=>e)));const{isLocked:l}=Object(kh.f)(o,r,i);if(l){if(!n){const e=Object(or.b)(c);yield qc(e?Og:mg)}throw $u.a.LIMIT_REACHED}const d=`${za.e}_${bg()()}`;if(yield qc(vg,{...t.payload,conversationId:d}),n&&(yield Wc({type:Ee.K,payload:{conversationId:d,appContext:Object(Yt.a)()},promise:a})),!n){const e=Object(me.b)(),{isConversationPath:t}=Uh(e.location.pathname,e.location.hash),n=`/conversation/new/${d}`;!!t?e.replace(n):e.push(n),yield qc(yg)}}catch(o){a&&a.reject(Yu(o)),Object(_t.b)(o)}}function*Ig(e){const{payload:t,promise:n}=e;let a;try{const e=yield Jc(Bn.c),o=Object(or.p)(e);if(a=t.conversationId||Object(or.d)(Object(or.u)(e)),!a)return void(n&&n.reject($u.a.NOT_FOUND));const r=Object(me.b)(),{isConversationPath:i,matchedConversationId:c}=Uh(r.location.pathname,r.location.hash),l=!!i,u=`/conversation/${a}`;let b=a,f=[];if(c!==a){if(Object(p.z)(a)){const e=Object(p.d)(a),t=Object(p.c)(e),n=Object(or.i)(o,e);b=t,Id()(o.ids,n)||(yield Wc(Object(Wd.a)(e,t,Object(Yt.a)())),f=[Ee.t,Ee.u])}else Id()(o.ids,a)||(yield Wc(Object(Wd.b)(a)),f=[Ee.w,Ee.x]);for(;!d()(f);){const[e,t]=yield Hc([zc(f[0]),zc(f[1])]);if(b===(s()(e,"payload.conversationResponse.id")||s()(t,"payload.conversationId"))){if(t)throw t.payload.error;break}}}l?r.replace(u):r.push(u),yield qc(yg),n&&n.resolve(a)}catch(o){Object(_t.b)(o),n&&n.reject(Yu(o))}finally{(yield Gc(Bc,{}))&&n&&n.reject($u.a.UNEXPECTED_ERROR)}}function*Eg(){try{const{payload:{applicationConfig:e}}=yield zc(Kn.a);yield nl(gg.c,jg,e)}catch(e){Object(_t.b)(e)}}function*Cg(){try{yield function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return Yc.apply(void 0,[el,e,t].concat(a))}(gg.a,Ig)}catch(e){Object(_t.b)(e)}}var Sg=n(737);const Tg={[Jd.b.PROGRESS_BAR]:e=>{const t=Od.a.getMessagePayload(e).attachment;return t.status===Sg.a.ABORTED||t.status===Sg.a.ERROR}},_g=e=>{const t=Od.a.getMessagePayload(e).attachment,n=t&&Tg[t.type];return n&&n(e)};class xg{constructor(){this.queueItems=void 0,this.queueItems=[]}isEmpty(){return 0===this.queueItems.length}put(e){const t=q()(this.queueItems,(t=>Od.a.getId(e.message)===Od.a.getId(t.message)));-1!==t&&this.queueItems.splice(t,1),this.queueItems.push(e)}take(){return this.queueItems.shift()}}const Ag="EXTERNAL_MESSAGE_SEND";function*Rg(e){try{const{message:t,externalMessageId:n}=e,a=yield qc(Kd,t);a&&(yield Wc({type:Ag,payload:{id:n,message:a}}))}catch(t){Object(_t.b)(t)}}function*Ng(e){try{for(;;){const t=yield zc(e);_g(t.message)||(yield qc(Rg,t))}}catch(t){Object(_t.b)(t)}}let wg;function*Lg(e){try{wg||(wg=yield qc(ms,new xg),yield Xc(Ng,wg));const t=yield Jc(Bn.c),n=Object(or.d)(Object(or.u)(t)),a=yield Jc(Bn.g),o=Object(Ni.d)(a),r=Yd.a.makeOutgoing().makeDynamicMessage({externalMessageId:e.id,messageId:e.sprMsgId,messagePayload:e.message,conversationId:e.contextId||n,messageContext:e.messageContext,sender:e.isSentByUser?o:za.b});if(!r)return;const i={externalMessageId:e.id,message:r};!e.sprMsgId||_g(r)?yield Yc(Rg,i):yield Wc(wg,i);const{payload:{id:c,message:s}}=yield zc(Ag);return{id:c,message:s}}catch(t){return void Object(_t.b)(t)}}function*Dg(e){let{action:t}=e;try{if(t.payload.type!==cp.d)return;const{id:e,message:n}=yield qc(Lg,t.payload.payload);yield Wc(Object($l.l)({id:e,conversationId:Od.a.getConversationId(n),messageId:Od.a.getId(n)}))}catch(n){Object(_t.b)(n)}}function*Mg(e){let{action:t}=e;try{if(t.payload.type!==cp.c)return;const{payload:e}=t.payload,n=Yd.a.makeOutgoing().makeDynamicMessage({externalMessageId:e.id,messagePayload:{events:ol()(e.event)},conversationId:e.contextId,sender:za.b});if(!n)return;yield qc(Kd,n)}catch(n){Object(_t.b)(n)}}var Pg=n(1046),kg=n.n(Pg);const Ug=/\$\{(\w+)\}/g,Fg=(e,t)=>{const n=Object.keys(t);return kg()(e,Ug,((e,a)=>n.includes(a)?t[a]:e))},Bg=(e,t)=>{const{totalUnits:n,completedUnits:a,action:o,status:r}=t,i=e[`progress.${o}.${r}.title`];return Fg(i,{completedUnits:a,totalUnits:n})},Gg=(e,t)=>{const{totalUnits:n,completedUnits:a,action:o,status:r}=t,i=e[`progress.${o}.${r}.description`];return Fg(i,{completedUnits:a,totalUnits:n})};class Vg{constructor(){this.queueItems=void 0,this.queueItems=[]}isEmpty(){return 0===this.queueItems.length}put(e){const t=q()(this.queueItems,(t=>e.contextId===t.contextId));-1!==t&&this.queueItems.splice(t,1),this.queueItems.push(e)}take(){return this.queueItems.shift()}}const zg=(e,t)=>`${e}_${t}`,Wg=cl()((()=>{const e={};return{get:t=>e[t],set:(t,n)=>{e[t]=n},remove:t=>{delete e[t]}}}));function*$g(e){for(;;)try{const{contextId:n,id:a,message:o,messageContext:r}=yield zc(e),i=o.attachment,{id:c,message:s}=yield qc(Lg,{contextId:n,id:a,sprMsgId:Wg().get(zg(n,i.action)),message:o,messageContext:r});yield Wc(Object($l.m)({id:c,conversationId:Od.a.getConversationId(s),messageId:Od.a.getId(s)})),(t=i).status!==Sg.a.COMPLETED&&(t.status!==Sg.a.ABORTED&&t.status!==Sg.a.ERROR||t.enableRetry)?Wg().set(zg(n,i.action),Od.a.getId(s)):Wg().remove(zg(n,i.action))}catch(n){Object(_t.b)(n)}var t}let Hg;function*Kg(e){let{action:t,localeData:n}=e;try{if(t.payload.type!==cp.f)return;Hg||(Hg=yield qc(ms,new Vg),yield Xc($g,Hg));const{payload:{contextId:e,id:a,progressContext:o,data:r}}=t.payload;yield Wc(Hg,{contextId:e,id:a,message:{attachment:{type:Jd.b.PROGRESS_BAR,title:Bg(n,r),description:Gg(n,r),progress:r.progress,status:r.status,action:r.action,enableCancel:r.enableCancel,enableRetry:r.enableRetry},disableManualResponse:r.disableManualResponse},messageContext:o})}catch(a){Object(_t.b)(a)}}function*qg(e,t){try{yield $c([qc(Dg,{action:t,localeData:e}),qc(Mg,{action:t,localeData:e}),qc(Kg,{action:t,localeData:e}),qc(ag,{action:t})])}catch(n){Object(_t.b)(n)}}function*Yg(){try{const e=yield Qc(Ee.y),{payload:{localeData:t}}=yield zc(W.k);yield nl(e,qg,t)}catch(e){Object(_t.b)(e)}}function*Xg(){const e=Object(u.a)();yield Object(Kt.f)(e.appId)}function*Zg(){yield nl(W.f,Xg)}function*Jg(){try{yield $c([Yc(Eg),Yc(Cg),Yc(Yg),Yc(Zg)])}catch(e){Object(_t.b)(e)}}function Qg(e){return Object(or.v)(Object(or.p)(Object(Bn.c)(e)))}function*ey(){try{let t=yield Jc(Qg);for(;;)try{yield Hc({notificationReceived:zc(Ee.P),notificationRead:zc(Ee.O),notificationsReceived:zc(Ee.N)});const e=yield Jc(Qg);t!==e&&(Object(be.a)({topic:ee.l,payload:{data:{count:e}}}),t=e)}catch(e){Object(_t.b)(e)}}catch(e){Object(_t.b)(e)}}function*ty(){try{for(;;)try{const e=yield zc(Ee.z);Object(be.a)({topic:ee.f,payload:{data:{type:e.payload.type,payload:{...e.payload.payload,userAuthToken:yield Object(Kt.a)(kt.a.getAppId(Object(u.a)()))}}}})}catch(e){Object(_t.b)(e)}}catch(e){Object(_t.b)(e)}}function*ny(){try{yield $c([Yc(ey),Yc(ty)])}catch(e){Object(_t.b)(e)}}var ay=n(215);async function oy(e){return(await Ge.a.get(`/livechat/upload/policy?fileName=${encodeURIComponent(e)}`)).data}async function ry(e,t){const n=await Ge.a.post(`https://${e}.s3.amazonaws.com/`,t);return decodeURIComponent(n.headers.location)}const iy=[{key:"Cache-Control",value:n.n(ay)()("max-age=31536000, no-transform, public")},{key:"Content-Type",value:e=>e.type}],cy=["key","acl","x-amz-credential","x-amz-algorithm","x-amz-date","policy","x-amz-signature","x-amz-security-token","x-amz-server-side-encryption"];function*sy(e,t){try{if(function(e){return"AZURE"===e.type}(e)){const{uploadFileOnAzure:a}=yield Promise.all([n.e(4),n.e(14)]).then(n.bind(null,1836));return yield qc(a,e,t)}return yield qc(ry,e.bucket,function(e,t){const n=new FormData;return cy.forEach((t=>{n.append(t,e[t])})),iy.forEach((e=>{n.append(e.key,e.value(t))})),n.append("file",t),n}(e,t))}catch(a){return}}function*ly(e){try{const t=yield qc(oy,e.name);if(t){return yield qc(sy,t,e)}return}catch(t){return}}var dy=n(658),uy=n(636);function py(e){return new Promise((t=>{const n=document.createElement("img");n.onload=e=>{e.target&&t({height:e.target.naturalHeight,width:e.target.naturalWidth})},n.src=e}))}function*by(e,t,n,a){try{if(o=n.type,Id()(uy.c,o)){const o=URL.createObjectURL(n),{height:r,width:i}=yield qc(py,o),c=yield qc(Wd.p,Yd.a.makeOutgoing().makeImageAttachmentMessage({attachmentProperties:{height:r,width:i,url:o},conversationId:e,sender:t,inReplyToChatMessageId:a}));yield Wc(c);const s=yield qc(ly,n);if(s){const e=Object(dy.f)(c.payload.chatMessage,s,Jd.b.IMAGE);yield qc(qd,e),URL.revokeObjectURL(o)}else yield Wc({payload:{conversationId:e,transientId:c.payload.chatMessage.id},type:Ee.F})}}catch(r){Object(_t.b)(r)}var o}function fy(e){return new Promise((t=>{const n=document.createElement("video");n.onloadeddata=()=>{n.currentTime=0},n.onseeked=e=>{const a=document.createElement("canvas");a.height=n.videoHeight,a.width=n.videoWidth;const o=a.getContext("2d");if(o){o.drawImage(n,0,0,a.width,a.height);(a.toBlob||a.msToBlob).bind(a)((e=>{const a=e?new File([e],"image.jpg",{type:"image/jpeg"}):null;t({previewImageFile:a,height:n.videoHeight,width:n.videoWidth})}))}},n.src=e,n.load()}))}function*hy(e){try{return yield qc(ly,e)}catch(t){return void Object(_t.b)(t)}}function*gy(e,t,n,a){try{if(o=n.type,Id()(uy.e,o)){const o=URL.createObjectURL(n),{previewImageFile:r,height:i,width:c}=yield qc(fy,o),s=URL.createObjectURL(r),l=yield qc(Wd.p,Yd.a.makeOutgoing().makeVideoAttachmentMessage({attachmentProperties:{height:i,width:c,previewImageUrl:s,url:o},conversationId:e,sender:t,inReplyToChatMessageId:a}));yield Wc(l);const[d,u]=yield $c([qc(ly,n),qc(hy,r)]);if(d){const e=Object(dy.g)(Object(dy.f)(l.payload.chatMessage,d,Jd.b.VIDEO),u);yield qc(qd,e),URL.revokeObjectURL(o),URL.revokeObjectURL(s)}else yield Wc({payload:{conversationId:e,transientId:l.payload.chatMessage.id},type:Ee.F})}}catch(r){Object(_t.b)(r)}var o}var yy=n(1047);const Oy={"application/pdf":yy.a.PDF,"text/plain":yy.a.DOCUMENT,"application/msword":yy.a.WORD_DOCUMENT,"application/vnd.openxmlformats-officedocument.wordprocessingml.document":yy.a.WORD_DOCUMENT,"application/vnd.ms-excel":yy.a.EXCEL,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":yy.a.EXCEL,"application/vnd.ms-powerpoint":yy.a.PRESENTATION,"application/vnd.openxmlformats-officedocument.presentationml.presentation":yy.a.PRESENTATION,"application/onenote":yy.a.ONENOTE,"application/json":yy.a.DOCUMENT};function*my(e,t,n,a){try{if(o=n.type,Id()(uy.b,o)){const o=URL.createObjectURL(n),r=yield qc(Wd.p,Yd.a.makeOutgoing().makeDocumentAttachmentMessage({attachmentProperties:{url:o,title:n.name,documentType:Oy[n.type]},conversationId:e,sender:t,inReplyToChatMessageId:a}));yield Wc(r);const i=yield qc(ly,n);if(i){const e=Object(dy.f)(r.payload.chatMessage,i,Jd.b.DOCUMENT);yield qc(qd,e),URL.revokeObjectURL(o)}else yield Wc({payload:{conversationId:e,transientId:r.payload.chatMessage.id},type:Ee.F})}}catch(r){Object(_t.b)(r)}var o}function*vy(e,t,n,a){try{if(o=n.type,Id()(uy.a,o)){const o=URL.createObjectURL(n),r=yield qc(Wd.p,Yd.a.makeOutgoing().makeAudioAttachmentMessage({attachmentProperties:{url:o,mimeType:n.type,title:n.name},conversationId:e,sender:t,inReplyToChatMessageId:a}));yield Wc(r);const i=yield qc(ly,n);if(i){const e=Object(dy.f)(r.payload.chatMessage,i,Jd.b.AUDIO);yield qc(qd,e),URL.revokeObjectURL(o)}else yield Wc({payload:{conversationId:e,transientId:r.payload.chatMessage.id},type:Ee.F})}}catch(r){Object(_t.b)(r)}var o}function*jy(e){const{conversationId:t,chatUserId:n,file:a,inReplyToChatMessageId:o}=e.payload;yield $c([qc(by,t,n,a,o),qc(gy,t,n,a,o),qc(vy,t,n,a,o),qc(my,t,n,a,o)])}var Iy=function*(){yield nl(gg.b,jy)};let Ey;function*Cy(){for(;;)try{let e;yield zc(Sl.b),Ey=Date.now(),yield zc(Sl.a),e=Date.now(),Ey&&e-Ey>=3e5&&(Ey=void 0,yield Wc({type:Sl.m}))}catch(e){Object(_t.b)(e)}}function*Sy(){yield $c([Yc(Cy)])}var Ty=n(1038),_y=n(406);function*xy(){try{for(;;)try{yield zc(W.g);Object(p.K)()?Object(be.a)({topic:ee.d}):yield Wc(Object(_y.b)())}catch(e){Object(_t.b)(e)}}catch(e){Object(_t.b)(e)}}function*Ay(){try{for(;;)try{const e=yield zc(W.l),{isMediaOpen:t}=e.payload;t?Object(be.a)({topic:ee.h}):Object(be.a)({topic:ee.g})}catch(e){Object(_t.b)(e)}}catch(e){Object(_t.b)(e)}}function*Ry(e,t){try{yield Wc(Object(_y.i)(e,t))}catch(n){Object(_t.b)(n)}}function*Ny(e,t,n){try{const e=yield Jc(Bn.b),t=Object(Fn.e)(e),n=Object(Ni.c)(yield Jc(ar.h)).userId;let a={};wo()(t,((e,t)=>{a={...a,[t]:e.enabled}})),yield Object(Kt.k)(n,a)}catch(a){yield qc(Ry,e,n),Object(_t.b)(a)}}function*wy(){try{for(;;){const e=yield zc(W.p),{userPreferenceKey:t,newValue:n,oldValue:a}=e.payload;yield qc(Ry,t,n),yield qc(Ny,t,n,a)}}catch(e){Object(_t.b)(e)}}function*Ly(){try{const{payload:{applicationConfig:e}}=yield zc(Kn.a);setTimeout((()=>{const t=s()(e,"otherConfigs.theme.icons",{});wo()(t,(e=>{Object(Ty.a)(e)}))}),1e4)}catch(e){Object(_t.b)(e)}}function*Dy(){try{yield $c([Yc(xy),Yc(Ay),Yc(wy),Yc(Ly)])}catch(e){Object(_t.b)(e)}}function*My(e){try{const{user:t,userContext:n}=e.payload||{},a=Object(Ni.c)(yield Jc(ar.h)),o=Vs.a.getId(a),r=Object(p.M)(n);if(Object(en.a)(t)&&!Object(en.b)(o)||Object(en.b)(o)&&Object(en.d)(t,a)){const e=k()(Object(u.a)(),{userContext:{$merge:r},user:{$set:{...Object(u.a)().user||{},...t}}});Object(u.f)(e);const n=yield qc(Zl,{...a,...t,customContext:r});return yield Wc(Object(An.c)({action:Co.a.USER_PROFILE_UPDATED})),void(yield Wc({type:U.d,payload:{users:[n]}}))}const i=k()(Object(u.a)(),{userContext:{$set:r},user:{$set:t}});return Object(u.f)(i),void Object($n.c)({shouldReboot:!0})}catch(t){Object(_t.b)(t)}}function*Py(){try{yield nl(V,My)}catch(e){Object(_t.b)(e)}}function*ky(){return vs((e=>{const t=()=>{e(Object(An.g)(!0))},n=()=>{e(Object(An.g)(!1))};return window.addEventListener("online",t),window.addEventListener("offline",n),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}))}function*Uy(){let e;try{for(e=yield qc(ky);;){const t=yield zc(e);yield Wc(t)}}catch(t){Object(_t.b)(t)}finally{e&&e.close()}}function Fy(){return vs((e=>{const t=Object(u.b)();if(!t)return X.a;const n=()=>{const{visibilityState:t}=document;"hidden"===t&&e({type:Sl.b}),"visible"===t&&e({type:Sl.a})};return t.document.addEventListener("visibilitychange",n),()=>{t.document.removeEventListener("visibilitychange",n)}}))}function*By(){let e;try{for(e=yield qc(Fy);;){const t=yield zc(e);yield Wc(t)}}catch(t){Object(_t.b)(t)}finally{e&&e.close()}}function*Gy(e){try{const{ssoId:t,conversationId:n,messageId:a}=e.payload;yield Qt({ssoId:t,conversationId:n,messageId:a}),yield Wc({type:Sl.e,payload:{}}),yield Wc({type:Kn.b,payload:{}}),e.promise&&e.promise.resolve()}catch(t){yield Wc({type:Sl.c,payload:{}}),e.promise&&e.promise.reject()}}function*Vy(){try{yield nl(Sl.d,Gy)}catch(e){Object(_t.b)(e)}}function*zy(){try{yield $c([Yc(Vy)])}catch(e){Object(_t.b)(e)}}let Wy=!0;function*$y(){for(;;)try{yield zc(W.b),yield Wc({type:W.c})}catch(e){Object(_t.b)(e)}}function*Hy(){for(;;)try{yield zc(W.d),yield Wc({type:W.e})}catch(e){Object(_t.b)(e)}}function*Ky(e){Wy=!1,yield Wc(Object(An.a)({ssoId:Ht.a.getAutoLoginSSOId($t.a.getCustomizationConfig(e))})())}function*qy(){try{const{payload:{applicationConfig:e}}=yield zc(Kn.a);if(Object(p.K)())return;if(!Wy||!Jt(e))return void(yield Yc(Hy));yield zc(W.d),yield qc(Ky,e),yield zc(Sl.c),yield Yc(Hy),yield Wc({type:W.d})}catch(e){Object(_t.b)(e)}}function*Yy(){yield $c([Yc(qy),Yc($y)])}var Xy=n(1048);function*Zy(e){try{const{type:t,buttonId:n,promptId:a}=e.payload,o=yield Jc(Bn.d),r=Xo()(o,(e=>e.id===a));if(!r)return;t!==er.a.TRIGGERED&&(yield Wc(function(e){return{type:re.b,payload:{promptId:e}}}(a)));const i=Xo()(r.buttons,(e=>e.id===n));t===er.a.ENGAGED&&i&&i.type===er.b.URL&&i.value?window.open(Object(Xt.c)(i.value)):t!==er.a.ENGAGED||i&&i.type===er.b.CLOSE||(yield Wc(Object(fe.b)({initialMessages:kr()([...Ti()(r.messages,(e=>{let{text:t,disableManualResponse:n=!1}=e;return{message:{text:t,disableManualResponse:n}}})),i?{isSentByUser:!0,message:i.label}:void 0]),createCase:!!s()(r.additional,"createCase"),additional:{...Yl()(r.additional,["interceptId","creativeId"]),interceptTargetId:n,clickedOnPrompt:!0}}))),Object(be.a)({topic:ee.j,payload:{data:{type:t,id:a,button:i}}})}catch(t){Object(_t.b)(t)}}function*Jy(){try{yield nl(Xy.a,Zy)}catch(e){Object(_t.b)(e)}}function*Qy(){try{const{appId:e}=Object(u.a)();yield qc(Qa.remove,e)}catch(e){Object(_t.b)(e)}}function*eO(e){try{const{conversationId:t,messageId:n,agentId:a}=e.payload.state,{appId:o}=Object(u.a)();yield qc(Qa.set,o,JSON.stringify({conversationId:t,messageId:n,agentId:a}))}catch(t){Object(_t.b)(t)}}function*tO(){yield nl([gu.g,gu.h],Qy)}function*nO(){yield nl(gu.j,eO)}function*aO(){yield $c([Yc(tO),Yc(nO)])}var oO=n(1049);let rO=null;function iO(e){let{sessionExpiryTimeInMinutes:t,sessionExpiryAlertTime:n}=e;if(t&&n)try{Object(oO.a)(),rO=setTimeout((()=>{iO({sessionExpiryTimeInMinutes:t,sessionExpiryAlertTime:n})}),((e,t)=>{const n=60*e*1e3-t,a=60*e*1e3/3;return n<=a?Math.max(n-2e3,0):a})(t,n))}catch(a){Object(_t.b)(a)}}function*cO(){try{const{payload:{applicationConfig:e}}=yield zc(Kn.a),t=$t.a.getAutoExpireUserSessionTimeInMinutes(e),n=s()(e,"otherConfigs.settings.autoExpiryConfig.alertTime");for(;t&&n;)yield Hc([zc(Hf.e),zc(Hf.u),zc(Hf.w)]),iO({sessionExpiryTimeInMinutes:t,sessionExpiryAlertTime:n}),yield Hc([zc(Hf.h),zc(Hf.o),zc(Hf.b)]),rO&&clearTimeout(rO)}catch(e){Object(_t.b)(e)}finally{rO&&clearTimeout(rO)}}var sO=n(664);function lO(e){return e.type===ht}function*dO(e){try{const{events:t}=e.payload;yield $c(t.filter(lO).map((e=>(sO.d.emit({type:sO.a}),null))))}catch(t){Object(_t.b)(t)}}function*uO(){try{yield nl(Sl.l,dO)}catch(e){Object(_t.b)(e)}}var pO=async e=>{let t;try{h.a.reset(),A(C),t=await cn(Object(u.a)()),nn({handshakeDetails:t}),bn(t.chatUser),e.hasPrompts&&n.e(46).then(n.bind(null,1847)).then((n=>{let{default:a}=n;a(e,t)})),IO(null,{applicationConfig:e,handshakeDetails:t,chatSettings:Object(u.a)(),subscribeToEvent:sn})}catch(a){const n=kt.a.getUserSettings(Object(u.a)());Object(dn.e)(a)&&n&&Wt.getOneTimeToken(n)?IO(a,{applicationConfig:e,handshakeDetails:t,chatSettings:Object(u.a)(),subscribeToEvent:sn}):await ln()}};function*bO(){try{const{payload:{applicationConfig:t}}=yield zc(Kn.a);for(;;)try{yield zc(Kn.b),yield pO(t)}catch(e){Object(_t.b)(e)}}catch(e){Object(_t.b)(e)}}function*fO(){try{yield $c([Yc(ng),Yc(Jy),Yc(Jg),Yc(ny),Yc(Iy),Yc(Uy),Yc(By),Yc(Sy),Yc(Dy),Yc(Py),Yc(zy),Yc(ug),Yc(aO),Yc(cO),Yc(uO)])}catch(e){Object(_t.b)(e)}}function*hO(){try{yield zc(Kn.c),A(_)}catch(e){Object(_t.b)(e)}}function*gO(){try{yield $c([Yc(bO),Yc(Yy),Yc(hO)])}catch(e){Object(_t.b)(e)}}function*yO(){try{yield Yc(gO);const e=yield Yc(fO);yield zc(Kn.c),yield Zc(e)}catch(e){Object(_t.b)(e)}}function*OO(){yield $c([Yc(Ph),Yc(yO)])}const mO=(e,t,n)=>(new qs).setReducer(Bn.a).setSaga(OO).setHTTPClient(Ge.a).setApplicationConfig(e).setHandshakeDetails(t).setChatSettings(n).build();function vO(e){let{applicationConfig:t,store:n,history:a}=e;const o=Object(u.b)().document,r=Object(p.K)()?p.a:p.b;yn.a.render(Object(Rn.jsx)(Li,{applicationConfig:t,history:a,store:n}),r(o,"spr-live-chat-app"))}function jO(e,t){let{applicationConfig:n,handshakeDetails:a,chatSettings:o,subscribeToEvent:r}=t;const i=mO(n,a,o),c=Object(me.b)({isUnauthorized:!!e});r((t=>{e||i.dispatch(t)})),vO({applicationConfig:n,store:i,history:c})}function IO(e,t){let{applicationConfig:n,handshakeDetails:a,chatSettings:o,subscribeToEvent:r}=t;const i=mO(n,a,o),c=Object(me.b)({isUnauthorized:!!e,reset:!0});r((t=>{e||i.dispatch(t)})),vO({applicationConfig:n,store:i,history:c}),c.go(c.entries.length-1)}async function EO(){let e,t,a;try{if(e=Object(u.a)(),d()(e))throw new Error;await an(e),nn({getSessionToken:()=>Object(Kt.a)(e.appId)});const[o,r]=await(async e=>{const[t,n]=await Promise.allSettled([rn(e),cn(e)]),a=t.value;if(Object(p.L)()||!Jt(a))return[t,n];try{await Qt({ssoId:Ht.a.getAutoLoginSSOId($t.a.getCustomizationConfig(a))})}catch(o){Object(_t.b)(o)}return[t,{value:await cn(e)}]})(e);if(t=o.value,a=r.value,"rejected"===r.status)throw r.reason;if("rejected"===o.status)throw new Error;((e,t)=>{const{appId:n}=Object(u.a)(),{chatUser:a}=e;!s()(t,"otherConfigs.settings.disableSentry")&&Object(_t.a)()})(a,t),(e=>{const t=!Ht.a.isDebugModeDisabled(e.otherConfigs);window.sprDebugLog=function(){t&&console.debug(...arguments)}})(t),nn({applicationConfig:t,handshakeDetails:a}),t.hasPrompts&&n.e(46).then(n.bind(null,1847)).then((e=>{let{default:n}=e;n(t,a)})),jO(null,{applicationConfig:t,handshakeDetails:a,chatSettings:e,subscribeToEvent:sn})}catch(o){const n=kt.a.getUserSettings(e);Object(dn.e)(o)&&n&&Wt.getOneTimeToken(n)?jO(o,{applicationConfig:t,handshakeDetails:a,chatSettings:e,subscribeToEvent:sn}):await ln()}}const CO=()=>{!function(){async function e(){Lt(...arguments)}const t=Object(u.e)();e.q=t?t.q:[],e.loaded=!0,Object(u.b)().sprChat=e}();const e=Object(p.w)();n(1027)(`./${e.toLowerCase()}/pages`);const t=Object(u.e)();f(...t.q),EO();const{meetingId:a,user:r,otp:c}=Object(u.a)(),l=s()(r,"oneTimeToken");d()(a)&&d()(l)&&d()(c)||t("open");const{autoTrigger:b}=Object(u.a)();let h;h=!0===b?0:o()(b)?1e3*Math.max(b,0):null,i()(h)||setTimeout((()=>{t("openNewConversation")}),h)}},1872:function(e,t,n){"use strict";var a=n(10),o=n(136),r=n(58),i=n(81),c=Number.isInteger||function(e){return e<<0===e},s=n(190),l=n(1407),d=Object(o.a)((function e(t,n,a){if(0===t.length)return n;var o=t[0];if(t.length>1){var d=!Object(l.a)(a)&&Object(r.a)(o,a)?a[o]:c(t[1])?[]:{};n=e(Array.prototype.slice.call(t,1),n,d)}if(c(o)&&Object(i.a)(a)){var u=[].concat(a);return u[o]=n,u}return Object(s.a)(o,n,a)})),u=n(192),p=n(189),b=Object(a.a)((function(e){return Object(u.a)(Object(p.a)(e),d(e))}));t.a=b},392:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var a=n(384),o=n(572),r=n(801),i=n(12),c=n(573);function s(e){return Object(i.I)()||Object(r.b)(e)&&!Object(c.a)()}t.a=function(){const e=Object(o.a)();return Object(a.useMemo)((()=>s(e)),[e])}},394:function(e,t,n){"use strict";n.d(t,"b",(function(){return a.a})),n.d(t,"a",(function(){return o}));var a=n(722);const o={OPEN_LINK:"openLink",AUDIO:"audio",ATTACHMENT:"attachment",BOT_USER:"botUser",CAMERA:"camera",CHAT_USER:"chatUser",CHEVRON:"chevron",CLOSE:"close",CLOSE_CIRCLE:"closeCircle",CLOSE_CONVERSATION:"closeConversation",DELETE:"delete",DOCUMENT:"document",UNKNOWN_DOC:"unknownDoc",DOWNLOAD:"download",EMOJI:"emoji",ERROR:"error",EXCEL:"excel",IMAGE_PLACEHOLDER:"imagePlaceholder",INTERNET_DISCONNECTED:"internetDisconnected",MORE:"more",PDF:"pdf",PLAY:"play",PAUSE:"pause",PRESENTATION:"presentation",SEND:"send",SOUND_OFF:"soundOff",SOUND_ON:"soundOn",VIDEO:"video",VIDEO_ON:"videoOn",VIDEO_OFF:"videoOff",AUDIO_ON:"audioOn",AUDIO_OFF:"audioOff",END_CALL:"endCall",FULL_SCREEN:"fullScreen",EXIT_FULL_SCREEN:"exitFullScreen",ONENOTE:"onenote",LINE_LIST:"lineList",TEXT:"text",TIMER:"timer",MINIMIZE:"minimize",MAXIMIZE:"maximize"}},398:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(384),o=n(482),r=n(389);const i=e=>{const t=Object(r.c)();return Object(a.useMemo)((()=>Object(o.b)(e,t)),[e,t])}},399:function(e,t,n){"use strict";var a=n(384),o=n(576);t.a=function(){return Object(a.useContext)(o.c)}},400:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(384),o=n(591);function r(){return Object(a.useContext)(o.b).otherConfigs}},406:function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"i",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"h",(function(){return f}));var a=n(675),o=n.n(a),r=n(458);function i(e){return{type:e?r.b:r.d}}function c(){return{type:r.j,payload:{}}}const s=o()(i,!0);o()(i,!1);function l(){return{type:r.g}}function d(e){return{type:r.l,payload:e}}function u(e,t,n){return{type:r.p,payload:{userPreferenceKey:e,newValue:t,oldValue:n}}}function p(e,t){return{type:r.q,payload:{userPreferenceKey:e,value:t}}}const b=e=>({type:r.k,payload:{localeData:e}}),f=e=>{let{value:t}=e;return{type:r.n,payload:{value:t}}}},411:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(7),o=n(6);const r=Object(a.a)("field"),i=Object(a.a)("values"),c=Object(a.a)("filterType"),s=Object(a.a)("filters"),l=Object(a.a)("details"),d=Object(a.a)("id");class u{}u.getField=Object(o.a)(r),u.getValues=Object(o.a)(i),u.getFilterType=Object(o.a)(c),u.getFilters=Object(o.a)(s),u.getDetails=Object(o.a)(l),u.getId=Object(o.a)(d)},417:function(e,t,n){"use strict";var a=n(384),o=n(437),r=n.n(o),i=n(23),c=n.n(i),s=n(196),l=n.n(s),d=n(399),u=n(833);t.a=()=>{const{locale:e,language:t}=Object(d.a)();return Object(a.useCallback)(((n,a)=>{const o=l()(n,"langVsTranslatedFieldValues");if(!c()(o))return l()(n,a);let i=l()(o,e)||l()(o,t);return i||(i=r()(o,((e,n)=>Object(u.b)(n)===t))),l()(i,a)||l()(n,a)}),[e])}},419:function(e,t,n){"use strict";var a=n(384),o=n(1294);t.a=function(){return Object(a.useContext)(o.a)}},420:function(e,t,n){"use strict";var a=n(388);t.a=Object(a.g)({goBack:{id:"goBack",defaultMessage:"Go back"},liveChatBox:{id:"liveChatBox",defaultMessage:"Live chat box"},liveChatNotification:{id:"liveChatNotification",defaultMessage:"Live chat notification"},closeChat:{id:"closeChat",defaultMessage:"Close chat"},liveChat:{id:"liveChat",defaultMessage:"Live chat"},conversationClosed:{id:"conversationClosed",defaultMessage:"Conversation closed"},submit:{id:"submit",defaultMessage:"Submit"},textArea:{id:"textArea",defaultMessage:"Send your message here"},attachment:{id:"attachment",defaultMessage:"Attachment"},moreActions:{id:"moreActions",defaultMessage:"More actions"},sendingMessage:{id:"sendingMessage",defaultMessage:"Sending message"},sentMessage:{id:"sentMessage",defaultMessage:"Sent message"},receivedMessage:{id:"receivedMessage",defaultMessage:"Received message"},unreadMessages:{id:"unreadMessages",defaultMessage:"{count} Unread messages"},unreadMessage:{id:"unreadMessage",defaultMessage:"{count} Unread message"},newNotifications:{id:"newNotifications",defaultMessage:"New notifications"},newNotification:{id:"newNotification",defaultMessage:"New notification"},agentImage:{id:"agentImage",defaultMessage:"Agent Image"},brandImage:{id:"brandImage",defaultMessage:"Brand Image"},homeScreen:{id:"homeScreen",defaultMessage:"Live chat home screen"},newConversationCard:{id:"newConversationCard",defaultMessage:"New conversation"},existingConversationCard:{id:"existingConversationCard",defaultMessage:"Existing conversations"},conversationScreen:{id:"conversationScreen",defaultMessage:"Conversation Screen"},conversationListScreen:{id:"conversationListScreen",defaultMessage:"Conversation List Screen"},persistentMenu:{id:"persistentMenu",defaultMessage:"Menu"},brandLogo:{id:"brandLogo",defaultMessage:"Logo of {name}"}})},424:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(384),o=n(591);function r(){return Object(a.useContext)(o.b)}},428:function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"s",(function(){return b})),n.d(t,"p",(function(){return f})),n.d(t,"A",(function(){return h})),n.d(t,"z",(function(){return g})),n.d(t,"v",(function(){return y})),n.d(t,"t",(function(){return O})),n.d(t,"u",(function(){return m})),n.d(t,"w",(function(){return v})),n.d(t,"x",(function(){return j})),n.d(t,"o",(function(){return I})),n.d(t,"l",(function(){return E})),n.d(t,"n",(function(){return C})),n.d(t,"D",(function(){return S})),n.d(t,"B",(function(){return T})),n.d(t,"C",(function(){return _})),n.d(t,"E",(function(){return x})),n.d(t,"y",(function(){return A})),n.d(t,"k",(function(){return R})),n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return w})),n.d(t,"q",(function(){return L})),n.d(t,"c",(function(){return D})),n.d(t,"r",(function(){return M})),n.d(t,"m",(function(){return P})),n.d(t,"j",(function(){return k}));var a=n(427),o=n(554),r=n(670),i=n(408);const c=function(){let{shouldFetchNumberOfOpenConversation:e=!1,size:t,cursor:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:{shouldFetchNumberOfOpenConversation:e,size:t,cursor:n},type:a.f}},s=(e,t)=>{let{cursor:n,size:o}=t;return t=>({payload:{conversationId:e,cursor:n,size:o},type:a.l,promise:t})},l=(e,t,n)=>o=>({payload:{conversationId:e,query:t,faqAttachment:n},type:a.A,promise:o}),d=e=>{let{conversationId:t,includeAll:n}=e;return e=>({payload:{conversationId:t,includeAll:n},type:a.i,promise:e})},u=e=>{let{conversationId:t,includeAll:n}=e;return e=>({payload:{conversationId:t,includeAll:n},type:a.h,promise:e})},p=e=>({type:a.j,payload:e}),b=e=>t=>({payload:{conversationId:e},type:a.o,promise:t}),f=e=>({type:a.H,payload:{chatMessage:e,conversationId:i.a.getConversationId(e)}}),h=e=>{let{text:t,conversationId:n,sender:o,disableManualResponse:r,inReplyToChatMessageId:i}=e;return{type:a.Z,payload:{text:t,conversationId:n,sender:o,disableManualResponse:r,inReplyToChatMessageId:i}}},g=e=>{let{postback:t,conversationId:n,sender:o,inReplyToChatMessageId:r}=e;return e=>({type:a.Y,payload:{postback:t,conversationId:n,sender:o,inReplyToChatMessageId:r},promise:e})},y=e=>({type:a.z,payload:e}),O=e=>{let{action:t,conversationId:n}=e;const a=Object(r.a)(t.actionId,t.attachment);return y({type:o.a,payload:{contextId:n,actionId:a.params,actionPayload:t.values}})},m=e=>{let{action:t,conversationId:n}=e;const a=Object(r.a)(t.actionId,t.attachment);return y({type:o.b,payload:{contextId:n,actionId:a.params,actionPayload:t.values}})},v=e=>{let{id:t,conversationId:n,messageId:a}=e;return y({type:o.e,payload:{id:t,contextId:n,sprMsgId:a}})},j=e=>{let{id:t,conversationId:n,messageId:a}=e;return y({type:o.g,payload:{id:t,contextId:n,sprMsgId:a}})},I=e=>{let{attachment:t,actionId:n}=e;return e=>{const o=Object(r.a)(n,t);return{type:a.Q,payload:{url:o.url,target:o.target},promise:e}}},E=e=>{let{attachment:t,actionId:n}=e;return e=>{const o=Object(r.a)(n,t);return{type:a.p,payload:{phoneNumber:o.phoneNumber},promise:e}}},C=e=>{let{surveyUrl:t,shouldReplace:n,conversationId:o}=e;return{type:a.U,payload:{surveyUrl:t,shouldReplace:n,conversationId:o}}},S=()=>({type:a.W,payload:{}}),T=()=>({type:a.T,payload:{}}),_=()=>({type:a.X,payload:{}}),x=e=>{let{actionParams:t,conversationId:n,sender:o,appContext:i,inReplyToChatMessageId:c}=e;return e=>({type:a.c,payload:{actionParams:Object.assign(Object.assign({},t),{actionTypes:Object(r.b)(t)}),conversationId:n,sender:o,appContext:i,inReplyToChatMessageId:c},promise:e})},A=e=>{let{postback:t,conversationId:n,sender:o,inReplyToChatMessageId:r}=e;return{type:a.R,payload:{postback:t,conversationId:n,sender:o,inReplyToChatMessageId:r}}},R=(e,t)=>n=>({type:a.K,payload:{conversationId:e,appContext:t},promise:n}),N=e=>({type:a.v,payload:{conversationId:e}}),w=(e,t,n)=>({type:a.s,payload:{conversationId:t,caseId:e,context:n}}),L=(e,t)=>({type:a.D,payload:{chatMessage:e,conversationId:i.a.getConversationId(e),alternateUserIds:t}}),D=(e,t)=>n=>({type:a.q,payload:{conversationId:e,disclaimerStatus:t},promise:n}),M=(e,t)=>({type:a.E,payload:{chatMessageId:t,conversationId:e}});function P(e,t){return{type:a.O,payload:{conversationId:e,lastReadMessageId:t}}}function k(){return{type:a.B,payload:{}}}},438:function(e,t,n){"use strict";n.d(t,"l",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"k",(function(){return b})),n.d(t,"m",(function(){return f})),n.d(t,"i",(function(){return h}));const a="unreadCountChanged",o="externalEventTriggered",r="loaded",i="loadCompleted",c="closed",s="availabilityChanged",l="promptActionTriggered",d="mediaShown",u="mediaClosed",p="eventTriggered",b="registerDeviceTriggered",f="unregisterDeviceTriggered",h="onPermissionSeeked"},439:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={CONVERSATION_WINDOW_OPENED:{id:"CONVERSATION_WINDOW_OPENED",label:"Conversation window opened"},CONVERSATION_WINDOW_OPENED_FROM_JS_SDK:{id:"CONVERSATION_WINDOW_OPENED_FROM_JS_SDK",label:"Conversation window opened from JS SDK"},CONVERSATION_WINDOW_CLOSED:{id:"CONVERSATION_WINDOW_CLOSED",label:"Conversation window closed"},CONVERSATION_WINDOW_CLOSED_FROM_JS_SDK:{id:"CONVERSATION_WINDOW_CLOSED_FROM_JS_SDK",label:"Conversation window closed from JS SDK"},CONVERSATION_EXPORTED:{id:"CONVERSATION_EXPORTED",label:"Conversation exported"},CONVERSATION_DELETED:{id:"CONVERSATION_DELETED",label:"Conversation deleted"},CONVERSATION_CLOSED:{id:"CONVERSATION_CLOSED",label:"Conversation closed"},CONVERSATIONS_DELETED:{id:"CONVERSATIONS_DELETED",label:"Conversations deleted"},CONVERSATIONS_CLOSED:{id:"CONVERSATIONS_CLOSED",label:"Conversations closed"},NEW_CONVERSATION_CREATED:{id:"NEW_CONVERSATION_CREATED",label:"New conversation created"},NEW_CONVERSATION_STARTED:{id:"NEW_CONVERSATION_STARTED",label:"New conversation started"},NEW_CONVERSATION_STARTED_FROM_JS_SDK:{id:"NEW_CONVERSATION_STARTED_FROM_JS_SDK",label:"New conversation started from JS SDK"},EXISTING_CONVERSATION_OPENED:{id:"EXISTING_CONVERSATION_OPENED",label:"Existing conversation opened"},TRIGGER_VISIBLE:{id:"TRIGGER_VISIBLE",label:"Trigger visible"},BUTTON_CLICKED:{id:"BUTTON_CLICKED",label:"Button clicked"},AGENT_ASSIGNED:{id:"AGENT_ASSIGNED",label:"Assignment changed"},VIDEO_CALL_OUTGOING_STARTING:{id:"VIDEO_CALL_OUTGOING_STARTING",label:"Video call outgoing starting"},AUDIO_CALL_OUTGOING_STARTING:{id:"AUDIO_CALL_OUTGOING_STARTING",label:"Audio call outgoing starting"},VIDEO_CALL_CARD_CTA_CLICKED:{id:"VIDEO_CALL_CARD_CTA_CLICKED",label:"CTA clicked from video call card"},AUDIO_CALL_CARD_CTA_CLICKED:{id:"AUDIO_CALL_CARD_CTA_CLICKED",label:"CTA clicked from audio call card"},VIDEO_CALL_LAUNCH_CLICKED:{id:"VIDEO_CALL_LAUNCH_CLICKED",label:"Video call launch clicked"},AUDIO_CALL_LAUNCH_CLICKED:{id:"AUDIO_CALL_LAUNCH_CLICKED",label:"Audio call launch clicked"},VIDEO_CALL_LAUNCHED:{id:"VIDEO_CALL_LAUNCHED",label:"Video call launched"},AUDIO_CALL_LAUNCHED:{id:"AUDIO_CALL_LAUNCHED",label:"Audio call launched"},CONVERSATION_BACK_PRESSED:{id:"CONVERSATION_BACK_PRESSED",label:"Conversation back pressed"},CONVERSATION_LIST_BACK_PRESSED:{id:"CONVERSATION_LIST_BACK_PRESSED",label:"Conversation list back pressed"},SURVEY_BACK_PRESSED:{id:"SURVEY_BACK_PRESSED",label:"Survey back pressed"},VIDEO_CALL_JOIN_CTA_CLICKED:{id:"VIDEO_CALL_JOIN_CTA_CLICKED",label:"Video call join CTA clicked"},VIDEO_CALL_JOIN_BACK_CTA_CLICKED:{id:"VIDEO_CALL_JOIN_BACK_CTA_CLICKED",label:"Video call join back CTA clicked"},AUDIO_CALL_JOIN_CTA_CLICKED:{id:"AUDIO_CALL_JOIN_CTA_CLICKED",label:"Audio call join CTA clicked"},AUDIO_CALL_JOIN_BACK_CTA_CLICKED:{id:"AUDIO_CALL_JOIN_BACK_CTA_CLICKED",label:"Audio call join back CTA clicked"},VIDEO_CALL_END_CLICKED:{id:"VIDEO_CALL_END_CLICKED",label:"Video call end clicked"},AUDIO_CALL_END_CLICKED:{id:"AUDIO_CALL_END_CLICKED",label:"Audio call end clicked"},INFO_CARD_OPENED:{id:"INFO_CARD_OPENED",label:"Info card opened"},INFO_CARD_CLOSED:{id:"INFO_CARD_CLOSED",label:"Info card closed"},USER_PROFILE_UPDATED:{id:"USER_PROFILE_UPDATED",label:"User Profile Updated"},WIDGET_MAXIMIZED:{id:"WIDGET_MAXIMIZED",label:"Widget maximized"},WIDGET_MINIMIZED:{id:"WIDGET_MINIMIZED",label:"Widget minimized"},PROACTIVE_PROMPT_TRIGGERED:{id:"PROACTIVE_PROMPT_TRIGGERED",label:"Proactive prompt triggered"},PROACTIVE_PROMPT_ENGAGED:{id:"PROACTIVE_PROMPT_ENGAGED",label:"Proactive prompt engaged"},PROACTIVE_PROMPT_CLOSED:{id:"PROACTIVE_PROMPT_CLOSED",label:"Proactive prompt closed"},PAGE_OPENED:{id:"PAGE_OPENED",label:"Page opened"}}},464:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(384);const o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(a.useCallback)((e=>{t.forEach((t=>{t&&("function"===typeof t?t(e):t.current=e)}))}),[...t])}},467:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return s}));const a=/^https?:\/\//i,o=e=>e.match(a)?e:`https://${e}`,r=e=>`tel:${e}`,i=e=>e.map((e=>`${e.key}=${e.value}`)).join("&"),c=e=>!(e.startsWith("http")||e.startsWith("https")||e.startsWith("www")),s=(e,t)=>{const n=new URL(e);return t.forEach((e=>{n.searchParams.set(e.key,e.value)})),n.toString()}},469:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"w",(function(){return c})),n.d(t,"p",(function(){return s})),n.d(t,"t",(function(){return l})),n.d(t,"u",(function(){return d})),n.d(t,"z",(function(){return u})),n.d(t,"x",(function(){return p})),n.d(t,"y",(function(){return b})),n.d(t,"s",(function(){return f})),n.d(t,"v",(function(){return h})),n.d(t,"q",(function(){return g})),n.d(t,"r",(function(){return y})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return m})),n.d(t,"o",(function(){return v})),n.d(t,"n",(function(){return j})),n.d(t,"d",(function(){return I})),n.d(t,"h",(function(){return E})),n.d(t,"i",(function(){return C})),n.d(t,"j",(function(){return S})),n.d(t,"f",(function(){return T})),n.d(t,"g",(function(){return _})),n.d(t,"e",(function(){return x})),n.d(t,"l",(function(){return A})),n.d(t,"m",(function(){return R})),n.d(t,"k",(function(){return N}));var a=n(404),o=n(488),r=n(521);const i=(e,t)=>Object(o.k)(Object(a.b)(e),t),c=e=>Object(o.i)(Object(a.b)(e))===r.d.INITIATE_FAILED,s=e=>Object(o.i)(Object(a.b)(e))===r.d.AGENT_ASSIGNMENT_FAILED,l=e=>Object(o.A)(Object(a.b)(e)),d=e=>Object(o.B)(Object(a.b)(e)),u=e=>Object(o.g)(Object(a.b)(e)),p=e=>Object(o.i)(Object(a.b)(e))===r.d.REJOINING_FAILED_DUE_TO_CALL_END,b=e=>Object(o.i)(Object(a.b)(e))===r.d.REJOINING_FAILED_DUE_TO_OTHER_REASONS,f=e=>Object(o.z)(Object(a.b)(e)),h=e=>Object(o.p)(Object(a.b)(e)),g=e=>Object(o.x)(Object(a.b)(e)),y=e=>Object(o.y)(Object(a.b)(e)),O=(e,t)=>Object(o.c)(Object(a.b)(e),t),m=e=>Object(o.e)(Object(a.b)(e)),v=e=>Object(o.w)(Object(a.b)(e)),j=e=>Object(o.v)(Object(a.b)(e)),I=e=>Object(o.r)(Object(a.b)(e)),E=e=>Object(o.s)(Object(a.b)(e)),C=e=>Object(o.t)(Object(a.b)(e)),S=e=>Object(o.u)(Object(a.b)(e)),T=e=>Object(o.h)(Object(a.b)(e))===r.b.ACCEPT_FAILED_DUE_TO_CALL_END,_=e=>Object(o.h)(Object(a.b)(e))===r.b.ACCEPT_FAILED_DUE_TO_OTHER_REASONS,x=e=>T(e)||_(e),A=e=>Object(o.h)(Object(a.b)(e))===r.b.REJOINING_FAILED_DUE_TO_CALL_END,R=e=>Object(o.h)(Object(a.b)(e))===r.b.REJOINING_FAILED_DUE_TO_OTHER_REASONS,N=e=>Object(o.o)(Object(a.b)(e))},471:function(e,t,n){"use strict";var a=n(428);n.d(t,"a",(function(){return a.f})),n.d(t,"b",(function(){return a.g})),n.d(t,"c",(function(){return a.h})),n.d(t,"d",(function(){return a.l})),n.d(t,"e",(function(){return a.n})),n.d(t,"f",(function(){return a.o})),n.d(t,"g",(function(){return a.q})),n.d(t,"h",(function(){return a.r})),n.d(t,"i",(function(){return a.t})),n.d(t,"j",(function(){return a.u})),n.d(t,"k",(function(){return a.v})),n.d(t,"l",(function(){return a.w})),n.d(t,"m",(function(){return a.x})),n.d(t,"n",(function(){return a.y})),n.d(t,"o",(function(){return a.z})),n.d(t,"p",(function(){return a.B})),n.d(t,"q",(function(){return a.C})),n.d(t,"r",(function(){return a.D})),n.d(t,"s",(function(){return a.E}));n(840)},476:function(e,t,n){"use strict";var a=n(727);const o=new(n(809).a);o.on((e=>{const{topic:t,payload:n={}}=e;t&&Object(a.a)({topic:t,payload:{response:{data:n.data,error:n.error},request:n.request}})})),t.a=function(e){o.emit(e)}},477:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return p}));var a=n(463),o=n(729);const r=e=>{let{ssoId:t,conversationId:n,messageId:o}=e;return e=>({type:a.d,payload:{ssoId:t,conversationId:n,messageId:o},promise:e})};function i(){return{type:a.i,payload:{}}}function c(e){return{type:a.f,payload:{status:e?o.a.CONNECTED:o.a.DISCONNECTED}}}function s(e){let{waitTime:t,reason:n}=e;return{type:a.k,payload:{waitTime:t,reason:n}}}function l(){return{type:a.n,payload:{}}}function d(e){return{type:a.h,payload:e}}function u(){return{type:a.g,payload:{}}}function p(){return{type:a.j,payload:{}}}},479:function(e,t,n){"use strict";t.a={TOTAL_TIME_SPENT:"browsingSession.timeSpentOnSite",ACTIVE_TIME_SPENT:"browsingSession.timeFocusedOnSite",HORIZONTAL_PAGE_SCROLL_DEPTH:"browsingSession.horizontalPageScrollDepth",VERTICAL_PAGE_SCROLL_DEPTH:"browsingSession.verticalPageScrollDepth",INACTIVE_TIME_SPENT:"",DEVICE_TYPE:"userInfo.deviceType",TIME_SPENT_ON_SESSION:"browsingSession.timeSpentOnSession",USER_AGENT:"userInfo.userAgent",CURRENT_URL:"browsingSession.currentURL",INTERCEPT_ENGAGED_IN_SESSION_KEY:"intercept.engaged.in.session.key",INTERCEPT_CLOSED_IN_SESSION_KEY:"intercept.closed.in.session.key",DEPENDENT_DURATION_KEY:"dependant.duration.key",PAGE_REFERRER:"browsingSession.pageReferrer",BUSINESS_HOURS:"BUSINESS_HOURS",AVAILABLE_AGENTS:"AVAILABLE_AGENTS",AGENT_OUT_OF_CAPACITY:"AGENT_OUT_OF_CAPACITY",IS_CONVERSATION_OPEN:"IS_CONVERSATION_OPEN",USER_IP_DETAILS_COUNTRY:"userIPDetails.countryLong",USER_IP_DETAILS_CITY:"userIPDetails.city",USER_IP_DETAILS_REGION:"userIPDetails.region",NUM_SNOOZE_ALLOWED:"NUM_SNOOZE_ALLOWED",PROFILE_CUSTOM_FIELD:"PROFILE_CUSTOM_FIELD"}},489:function(e,t,n){"use strict";var a=n(1031),o=n(384);t.a=function(){return Object(o.useContext)(a.a)}},490:function(e,t,n){"use strict";var a=n(384),o=n(423),r=n(446);t.a=(e,t)=>{let{onSuccess:n,onFailure:i,ignoreResults:c}=t;const s=Object(a.useRef)(0),[l,d]=Object(a.useState)(),u=o.a.getType(e),p=o.a.getUrl(e),b=Object(a.useCallback)((()=>(s.current+=1,s.current)),[]),f=Object(a.useCallback)((e=>s.current===e),[]);return[Object(a.useCallback)((async e=>{const t=b();try{const a=await r.a[u](p,e);return!c&&f(t)&&d(a.data),n&&n(a.data),a.data}catch(a){throw i&&i(a),!c&&f(t)&&d(void 0),a}}),[u,p,b,f]),{data:l}]}},504:function(e,t,n){"use strict";var a=n(1034),o=n(384);t.a=function(){return Object(o.useContext)(a.a)}},519:function(e,t,n){"use strict";var a=n(439);n.d(t,"a",(function(){return a.a}))},520:function(e,t,n){"use strict";var a=n(384),o=n(730);t.a=function(){return Object(a.useContext)(o.a)}},522:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));var a=n(123),o=n.n(a),r=n(83),i=n.n(r),c=n(411),s=n(479);const l=(e,t)=>{const n=c.a.getField(e);if(n)return n===t;let a=!1;return o()(c.a.getFilters(e),(e=>!l(e,t)||(a=!0,!1))),a},d=e=>!!e&&!!e.match(/PROFILE\.(\w+)/),u=e=>d(e)?e.match(/PROFILE\.(\w+)/)[1]:"",p=e=>{let{currentValueMap:t,filter:n}=e;const a=c.a.getField(n);return a&&d(a)?t[s.a.PROFILE_CUSTOM_FIELD](n):i()(t[a])?t[a](n):t[a]}},523:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(384),o=n(1018);t.default=function(e,t){var n=o.useFirstMountState();a.useEffect((function(){if(!n)return e()}),t)}},532:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(391),o=n(385),r=n(384),i=n.n(r),c=n(407),s=n.n(c),l=n(470),d=n(394),u=n(386),p=n(390);const b=Object(u.a)("button",{target:"e1hw652w0"})("background-color:transparent;border-radius:4px;border:0;cursor:pointer;height:40px;position:relative;width:40px;:before{content:'';display:block;opacity:0;position:absolute;transition-duration:0.15s;transition-timing-function:cubic-bezier(0.4,0,0.2,1);bottom:0;left:0;right:0;top:0;background:none;border-radius:4px;box-sizing:border-box;transform:scale(0);transition-property:transform,opacity;}&:hover:before,&:focus:before{border:none;opacity:1;transform:scale(1);}",p.k,"{&:hover:before,&:focus:before{opacity:0;transform:scale(0);}&:active:before{border:none;opacity:1;transform:scale(1);}}"),f={name:"1qlyuxe",styles:"position:relative;height:12px;width:12px;flex:0 0 auto;"};var h=i.a.forwardRef(((e,t)=>{const{iconName:n,iconCss:i,Icon:c,onLoad:u,onClick:p,...h}=e,{isKeyboardEventLast:g}=Object(l.a)(),y=Object(r.useCallback)((e=>{g||e.currentTarget.blur(),p&&p(e)}),[g,p]);return Object(o.jsx)(b,Object(a.a)({},h,{ref:t,className:s()("center-x-y",e.className),onClick:y}),Object(o.jsx)(d.b,{alt:c,name:n,css:Object(o.css)([f,i],""),onLoad:u,"aria-hidden":!0,focusable:!1}),e.children)}))},533:function(e,t,n){"use strict";n.d(t,"g",(function(){return D})),n.d(t,"c",(function(){return M})),n.d(t,"f",(function(){return P})),n.d(t,"d",(function(){return k})),n.d(t,"e",(function(){return U})),n.d(t,"b",(function(){return F})),n.d(t,"a",(function(){return B})),n.d(t,"h",(function(){return G}));n(82);var a,o=n(196),r=n.n(o),i=n(437),c=n.n(i),s=n(459),l=n.n(s),d=n(1450),u=n.n(d),p=n(388),b=n(394),f=n(384);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},h.apply(this,arguments)}function g(e,t){let{title:n,titleId:o,...r}=e;return f.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 11.063",ref:t,"aria-labelledby":o},r),n?f.createElement("title",{id:o},n):null,a||(a=f.createElement("g",null,f.createElement("path",{d:"M6.979 4.274c-1.128 0-2.081.951-2.083 2.08A2.101 2.101 0 0 0 7 8.48a2.1 2.1 0 0 0 2.102-2.099 2.1 2.1 0 0 0-2.123-2.107z"}),f.createElement("path",{d:"M13.5 2.063h-3.052c-.02-.016-.039-.031-.057-.058C9.99 1.386 9.581.772 9.184.151 9.108.032 9.024 0 8.891 0 7.616.004 6.34.004 5.065.001c-.09 0-.143.026-.192.101-.42.635-.844 1.267-1.262 1.903a.202.202 0 0 1-.059.058H.5a.5.5 0 0 0-.5.5v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.5zM7.351 9.858c-2.052.198-3.653-1.335-3.832-3.115a3.501 3.501 0 0 1 3.396-3.865 3.496 3.496 0 0 1 3.582 3.372 3.494 3.494 0 0 1-3.146 3.608z"}))))}const y=f.forwardRef(g);n.p;var O=n(837),m=n(403),v=n(487),j=n(404),I=n(409),E=n(517),C=n(468),S=n(126),T=n(415),_=n(1028);const x=/^CASE_(\w+)/,A=/^CONVERSATION_(\w+)/,R=Object(p.g)({image:{id:"image",defaultMessage:"Image"},video:{id:"video",defaultMessage:"Video"},attachment:{id:"attachment",defaultMessage:"Attachment"},card:{id:"card",defaultMessage:"Card"},carousel:{id:"carousel",defaultMessage:"Carousel"},progressBar:{id:"progressBar",defaultMessage:"Progress Bar"},audio:{id:"audio",defaultMessage:"Audio"},document:{id:"document",defaultMessage:"Document"},form:{id:"form",defaultMessage:"Form"},contactDetailsForm:{id:"contactDetailsForm",defaultMessage:"Contact Details Form"},feedbackSurvey:{id:"feedbackSurvey",defaultMessage:"Feedback Survey"},secureForm:{id:"secureForm",defaultMessage:"Secure Form"},survey:{id:"survey",defaultMessage:"Survey"},cobrowseInvite:{id:"cobrowseInvite",defaultMessage:"Co-browse invite"},quickSelectCard:{id:"quickSelectCard",defaultMessage:"Quick Select Card"},disclaimerCard:{id:"disclaimerCard",defaultMessage:"Disclaimer Card"},appointment:{id:"appointment",defaultMessage:"Appointment"},faq:{id:"faq",defaultMessage:"Frequently Asked Questions"},productCard:{id:"productCard",defaultMessage:"Product Card"},productShowcaseCard:{id:"productShowcaseCard",defaultMessage:"Product Showcase Card"},productBanner:{id:"productBanner",defaultMessage:"Product Banner"},productList:{id:"productList",defaultMessage:"Product List"}}),N={[T.b.IMAGE]:R.image,[T.b.VIDEO]:R.video,[T.b.CARD]:R.card,[T.b.CAROUSEL]:R.carousel,[T.b.RICH_TEXT_CAROUSEL]:R.carousel,[T.b.PROGRESS_BAR]:R.progressBar,[T.b.AUDIO]:R.audio,[T.b.DOCUMENT]:R.document,[T.b.CONTACT_DETAILS_FORM]:R.contactDetailsForm,[T.b.FORM]:R.form,[T.b.FEEDBACK_FORM]:R.feedbackSurvey,[T.b.SECURE_FORM]:R.secureForm,[T.b.SURVEY]:R.survey,[T.b.CO_BROWSE_INVITE]:R.cobrowseInvite,[T.b.QUICK_SELECT_CARD]:R.quickSelectCard,[T.b.DISCLAIMER_CARD]:R.disclaimerCard,[T.b.APPOINTMENT]:R.appointment,[T.b.FAQ]:R.faq,[T.b.PRODUCT_CARD]:R.productCard,[T.b.PRODUCT_SHOWCASE_CARD]:R.productShowcaseCard,[T.b.PRODUCT_BANNER]:R.productBanner,[T.b.PRODUCT_LIST]:R.productList,DEFAULT:R.attachment},w={[T.b.IMAGE]:{Component:y,label:R.image,name:b.a.CAMERA},[T.b.VIDEO]:{Component:O.a,label:R.video,name:b.a.ATTACHMENT},[T.b.CARD]:{Component:O.a,label:R.card,name:b.a.ATTACHMENT},[T.b.CAROUSEL]:{Component:O.a,label:R.carousel,name:b.a.ATTACHMENT},[T.b.RICH_TEXT_CAROUSEL]:{Component:O.a,label:R.carousel,name:b.a.ATTACHMENT},[T.b.PROGRESS_BAR]:{Component:O.a,label:R.progressBar,name:b.a.ATTACHMENT},[T.b.AUDIO]:{Component:O.a,label:R.audio,name:b.a.ATTACHMENT},[T.b.DOCUMENT]:{Component:O.a,label:R.document,name:b.a.ATTACHMENT},[T.b.CONTACT_DETAILS_FORM]:{Component:O.a,label:R.contactDetailsForm,name:b.a.ATTACHMENT},[T.b.FORM]:{Component:O.a,label:R.form,name:b.a.ATTACHMENT},[T.b.FEEDBACK_FORM]:{Component:O.a,label:R.feedbackSurvey,name:b.a.ATTACHMENT},[T.b.SECURE_FORM]:{Component:O.a,label:R.secureForm,name:b.a.ATTACHMENT},[T.b.SURVEY]:{Component:O.a,label:R.survey,name:b.a.ATTACHMENT},DEFAULT:{Component:O.a,label:R.attachment,name:b.a.ATTACHMENT}},L=e=>e&&!!e.match(A),D=e=>e&&!!e.match(x),M=e=>D(e)?e.match(x)[0].split("_")[1]:void 0;function P(e,t,n){const a=Object(j.e)(e),o=Object(I.p)(Object(j.c)(e)),i=Object(v.a)(a),c=Object(v.d)(a),s=m.a.getMaximumOpenConversations(t),d=r()(s,"limit"),u=Object(I.t)(o),p=!!d&&!l()(u)&&d<=u,b=!!r()(s,"replaceNewConversationButton");let f;return i?f=c:p&&(f=b?void 0:n(s,"label")),{isLocked:i||p,lockReason:f}}const k=(e,t)=>{const n=c()(C.a.getReadStatusList(e),(e=>e.userId===t));return r()(n,"unreadCount",0)},U=e=>{const t=Object(j.c)(e),n=Object(I.p)(t),a=Object(E.b)().location.pathname,o=Object(_.a)(a,{path:"/conversation/:conversationId/:transientId?"});if(!o)return{isConversationPath:!1,conversationId:void 0};const i=r()(o,"params.conversationId"),c=r()(o,"params.transientId");if("survey"===c)return{isConversationPath:!0,conversationId:i};if("all"===i)return{isConversationPath:!1,conversationId:void 0};if("new"===i)return{isConversationPath:!0,conversationId:c||S.e};if("last"===i){return{isConversationPath:!0,conversationId:Object(I.b)(n)?Object(I.d)(Object(I.u)(t))||S.e:void 0}}return L(i)?{isConversationPath:!0,conversationId:i}:D(i)?{isConversationPath:!0,conversationId:Object(I.i)(n,M(i))}:{isConversationPath:!0,conversationId:i}},F=e=>w[e]||w.DEFAULT,B=e=>N[e]||N.DEFAULT,G=(e,t)=>-1===u()(Object(I.q)(e),t)},534:function(e,t,n){"use strict";var a=n(384),o=n(1020);var r=function(){return Object(a.useContext)(o.a)};t.a=e=>{const[t,n]=r(),o=Object(a.useCallback)((t=>{n({stateKey:e,state:t})}),[e,n]);return[t&&t.stateKey===e?t.state:null,o]}},535:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(391),o=(n(384),n(1297)),r=n(399),i=n(385);var c=e=>{const{direction:t}=Object(r.a)();return Object(i.jsx)(o.a,Object(a.a)({},e,{direction:t}),e.children)}},540:function(e,t,n){"use strict";var a=n(384),o=n(1021);t.a=function(){return Object(a.useContext)(o.b)}},542:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(384),o=n(1039);function r(){return Object(a.useContext)(o.a)}},543:function(e,t,n){"use strict";var a=n(384);const o={childList:!0,subtree:!0,attributes:!0};t.a=(e,t)=>{const[n,r]=Object(a.useState)();Object(a.useLayoutEffect)((()=>{const a=[];if(n){if(e.MutationObserver){const r=new e.MutationObserver(t);r.observe(n,o),a.push((()=>r.disconnect()))}else e.document.addEventListener("DOMSubtreeModified",t),a.push((()=>e.document.removeEventListener("DOMSubtreeModified",t)));a.push((()=>e.removeEventListener("resize",t)),(()=>e.document.removeEventListener("transitionend",t)))}return()=>{a.forEach((e=>e()))}}),[n,t]);return Object(a.useCallback)((e=>{e&&r(e)}),[])}},544:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"k",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"x",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"m",(function(){return p})),n.d(t,"n",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return h})),n.d(t,"t",(function(){return g})),n.d(t,"u",(function(){return y})),n.d(t,"p",(function(){return O})),n.d(t,"v",(function(){return m})),n.d(t,"i",(function(){return v})),n.d(t,"w",(function(){return j})),n.d(t,"q",(function(){return I})),n.d(t,"r",(function(){return E})),n.d(t,"s",(function(){return C})),n.d(t,"o",(function(){return S})),n.d(t,"e",(function(){return T})),n.d(t,"j",(function(){return _}));var a=n(738);function o(e){return{type:a.e,payload:e}}function r(e){return{type:a.f,payload:e}}function i(e){return{type:a.l,payload:e}}function c(e){return{type:a.t,payload:e}}function s(e){return{type:a.g,payload:e}}function l(e){return{type:a.n,payload:e}}function d(e){return{type:a.x,payload:e}}function u(e){return{type:a.b,payload:e}}function p(e){return{type:a.c,payload:e}}function b(e){return{type:a.d,payload:e}}function f(e){return{type:a.h,payload:e}}function h(e){return{type:a.m,payload:e}}function g(e){return{type:a.k,payload:e}}function y(e){return{type:a.s,payload:e}}function O(e){return{type:a.u,payload:e}}function m(e){return{type:a.a,payload:e}}function v(e){return{type:a.o,payload:e}}function j(e){return{type:a.v,payload:e}}function I(e){return{type:a.i,payload:e}}function E(e){return{type:a.p,payload:e}}function C(e){return{type:a.q,payload:e}}function S(e){return{type:a.w,payload:e}}function T(e){return{type:a.j,payload:e}}function _(e){return{type:a.r,payload:e}}},556:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e,t)=>e&&e[t];const n=t(e,"fullName"),a=t(e,"firstName"),o=t(e,"lastName");if(n)return n;const r=o?` ${o}`:"",i=a||"";return`${i}${r}`}},557:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(391),o=n(384),r=n.n(o),i=n(590),c=n(385);const s=r.a.createContext((()=>i.c)),l=e=>function(t){return Object(c.jsx)(s.Consumer,null,(n=>Object(c.jsx)(e,Object(a.a)({},t,{getUserType:n}))))};t.b=s},558:function(e,t,n){"use strict";var a=n(400),o=n(389),r=n(417),i=n(533);const c=e=>e;t.a=()=>{const e=Object(r.a)(),t=Object(a.a)(),n=Object(o.d)(c);return Object(i.f)(n,t,e)}},569:function(e,t,n){"use strict";var a=n(384),o=n(412),r=n.n(o),i=n(122),c=n.n(i),s=n(84),l=n.n(s),d=n(502),u=n.n(d),p=n(83),b=n.n(p),f=n(123),h=n.n(f),g=n(462),y=n(121);let O=[],m=!1;const v=()=>Object(g.a)().history,j=()=>{try{O.length>0&&setTimeout((()=>{try{h()(O,(e=>e()))}catch(e){Object(y.b)(e)}}),0)}catch(e){O=[],Object(y.b)(e)}},I=()=>{const e=Object(g.a)();Object(g.b)(e)&&!m&&((()=>{if(m)return;m=!0;const e=Object(g.a)(),t=v().pushState,n=v().replaceState;e.history.pushState=function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];const r=t.call(e.history,...a);return j(),r},e.history.replaceState=function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];const r=n.call(e.history,...a);return j(),r}})(),e.addEventListener("popstate",j),e.addEventListener("hashchange",j))};var E=()=>Object(a.useCallback)((e=>((e=>{b()(e)&&(O.push(e),I())})(e),()=>{(e=>{b()(e)&&(O=u()(O,(t=>t!==e)))})(e)})),[]),C=n(454);t.a=()=>{const e=E(),t=Object(a.useRef)(Object(C.b)()),n=Object(a.useRef)({}),o=Object(a.useRef)(""),i=Object(a.useCallback)((()=>{o.current=t.current,t.current=Object(C.b)(),o.current!==t.current&&c()(n.current,(e=>{e({currentUrl:t.current,previousUrl:o.current})}))}),[]);return{subscribe:Object(a.useCallback)(((t,a)=>{n.current={...n.current,[t]:a};let o=null;return 1===l()(n.current).length&&(o=e(i)),()=>{n.current=r()(n.current,t),0===l()(n.current).length&&null!==o&&o()}}),[]),getValue:Object(a.useCallback)((()=>t.current),[])}}},573:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var a=n(462),o=n(12);const r=()=>Object(o.K)()&&Object(a.c)(),i=()=>Object(o.L)()&&Object(a.c)()},575:function(e,t,n){"use strict";t.a={AND:"AND",OR:"OR",LT:"LT",LTE:"LTE",GT:"GT",GTE:"GTE",EQUALS:"EQUALS",NOT_EQUALS:"NOT_EQUALS",REGEX:"REGEX",IN:"IN",CONTAINS:"CONTAINS",NIN:"NIN",EXISTS:"EXISTS",MISSING:"MISSING"}},576:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(391),o=(n(384),n(196)),r=n.n(o),i=n(568);n.d(t,"b",(function(){return i.b}));var c=n(520),s=n(425),l=n(403),d=n(398),u=n(406),p=n(385);const b=e=>{const t=Object(c.a)(),n=Object(d.a)(u.d),o=s.a.getDefaultLocale(e.applicationConfig),b=s.a.getSupportedLocales(e.applicationConfig),f=l.a.getExternalLocaleData(s.a.getCustomizationConfig(e.applicationConfig)),h=r()(t,"timeZone");return Object(p.jsx)(i.a,Object(a.a)({onLoadLocaleData:n,defaultLocale:o,supportedLocales:b,externalLocaleData:f,timeZone:h},e))};t.c=i.c},577:function(e,t,n){"use strict";n.d(t,"l",(function(){return b})),n.d(t,"h",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"i",(function(){return g})),n.d(t,"g",(function(){return m})),n.d(t,"m",(function(){return v})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return I})),n.d(t,"b",(function(){return E})),n.d(t,"e",(function(){return S})),n.d(t,"f",(function(){return T})),n.d(t,"a",(function(){return _})),n.d(t,"k",(function(){return x}));var a=n(386),o=n(196),r=n.n(o),i=n(385),c=n(535),s=n(722),l=n(387),d=n(429),u=n(635);const p={PULSE:e=>{const t=Object(l.f)("trigger.borderColor")({theme:e}),n=i.keyframes`
  0% {
    box-shadow: 0 0 0 0 ${Object(d.i)(t,.6)};
  }
  100% {
    box-shadow: 0 0 0 10px ${Object(d.i)(t,0)};
  }
`;return Object(i.css)("animation:",n," 2s ease infinite;")}},b=e=>{const{triggerAnimationInfo:t,theme:n}=e,a=r()(t,"effect"),o=p[a];return o?o(n):""},f=e=>{const t=Object(l.f)("trigger.yPadding")({theme:e});return 0===t?20:t},h=e=>0===Object(l.f)("trigger.xPadding")({theme:e})?20:Object(l.f)("trigger.xPadding")({theme:e}),g=function(){let{leftOffset:e=0,rightOffset:t=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n=>{let{theme:a}=n;const o=Object(l.f)("trigger.align","right")({theme:a});return`${o}: ${h(a)+(o===u.f.LEFT?e:t)}px`}},y=e=>{const t=Object(l.f)("trigger.size")(e);return Math.min(Object(l.f)("trigger.borderRadius",t/2)(e),t/2)*(1-2**-.5)},O=e=>.13*Object(l.f)("trigger.overlayIconButton.button.height")(e),m=e=>f(e.theme)+Object(l.f)("trigger.size")(e)-.5*Object(l.f)("trigger.overlayIconButton.button.height")(e)-(y(e)-O(e)),v=e=>-.5*Object(l.f)("trigger.overlayIconButton.button.height")(e)+(y(e)-O(e)),j=Object(a.a)("div",{target:"e1hh16yv0"})("width:",(e=>Object(l.f)("trigger.overlayIconButton.button.width")(e)),"px;height:",(e=>Object(l.f)("trigger.overlayIconButton.button.height")(e)),"px;border-radius:",(e=>Object(l.a)("trigger.overlayIconButton.borderRadius",Object(l.f)("trigger.overlayIconButton.button.height")(e)/2+"px")(e)),";background-color:",Object(l.f)("trigger.removeIcon.backgroundColor"),";bottom:",(e=>m(e)),"px;",(e=>g({leftOffset:v(e),rightOffset:v(e)})(e)),";position:fixed;z-index:",(e=>Object(l.f)("frame.zIndex")(e)),";transform:translatez(",(e=>Object(l.f)("frame.translateZ")(e)),"px);cursor:pointer;display:flex;align-items:center;justify-content:center;visibility:hidden;"),I=Object(a.a)("div",{target:"e1hh16yv1"})({name:"l1tuuh",styles:"width:100%;height:100%;display:flex;align-items:center;justify-content:center;"}),E=Object(a.a)(s.a,{target:"e1hh16yv2"})("width:",(e=>Object(l.f)("trigger.overlayIconButton.icon.width")(e)),"px;height:",(e=>Object(l.f)("trigger.overlayIconButton.icon.height")(e)),"px;fill:",Object(l.f)("trigger.removeIcon.fill"),";"),C=`\n  ${j} {\n    visibility: visible;\n  }\n  & ~ .notification-container {\n    visibility: hidden;\n  }\n`,S=Object(a.a)("div",{target:"e1hh16yv3"})((e=>e.enableTriggerHideIcon&&`\n    &:hover {\n      ${e.applyRemoveIconStyles&&C};\n    }\n  `),";"),T=Object(a.a)("div",{target:"e1hh16yv4"})("background:transparent;overflow:hidden;box-shadow:",Object(l.f)("trigger.boxShadow"),";border-radius:",(e=>Object(l.a)("trigger.borderRadius",Object(l.f)("trigger.size")(e)/2+"px}")(e)),";bottom:",(e=>f(e.theme)),"px;height:",Object(l.f)("trigger.size"),"px;position:fixed;",g(),";transition:",(e=>{let{enableTriggerWidthTransition:t}=e;return t?"width 0.08s":"none"}),";visibility:",(e=>{let{showTrigger:t}=e;return t?"visible":"hidden"}),";width:",(e=>{let{showLabel:t,labelWidth:n,showTrigger:a,theme:o}=e;return t?a?`${n+26+8+48}px`:"100%":`${Object(l.f)("trigger.size")({theme:o})}px`}),";z-index:",(e=>Object(l.f)("frame.zIndex")(e)),";transform:translatez(",(e=>Object(l.f)("frame.translateZ")(e)),"px);"),_=Object(a.a)(c.a,{target:"e1hh16yv5"})("border-radius:",(e=>Object(l.a)("trigger.borderRadius",Object(l.f)("trigger.size")(e)/2+"px}")(e)),";border:0 none;height:100%;width:100%;"),x=(e,t)=>{const n=!(Object(l.f)("trigger.icon.url")({theme:e})&&t.isMinimized);return Object(i.css)("body{",n&&`background-color: ${Object(l.f)("trigger.backgroundColor")({theme:e})}`,";}")}},578:function(e,t,n){"use strict";var a=n(384),o=n.n(a),r=n(740),i=n.n(r),c=n(459),s=n.n(c),l=n(744),d=n(385);const u=e=>{let{shouldPlay:t,unreadCount:n,children:r}=e;const{play:c}=Object(l.b)(),u=i()(n);return Object(a.useEffect)((()=>{s()(u)||c&&t&&n>u&&c(l.a.MESSAGE)}),[n,c,u,t]),Object(d.jsx)(o.a.Fragment,null,r)};t.a=o.a.memo(u)},591:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(391),o=n(384),r=n.n(o),i=n(385);const c=r.a.createContext(void 0),s=e=>function(t){return Object(i.jsx)(c.Consumer,null,(n=>Object(i.jsx)(e,Object(a.a)({},t,{customization:n.otherConfigs}))))};t.b=c},594:function(e,t,n){var a=n(1430),o=n(135),r=n(1431);e.exports=function(e){return o(e)?r(e):a(e)}},621:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(384),o=n(1794),r=n(401),i=n(196),c=n.n(i),s=n(633);var l=e=>{if(!e.search.includes("preview=1"))return null;const t=c()(e.state,"sprPreview.type");switch(t){case s.a.DIALOGUE:return{type:t,message:c()(e.state,"sprPreview.message"),title:c()(e.state,"sprPreview.title"),cancelLabel:c()(e.state,"sprPreview.cancelLabel"),confirmationLabel:c()(e.state,"sprPreview.confirmationLabel"),onConfirm:c()(e.state,"sprPreview.onConfirm"),onCancel:c()(e.state,"sprPreview.onCancel")};case s.a.IMAGE:case s.a.VIDEO:return{type:t,url:c()(e.state,"sprPreview.url"),downloadParams:c()(e.state,"sprPreview.downloadParams")};default:return null}},d=n(385);const u=Object(r.a)((()=>Promise.all([n.e(0),n.e(25)]).then(n.bind(null,1853))));t.b=Object(o.a)((e=>{let{location:t}=e;const n=Object(a.useMemo)((()=>l(t)),[t.search,t.state]);return n?Object(d.jsx)(a.Suspense,{fallback:null},Object(d.jsx)(u,{previewItem:n})):null}))},632:function(e,t,n){"use strict";var a=c(n(1433)),o=c(n(1438)),r=c(n(1025)),i=c(n(1022));function c(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:i.default,TransitionGroup:r.default,ReplaceTransition:o.default,CSSTransition:a.default}},633:function(e,t,n){"use strict";t.a={IMAGE:"IMAGE",VIDEO:"VIDEO",DIALOGUE:"DIALOGUE"}},635:function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return d}));var a=n(746);const o={[a.a.CROSS]:{height:14,width:14},[a.a.CHEVRON]:{height:18,width:18}},r="280px",i={HORIZONTAL:"horizontal",VERTICAL:"vertical"},c={TOP:"top",BOTTOM:"bottom",TEXT_TOP:"text-top"},s={FIXED:"fixed",VARIABLE:"variable"},l={TRIGGER_LEFT_BOX_LEFT:"TL_BL",TRIGGER_LEFT_BOX_RIGHT:"TL_BR",TRIGGER_RIGHT_BOX_LEFT:"TR_BL",TRIGGER_RIGHT_BOX_RIGHT:"TR_BR"},d={LEFT:"left",RIGHT:"right"}},636:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c}));const a=["video/mp4","video/quicktime"],o=["audio/mp3","audio/x-mp3","audio/mpeg","audio/x-mpeg","audio/mpeg3","audio/x-mpeg-3"],r=[...o,"audio/wav","audio/x-wav","audio/wave","audio/x-wave","audio/vnd.wave"],i=["image/jpeg","image/png","image/gif"],c=["application/pdf","text/plain","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/onenote","application/json"]},657:function(e,t,n){"use strict";var a=n(384),o=n(413),r=n.n(o),i=n(1014),c=n(569),s=n(411);var l=()=>{const{subscribe:e,getValue:t}=Object(c.a)();return{subscribe:Object(a.useCallback)(((t,n)=>{const a=s.a.getId(t);return e(a,n)}),[e]),getValue:t}},d=n(412),u=n.n(d),p=n(431),b=n.n(p),f=n(196),h=n.n(f),g=n(475),y=n.n(g),O=n(123),m=n.n(O),v=n(523),j=n.n(v),I=(n(391),n(1017));n(385);var E=function(){return Object(a.useContext)(I.b)},C=n(410);const S=(e,t)=>(y()(h()(e,t))||C.a).startTime||0,T=e=>{let{startTime:t,expectedElapsedTime:n,onTimeout:a}=e;const o=n-(t?Date.now()-t:0);let r;return o>0&&(r=window.setTimeout((()=>{a()}),o)),r};var _=()=>{const{pagesMetaData:e,currentPageUrl:t}=E(),n=Object(a.useRef)(S(e,t));n.current=S(e,t);const o=Object(a.useRef)({}),r=Object(a.useCallback)(((e,t)=>{const a=s.a.getId(e),r=b()(s.a.getValues(e));return o.current={...o.current,[a]:{timeoutId:T({startTime:n.current,expectedElapsedTime:r,onTimeout:t}),onChangeCallback:t,filterValue:r}},()=>{clearTimeout(h()(o.current,`${a}.timeoutId`)),o.current=u()(o.current,a)}}),[]);j()((()=>{m()(o.current,(e=>{const{timeoutId:t,onChangeCallback:a,filterValue:o}=e;clearTimeout(t),a(),e.timeoutId=T({startTime:n.current,expectedElapsedTime:o,onTimeout:a})}))}),[t]);return{subscribe:r,getValue:Object(a.useCallback)((()=>n.current?Date.now()-n.current:0),[])}},x=n(389),A=n(740),R=n.n(A),N=n(122),w=n.n(N),L=n(459),D=n.n(L),M=n(409),P=n(396),k=n(398),U=n(428),F=n(477);const B=e=>Object(M.t)(Object(M.p)(Object(P.c)(e))),G={fetchOpenConversationCount:U.j,initPusherConnection:F.e};var V=()=>{const e=Object(a.useRef)(),t=Object(a.useRef)({}),{fetchOpenConversationCount:n,initPusherConnection:o}=Object(k.a)(G),r=Object(x.d)(B);e.current=r;const i=R()(r);Object(a.useEffect)((()=>{D()(e.current)&&n()}),[]),j()((()=>{w()(t.current,(e=>{e()}))}),[e.current]),j()((()=>{D()(i)&&r&&o()}),[r,i,o]);return{subscribe:Object(a.useCallback)(((e,n)=>{const a=s.a.getId(e);return t.current={...t.current,[a]:n},()=>{t.current=u()(t.current,a)}}),[]),getValue:Object(a.useCallback)((()=>e.current),[])}},z=n(538),W=n(485);var $=()=>{const e=Object(a.useRef)(0),t=Object(z.a)();e.current=W.a.getTimeToAvailability(t);const n=Object(a.useRef)({}),o=Object(a.useCallback)((()=>e.current),[]);return{subscribe:Object(a.useCallback)(((t,a)=>{const o=s.a.getId(t),r=h()(t,"details.timeToBusinessHours");let i,c=-1;return!D()(r)&&r>0?c=r:!D()(e.current)&&e.current>0&&(c=e.current),c>=0&&(i=window.setTimeout(a,c)),n.current={...n.current,[o]:i},()=>{clearTimeout(h()(n.current,`${o}.timeoutId`)),n.current=u()(n.current,o)}}),[]),getValue:o}};var H=()=>{const e=Object(a.useRef)(0),t=Object(z.a)();e.current=W.a.getNoOfAgentsAvailable(t);const n=Object(a.useRef)({});j()((()=>{w()(n.current,(e=>{e()}))}),[e.current]);return{subscribe:Object(a.useCallback)(((e,t)=>{const a=s.a.getId(e);return n.current={...n.current,[a]:t},()=>{n.current=u()(n.current,a)}}),[]),getValue:Object(a.useCallback)((()=>e.current),[])}};var K=()=>{const e=Object(a.useRef)(0),t=Object(z.a)();e.current=W.a.getNumberOfPendingCases(t);const n=Object(a.useRef)({});j()((()=>{w()(n.current,(e=>{e()}))}),[e.current]);return{subscribe:Object(a.useCallback)(((e,t)=>{const a=s.a.getId(e);return n.current={...n.current,[a]:t},()=>{n.current=u()(n.current,a)}}),[]),getValue:Object(a.useCallback)((()=>e.current),[])}},q=n(520);var Y=()=>{const{device:e}=Object(q.a)(),t=Object(a.useRef)({}),n=Object(a.useRef)(e);n.current=e,j()((()=>{w()(t.current,(e=>{e()}))}),[n.current]);const o=Object(a.useCallback)(((e,n)=>{const a=s.a.getId(e);return t.current={...t.current,[a]:n},()=>{t.current=u()(t.current,a)}}),[]);return{getValue:Object(a.useCallback)((()=>n.current),[]),subscribe:o}},X=n(479);const Z="city",J="countryLong",Q="region";var ee=()=>{const e=Object(a.useRef)(0),t=Object(z.a)();e.current=W.a.getUserIPDetails(t);const n=Object(a.useRef)({});j()((()=>{w()(n.current,(e=>{e()}))}),[e.current]);return{subscribe:Object(a.useCallback)(((e,t)=>{const a=s.a.getId(e);return n.current={...n.current,[a]:t},()=>{n.current=u()(n.current,a)}}),[]),getValue:Object(a.useCallback)((()=>t=>{const n=s.a.getField(t),a=e.current||C.a;switch(n){case X.a.USER_IP_DETAILS_CITY:return a[Z];case X.a.USER_IP_DETAILS_COUNTRY:return a[J];case X.a.USER_IP_DETAILS_REGION:return a[Q];default:return}}),[])}},te=n(522),ne=n(15),ae=n(12);var oe=()=>{const e=Object(ne.a)(),t=Object(a.useRef)(e.userContext),n=Object(a.useRef)({}),o=Object(a.useCallback)((e=>{t.current=e,w()(n.current,(e=>{e()}))}),[]);Object(a.useEffect)((()=>(Object(ae.O)("userContext",o),()=>{Object(ae.P)("userContext",o)})),[]);return{subscribe:Object(a.useCallback)(((e,t)=>{const a=e.id;return n.current={...n.current,[a]:t},()=>{n.current=u()(n.current,a)}}),[]),getValue:Object(a.useCallback)((()=>e=>{var n,a;const o=e.field,r=Object(te.a)(o);return null===(n=t.current)||void 0===n||null===(a=n[r])||void 0===a?void 0:a[0]}),[])}},re=n(454);var ie=()=>{const{getValue:e,subscribe:t}=l(),{getValue:n,subscribe:o}=_(),{getValue:r,subscribe:i}=V(),{getValue:c,subscribe:d}=$(),{getValue:u,subscribe:p}=H(),{getValue:b,subscribe:f}=K(),{getValue:h,subscribe:g}=Y(),{getValue:y,subscribe:O}=ee(),{getValue:m,subscribe:v}=oe();return{getValue:Object(a.useCallback)((()=>({[X.a.CURRENT_URL]:e(),[X.a.TOTAL_TIME_SPENT]:n(),[X.a.IS_CONVERSATION_OPEN]:r(),[X.a.AVAILABLE_AGENTS]:u(),[X.a.AGENT_OUT_OF_CAPACITY]:b(),[X.a.BUSINESS_HOURS]:c(),[X.a.DEVICE_TYPE]:h(),[X.a.USER_IP_DETAILS_CITY]:y(),[X.a.USER_IP_DETAILS_COUNTRY]:y(),[X.a.USER_IP_DETAILS_REGION]:y(),[X.a.USER_AGENT]:Object(re.e)(),[X.a.PROFILE_CUSTOM_FIELD]:m()})),[e,n,r,c,u,b,h,y,m]),subscribe:Object(a.useCallback)(((e,n)=>{if(Object(te.d)(s.a.getField(e)))return v(e,n);switch(s.a.getField(e)){case X.a.TOTAL_TIME_SPENT:return o(e,n);case X.a.CURRENT_URL:return t(e,n);case X.a.IS_CONVERSATION_OPEN:return i(e,n);case X.a.AVAILABLE_AGENTS:return p(e,n);case X.a.AGENT_OUT_OF_CAPACITY:return f(e,n);case X.a.BUSINESS_HOURS:return d(e,n);case X.a.DEVICE_TYPE:return g(e,n);case X.a.USER_IP_DETAILS_CITY:case X.a.USER_IP_DETAILS_COUNTRY:case X.a.USER_IP_DETAILS_REGION:return O(e,n);default:return null}}),[t,o,i,d,p,f,g,O,v])}};t.a=(e,t)=>{const{_getStaticValueMap:n=r.a}=t||C.a,{getValue:o,subscribe:c}=ie(),s=Object(a.useCallback)((()=>({...n(),...o()})),[o,n]);return Object(i.a)(e,{...t,getValue:s,subscribe:c})}},660:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return I}));var a=n(384),o=n.n(a),r=n(1033),i=n.n(r),c=n(1032),s=n(832),l=n(389),d=n(196),u=n.n(d),p=n(400),b=n(403);const f=()=>{const e=Object(p.a)();return!!u()(b.a.getUserPreferences(e),"enableSoundNotification")};var h=n(396),g=n(450);const y=e=>Object(g.e)(Object(h.b)(e));var O=n(385);const m={MESSAGE:"MESSAGE",AGENT_ASSIGNMENT:"AGENT_ASSIGNMENT",CALL:"CALL"},v=o.a.createContext({}),j={[m.MESSAGE]:"https://sprcdn-assets.sprinklr.com/738/notification-4de93778-e7e2-403b-9035-46fddfe6df16-1610394477.mp3",[m.AGENT_ASSIGNMENT]:"https://sprcdn-assets.sprinklr.com/787/6279cf0d-c15c-4f6b-8889-d1be2f9c0264-2132784780.wav",[m.CALL]:"https://sprcdn-assets.sprinklr.com/787/64639b8e-faae-45ad-b7c5-450884c15e2f-2786217496.mp3"},I=e=>{let{children:t}=e;const[n,,o,r]=i()({src:"","data-testid":"messageAudio"}),[d,,u,p]=i()({src:"","data-testid":"callPickedByAgentNotifAudio"}),[b,,h,g]=i()({src:"",loop:!0,"data-testid":"callAudio"}),I=Object(s.a)(),E=(()=>{const e=Object(l.d)(y).enableSoundNotification.enabled,t=f();return e&&t})(),C=f(),S=Object(a.useCallback)((()=>{r.current&&(r.current.src=j.MESSAGE),p.current&&(p.current.src=j.AGENT_ASSIGNMENT),g.current&&(g.current.src=j.CALL)}),[]),T=Object(a.useCallback)((e=>{switch(e){case m.MESSAGE:if(!E)return;return o.play();case m.AGENT_ASSIGNMENT:return u.play();case m.CALL:return h.play()}}),[o,u,h,E]),_=Object(a.useCallback)((e=>{switch(e){case m.MESSAGE:return o.pause();case m.AGENT_ASSIGNMENT:return u.pause();case m.CALL:return h.pause()}}),[o,u,h]),x=Object(a.useMemo)((()=>({play:T,pause:_})),[T,_]);return Object(O.jsx)(v.Provider,{value:x},Object(O.jsx)(c.b,{onClick:S},C&&n,I&&d,I&&b,t))};t.c=v},666:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var a=n(811);const o=e=>{let{file:t,conversationId:n,sender:o,inReplyToChatMessageId:r}=e;return{type:a.b,payload:{file:t,conversationId:n,chatUserId:o,inReplyToChatMessageId:r}}},r=(e,t)=>{let{initialMessages:n,createCase:o,conversationContext:r,silent:i,assignToUser:c,additional:s}=e;return{type:a.c,payload:{initialMessages:n,createCase:o,assignToUser:c,silent:i,conversationContext:r,additional:s},promise:t}},i=(e,t)=>{let{conversationId:n}=e;return{type:a.a,payload:{conversationId:n},promise:t}}},675:function(e,t,n){var a=n(199),o=n(821),r=n(734),i=n(669),c=a((function(e,t){var n=i(t,r(c));return o(e,32,void 0,t,n)}));c.placeholder={},e.exports=c},676:function(e,t,n){"use strict";n.d(t,"p",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"m",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"l",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"j",(function(){return f})),n.d(t,"h",(function(){return h})),n.d(t,"f",(function(){return g})),n.d(t,"n",(function(){return y})),n.d(t,"o",(function(){return O})),n.d(t,"i",(function(){return m}));var a=n(739);function o(){return{type:a.m,payload:{}}}function r(e){let{messageId:t,conversationId:n,agentId:o}=e;return{type:a.i,payload:{messageId:t,conversationId:n,agentId:o}}}function i(){return{type:a.n,payload:{}}}function c(e){return{type:a.g,payload:{messageId:e.messageId,endedByAgent:e.endedByAgent,markCompletedSession:e.markCompletedSession}}}function s(e){return{type:a.h,payload:e}}function l(){return{type:a.d,payload:{}}}function d(e){return{type:a.f,payload:e}}function u(e){return{type:a.b,payload:e}}function p(){return{type:a.e,payload:{}}}function b(){return{type:a.c,payload:{}}}function f(e){return{type:a.a,payload:e}}function h(e){return{type:a.o,payload:e}}function g(e){return{type:a.p,payload:e}}function y(e){return{type:a.k,payload:e}}function O(e){return{type:a.l,payload:e}}const m=e=>({type:a.j,payload:e})},722:function(e,t,n){"use strict";var a=n(391),o=n(384),r=n(500),i=n.n(r),c=n(444),s=n(196),l=n.n(s),d=n(395),u=n(1038),p=n(386),b=n(387);const f=Object(p.a)("div",{target:"e1hxxqun0"})("border-radius:20px;background-color:",(e=>!e.svgLoaded&&Object(b.b)("azure")(e)),";");var h=n(385);const g=e=>{let{name:t,className:n,theme:r,window:c,css:s,onLoad:d,...p}=e;const b=Object(o.useMemo)((()=>`${t}_${i()()}`),[t]),[g,y]=Object(o.useState)(!1);return Object(o.useEffect)((()=>{g&&d&&d()}),[g,d]),Object(o.useEffect)((()=>{const e=l()(r,["icons",t]);!async function(e,t,n,a){const o=e.document.getElementById(t),r=(await Object(u.a)(n)).documentElement.cloneNode(!0);r.setAttribute("class","spa full-height full-width"),r.setAttribute("style","top:0px; left:0px"),o&&o.appendChild(r),a()}(c,b,e,(()=>{y(!0)}))}),[b,t]),Object(h.jsx)(f,Object(a.a)({key:b,className:`spr ${n}`,css:s,id:b,svgLoaded:g,"data-testid":"Custom header icon"},p))},y=e=>{const{name:t,className:n,theme:a,css:r,onClick:i,onKeyPress:c,alt:s,onLoad:d}=e,u=l()(a,`icons.${t}`);if(Object(o.useEffect)((()=>{!u&&d&&d()}),[u,d]),u)return Object(h.jsx)(g,e);const p=s;return Object(h.jsx)(p,{className:n,css:r,onClick:i,onKeyPress:c,"aria-hidden":e["aria-hidden"],focusable:!!e.focusable})};t.a=Object(o.memo)(Object(d.c)((e=>Object(h.jsx)(c.FrameContextConsumer,null,(t=>{let{window:n}=t;return Object(h.jsx)(y,Object(a.a)({},e,{window:n}))})))))},724:function(e,t,n){var a=n(20).isFinite;e.exports=function(e){return"number"==typeof e&&a(e)}},725:function(e,t){e.exports=function(e){return null===e}},726:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=new(n(809).a)},727:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return h}));var a=n(553),o=n.n(a),r=n(123),i=n.n(r),c=n(83),s=n.n(c),l=n(426),d=n.n(l),u=n(436);const p={};function b(e,t){const{topic:n,subscriber:a}=t;if(d()(n)&&s()(a)){const e=p[n];p[n]=e?[...e,a]:[a]}}function f(e,t){const{topic:n,subscriber:a}=t;if(d()(n)&&s()(a)){const e=p[n],t=o()(e,(e=>e===a));-1!==t&&(e.splice(t,1),p[n]=e)}}function h(e){let{topic:t,payload:n}=e;const a=p[t];i()(a,((e,t)=>{try{e(n)}catch(a){Object(u.a)(a)}}))}},728:function(e,t,n){var a=n(87),o=n(241),r=n(200),i=n(989),c=n(1368),s=n(201),l=n(85);e.exports=function(e,t,n){if((e=l(e))&&(n||void 0===t))return o(e);if(!e||!(t=a(t)))return e;var d=s(e),u=s(t),p=c(d,u),b=i(d,u)+1;return r(d,p,b).join("")}},730:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n(391);var a=n(384),o=n.n(a),r=n(392),i=n(454),c=n(43),s=n(569),l=n(385);const d=o.a.createContext({});t.b=e=>{const[t,n]=Object(a.useState)((()=>Object(i.a)())),o=Object(r.a)(),{subscribe:u}=Object(s.a)();Object(a.useEffect)((()=>{const e=u("page-context-change-subscriber",(()=>{n(Object(i.a)())}));return()=>{e()}}),[]);const p=Object(a.useMemo)((()=>({...t,device:o?c.b:c.a})),[t,o]);return Object(l.jsx)(d.Provider,{value:p},e.children)}},740:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(384);t.default=function(e){var t=a.useRef();return a.useEffect((function(){t.current=e})),t.current}},741:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return b}));var a=n(384),o=n.n(a),r=n(389),i=n(534),c=n(664),s=n(458),l=n(12),d=n(385);const u="sessionExpiryModal",p=o.a.createContext(null),b=Object(a.memo)((e=>{const[t,n]=Object(a.useState)(null),[o,b]=Object(i.a)(u),f=Object(r.c)(),h=Object(l.L)();return Object(a.useEffect)((()=>{const e=c.d.on((e=>{switch(e.type){case c.c:n(e.payload.targetDate);break;case c.b:n(null)}}));return()=>e()}),[h]),Object(a.useEffect)((()=>{if(t)return h&&f({type:s.d}),void b(!0);o&&b(!1)}),[t]),Object(d.jsx)(p.Provider,{value:t},e.children)}));t.c=p},742:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={NEW:"NEW",EXISTING:"EXISTING",LAST:"LAST"}},743:function(e,t,n){"use strict";var a=function(){};e.exports=a},744:function(e,t,n){"use strict";var a=n(384),o=n(660);n.d(t,"a",(function(){return o.b})),t.b=function(){return Object(a.useContext)(o.c)}},745:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(388);const o=Object(a.g)({agentViewingYourScreen:{id:"agentViewingYourScreen",defaultMessage:"{agentName} is viewing your screen"},agentControllingYourScreen:{id:"agentControllingYourScreen",defaultMessage:"{agentName} is controlling your screen"},screenSharing:{id:"screenSharing",defaultMessage:"Screen Sharing"},screenInControl:{id:"screenInControl",defaultMessage:"Screen in Control"},stopScreenControl:{id:"stopScreenControl",defaultMessage:"Stop Screen Control"},stopCobrowsing:{id:"stopCobrowsing",defaultMessage:"Stop Co-browsing"},allowScreenControl:{id:"allowScreenControl",defaultMessage:"Allow Screen Control"},cobrowseRemoteControlConfirmationMessage:{id:"cobrowseRemoteControlConfirmationMessage",defaultMessage:"{agentName} is requesting permission to control your screen. Clicking \u2018Accept\u2019 will allow {agentName} to interact with your screen."},accept:{id:"accept",defaultMessage:"Accept"},deny:{id:"deny",defaultMessage:"Deny"},settingUpCobrowsing:{id:"settingUpCobrowsing",defaultMessage:"Setting up Co-browsing with {agentName}"},cobrowsingFailed:{id:"cobrowsingFailed",defaultMessage:"Co-browsing Failed"},settingUpWentWrong:{id:"settingUpWentWrong",defaultMessage:"Sorry, something went wrong while setting up. Please try again in sometime."}})},746:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={BOX:"box",BUBBLE:"bubble",COLLABORATORS:"collaborators",CLOUD:"cloud",MIC:"mic",ELLIPSIS:"ellipsis",ELLIPSIS_STROKE:"ellipsis-stroke",CROSS:"cross",CHEVRON:"chevron",MINIMIZE:"minimize"}},793:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var a=n(391),o=n(384),r=n.n(o),i=n(82),c=n.n(i),s=n(389),l=n(392),d=n(398),u=n(740),p=n.n(u),b=n(489),f=n(744),h=n(504),g=n(660),y=n(404),O=n(488);const m=e=>Object(O.w)(Object(y.b)(e));var v=n(469);function j(){!function(){const e=Object(s.d)(m),{play:t,pause:n}=Object(f.b)(),a=Object(b.a)(),r=Object(h.a)();Object(o.useEffect)((()=>(e&&(a.info({message:"Playing incoming ringing tone"}),r.info({eventType:"CALL_RINGING"}),t(g.b.CALL)),()=>{a.info({message:"Pausing incoming ringing tone"}),n(g.b.CALL)})),[e,a])}(),function(){const e=Object(s.d)(v.u),{play:t,pause:n}=Object(f.b)(),a=Object(b.a)();Object(o.useEffect)((()=>(e&&(a.info({message:"Playing Outgoing ringing tone"}),t(g.b.CALL)),()=>{a.info({message:"Pausing Outgoing ringing tone"}),n(g.b.CALL)})),[e,a])}()}var I=n(1031),E=n(1034),C=n(450),S=n(396),T=n(401),_=n(406),x=n(385);const A=e=>Object(O.e)(Object(y.b)(e)),R=e=>Object(O.g)(Object(y.b)(e)),N=e=>Object(C.g)(Object(S.b)(e)),w=e=>Object(O.w)(Object(y.b)(e)),L=e=>Object(O.j)(Object(y.b)(e)),D=e=>Object(O.l)(Object(y.b)(e)),M=Object(T.a)((()=>n.e(15).then(n.bind(null,1865)))),P=e=>{const t=Object(l.a)(),n=Object(s.d)(R),r=Object(s.d)(A),i=Object(s.d)(w),u=Object(s.d)(N),f=Object(d.a)(_.g),h=Object(s.d)(L),g=Object(s.d)(D),y=Object(b.a)();j();const O=p()(h);return Object(o.useEffect)((()=>{t&&u&&h&&h!==O&&f()}),[t,u,h,O,f]),Object(o.useEffect)((()=>{const e=()=>{y.info({message:`Currently on live chat tab: ${!document.hidden}`})};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}),[y]),c()(n)&&(i||c()(r))||t&&u&&!g?null:Object(x.jsx)(o.Suspense,{fallback:null},Object(x.jsx)(M,Object(a.a)({},e,{outgoingCallDetails:n,incomingCallDetails:r})))},k=e=>Object(O.d)(Object(y.b)(e)),U=e=>Object(O.q)(Object(y.b)(e)),F=e=>{const t=Object(s.d)(k),n=Object(s.d)(U);return Object(x.jsx)(E.b,{videoConversationId:t.videoConversationId,conversationId:t.conversationId},Object(x.jsx)(I.b,{videoConversationId:t.videoConversationId,conversationId:t.conversationId,isAudioCall:n},Object(x.jsx)(P,e)))};t.b=r.a.memo(F)},798:function(e,t,n){"use strict";var a=n(386),o=(n(384),n(387)),r=n(420),i=n(391),c=n(388),s=n(385);var l=e=>Object(s.jsx)("div",{className:"sr-only"},Object(s.jsx)(c.b,Object(i.a)({},e.message,{values:{count:`${e.unreadCount}`}})));const d=Object(a.a)("div",{target:"e1bo82op0"})("background:",Object(o.f)("notification.backgroundColor"),";color:",Object(o.f)("notification.color"),";font-size:",Object(o.e)("xs"),";font-weight:600;box-shadow:0px 2px 4px 0px rgba(0,0,0,0.2);border-radius:50%;");t.a=function(e){return Object(s.jsx)(d,{"aria-live":"polite",className:`center-x-y ${e.className}`},Object(s.jsx)(l,{message:1===e.count?r.a.newNotification:r.a.newNotifications}),(t=e.count)>=10?"9+":t);var t}},811:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));const a="@conversation/NEW_CONVERSATION_OPEN",o="@conversation/EXISTING_CONVERSATION_OPEN",r="@conversation/MEDIA_SEND"},826:function(e,t,n){var a=n(142),o=n(133),r=n(29),i=n(426),c=n(594);e.exports=function(e){if(null==e)return 0;if(r(e))return i(e)?c(e):e.length;var t=o(e);return"[object Map]"==t||"[object Set]"==t?e.size:a(e).length}},827:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(384);const o=e=>{const t=Object(a.useRef)(e);return t.current=e,t}},830:function(e,t,n){"use strict";var a=n(384),o=n(389),r=n(423),i=n(490),c=n(404),s=n(440),l=n(430),d=n(831);const u=(new r.a).setUrl("/video-chat/conversation/log/event").setType(l.a.POST).build(),p="AUDIO_CALL",b="VIDEO_CALL";t.a=e=>{let{videoConversationId:t,conversationId:n,isAudioCall:r}=e;const[l]=Object(i.a)(u,{ignoreResults:!0}),f=Object(a.useCallback)((e=>{const t=Date.now();return e.forEach((e=>{e.offsetTime=t-e.logTime})),l(e)}),[l]),h=Object(o.d)(c.h),g=Object(s.d)(h),y=r?p:b,O=Object(a.useCallback)((e=>{const{message:a}=e;return{videoConversationId:t,logMessage:`USER: ${a}`,loggerSnUserId:g,category:y,loggerSnType:"SPRINKLR_LIVE_CHAT",logTime:Date.now(),additionalDetails:{conversationId:n}}}),[n,t,g,y]),m=Object(a.useMemo)((()=>new d.a(f,{batch:!0,adapter:O,skip:!t})),[f,O,t]);return Object(a.useEffect)((()=>()=>{m.cleanup()}),[]),m}},831:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(436),o=n(121);const r="debug",i="info",c="warning",s="error";class l{constructor(e,t){let{batch:n,skip:l,adapter:d}=t;this.batch=void 0,this.logFn=void 0,this.logQueue=void 0,this.batchTimeoutId=void 0,this.skip=void 0,this.adapter=void 0,this.batchLogs=()=>{this.batchTimeoutId&&clearTimeout(this.batchTimeoutId),this.batchTimeoutId=setTimeout((()=>{this.logQueue.length&&(this.logFn(this.logQueue),this.logQueue=[]),this.batchLogs()}),5e3)},this.log=e=>{if(this.skip)return;(e=>{const{level:t,message:n,category:l}=e,d=`timeStamp: ${Date.now()} category: ${l} message: ${n}`;switch(t){case r:Object(a.a)(d);break;case s:Object(o.b)(d);break;case i:console.info(d);break;case c:console.warn(d)}})(e);const t=this.adapter(e);return this.batch?(this.batchTimeoutId||this.batchLogs(),this.logQueue.push(t)):this.logFn(t)},this.debug=e=>{this.log({...e,level:r})},this.info=e=>{this.log({...e,level:i})},this.warning=e=>{this.log({...e,level:c})},this.error=e=>{this.log({...e,level:s})},this.cleanup=()=>{this.batchTimeoutId&&(clearTimeout(this.batchTimeoutId),this.logQueue.length&&this.logFn(this.logQueue))},this.logFn=e,this.logQueue=[],this.batch=!!n,this.skip=l,this.adapter=d,this.batchTimeoutId=null}}},832:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(424),o=n(425);const r=()=>{const e=Object(a.a)();return!!e&&!!o.a.getCallAccountId(e)}},834:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={BUNDLE_DOWNLOAD_FAILED:"BUNDLE_DOWNLOAD_FAILED",SESSION_CREATION_FAILED:"SESSION_CREATION_FAILED",OTP_SEND_FAILED:"OTP_SEND_FAILED",POSTBACK_SEND_FAILED:"POSTBACK_SEND_FAILED",RESUME_SESSION_FAILED:"RESUME_SESSION_FAILED"}},835:function(e,t,n){"use strict";var a=n(384),o=n(1032);t.a=function(){const e=Object(a.useContext)(o.a),t=Object(a.useRef)(null);return Object(a.useEffect)((()=>()=>{t.current&&e.removePublisher(t.current)}),[]),Object(a.useCallback)((n=>{t.current=n.current,t.current&&e.addPublisher(t.current)}),[e])}},836:function(e,t,n){"use strict";var a=n(384),o=n(543);t.a=(e,t)=>{const[n,r]=Object(a.useState)(),i=Object(o.a)(e,t);Object(a.useEffect)((()=>{const a=[];if(n)if(e.ResizeObserver){const o=new e.ResizeObserver(t);o.observe(n),a.push((()=>o.disconnect()))}else i(n);return()=>{a.forEach((e=>e()))}}),[n]);return Object(a.useCallback)((e=>{e&&r(e)}),[])}},837:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a,o=n(384);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}function i(e,t){let{title:n,titleId:i,...c}=e;return o.createElement("svg",r({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 12 14",enableBackground:"new 0 0 12 14",xmlSpace:"preserve",ref:t,"aria-labelledby":i},c),n?o.createElement("title",{id:i},n):null,a||(a=o.createElement("g",{id:"engagement-score"},o.createElement("g",{id:"Smart-asset-recommendation_01-Copy-34",transform:"translate(-411.000000, -423.000000)"},o.createElement("g",{id:"sid-attachment",transform:"translate(411.000000, 423.000000)"},o.createElement("path",{id:"Path",d:"M4.198631,14c-0.795512,0-1.522396-0.264849-1.975732-0.533564 c-0.935669-0.604609-1.488565-1.349375-1.661586-2.226082c-0.269682-1.364355,0.514231-2.51606,0.548062-2.56439 L6.67506,0.873082c1.065194-1.312643,2.615621-0.865591,3.290308-0.449953 c1.521429,1.023147,1.054561,2.670234,0.598326,3.400017L6.271988,10.15873 c-0.629257,1.008649-1.688651,0.968534-2.244446,0.690638c-0.036731-0.018849-0.072495-0.04108-0.105359-0.067179 c-0.939536-0.751049-0.665021-1.85394-0.25035-2.41167l3.49426-5.083352C7.351682,3.016519,7.721889,2.94789,7.99157,3.133961 c0.270648,0.186071,0.339277,0.555795,0.152723,0.82596L4.637467,9.060672 C4.509876,9.241426,4.356186,9.554121,4.612336,9.807854C4.772792,9.864884,5.048273,9.876,5.27639,9.511591l4.291706-6.33655 c0.103426-0.170605,0.640856-1.156538-0.245517-1.753897c-0.086994-0.050747-1.072927-0.605092-1.70315,0.171571 l-5.53862,7.766636l0,0c0,0-0.52873,0.794545-0.352809,1.660136c0.111159,0.545162,0.488133,1.028462,1.12029,1.437335 c0.171088,0.09956,1.90517,1.040545,3.079589-0.574644l4.485993-6.424994c0.18752-0.269198,0.557729-0.335411,0.827411-0.14644 c0.268715,0.187521,0.334443,0.557728,0.146922,0.826927l-4.492759,6.433692C6.1096,13.653474,5.108202,14,4.198631,14z"}))))))}const c=o.forwardRef(i);n.p},838:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));const a={NEW_CONVERSATION:"NEW_CONVERSATION",CLOSE:"CLOSE",URL:"OPEN_URL"},o={ENGAGED:"ENGAGED",CLOSED:"CLOSED",TRIGGERED:"TRIGGERED"}},839:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(384),o=n.n(a),r=n(385);const i=o.a.createContext("MOBILE");t.b=e=>Object(r.jsx)(i.Provider,{value:e.device},e.children)},840:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(427);const o=(e,t)=>{const n={conversationId:t};return e?{type:a.bb,payload:n}:{type:a.cb,payload:n}}},842:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={NOT_FOUND:"NOT_FOUND",UNEXPECTED_ERROR:"UNEXPECTED_ERROR",NOT_ACCEPTABLE:"NOT_ACCEPTABLE",LIMIT_REACHED:"LIMIT_REACHED"}},843:function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return g}));var a=n(82),o=n.n(a),r=n(196),i=n.n(r),c=n(823),s=n(521),l=n(1045),d=n(439);const u=e=>({[c.a.MIC]:!1,[c.a.CAMERA]:!1,[c.a.DRAG]:!e,[c.a.FULL_SCREEN]:e}),p=e=>e===s.c.WAITING,b=e=>e===s.e.WAITING?s.e.WAITING:s.e.SETUP,f=(e,t)=>((e,t)=>{switch(e.state){case l.a.CALL_INITIATED:case l.a.CALL_STARTING:return t.WAITING;case l.a.CALL_OFFER_ACCEPTED:return t.SETUP;default:return t.JOINED}})(e,t?s.c:s.e),h=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e?d.a.AUDIO_CALL_JOIN_CTA_CLICKED:d.a.VIDEO_CALL_JOIN_CTA_CLICKED:e?d.a.AUDIO_CALL_JOIN_BACK_CTA_CLICKED:d.a.VIDEO_CALL_JOIN_BACK_CTA_CLICKED},g=e=>{let{callDetails:t,rejoiningVideoConversationId:n}=e;const a=i()(t,"state"),r=a===s.c.FAILED||a===s.e.FAILED;return!o()(t)&&(t.videoConversationId!==n||!r||!((c=t.reason)===s.b.REJOINING_FAILED_DUE_TO_OTHER_REASONS||c===s.d.REJOINING_FAILED_DUE_TO_OTHER_REASONS));var c}},948:function(e,t,n){"use strict";n.d(t,"a",(function(){return W})),n.d(t,"c",(function(){return h.h})),n.d(t,"d",(function(){return h.i})),n.d(t,"b",(function(){return h.g})),n.d(t,"e",(function(){return h.m}));var a=n(391),o=n(384),r=n.n(o),i=n(385),c=n(389),s=n(395),l=n(388),d=n(82),u=n.n(d),p=n(740),b=n.n(p),f=n(444),h=n(577),g=n(961),y=n(962),O=n(400),m=n(835),v=n(398),j=n(417),I=n(419),E=n(392),C=n(196),S=n.n(C),T=n(424),_=n(657),x=n(425),A=n(403);var R=n(406),N=n(436),w=n(396),L=n(450);const D=e=>Object(L.g)(Object(w.b)(e));var M=n(387),P=n(420),k=n(451),U=n(394),F=n(519);const B=e=>Object(L.g)(Object(w.b)(e)),G=e=>Object(L.f)(Object(w.b)(e)),V=e=>Object(w.d)(e),z=e=>e?Math.ceil(e.clientWidth):0;var W=r.a.memo(Object(l.h)((e=>{const t=Object(o.useRef)(null),n=Object(O.a)(),r=Object(s.b)(),l=Object(E.a)(),d=Object(o.useRef)(),p=Object(o.useRef)(),C=Object(j.a)()(A.a.getTriggerConfig(n),"label");(()=>{const e=Object(v.a)(R.h),t=Object(T.a)(),n=x.a.getNoDisplayConfigFilter(t),{hasPassed:a}=Object(_.a)(n,{defaultValue:!1,logOnSuccess:!0}),r=Object(c.d)(D);Object(o.useEffect)((()=>{!u()(n)&&r&&(a&&Object(N.a)("Sprinklr Chat hidden by display criteria"),e({value:a}))}),[n,r,a])})();const[L,W]=Object(o.useState)(!0),[$,H]=Object(o.useState)(C),[K,q]=Object(o.useState)(!1),[Y,X]=Object(o.useState)(!1),[Z,J]=Object(o.useState)(!1),[Q,ee]=Object(o.useState)(0),te=Object(c.d)(w.b),ne=Object(c.d)(B),ae=Object(c.d)(G),oe=Object(c.d)(V),re=Object(v.a)(R.g),ie=Object(v.a)(R.c),ce=Object(I.a)(),se=A.a.getAnimationInfoOfTrigger(n),{showChatTriggerAnimation:le}=(()=>{const[e,t]=Object(o.useState)(!1),n=Object(T.a)(),a=x.a.getTriggerAnimationConfigFilter(n),{hasPassed:r}=Object(_.a)(a,{defaultValue:!1,logOnSuccess:!0}),i=A.a.getAnimationInfoOfTrigger(x.a.getCustomizationConfig(n)),c=S()(i,"effect");return Object(o.useEffect)((()=>{!u()(a)&&c&&t(r)}),[a,c,r]),{showChatTriggerAnimation:e}})(),de=b()(ae),ue=b()(Z),pe=b()($);Object(o.useEffect)((()=>{(de||!ue)&&!(ae||!Z)&&ce({action:F.a.TRIGGER_VISIBLE})}),[Z,ue,ae,de,ce]),Object(o.useEffect)((()=>(Z&&!l&&(d.current=window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{X(!0)}))}))),()=>{d.current&&window.cancelAnimationFrame(d.current)})),[Z,l]),Object(o.useEffect)((()=>{const e=l?"":C;pe!==e&&H(e)}),[l,C,pe]);const be=e.intl.formatMessage,fe=A.a.canTriggerBeManuallyRemoved(n)&&ne&&u()(oe),he=Object(o.useMemo)((()=>Object(M.f)("trigger.icon.type")({theme:r})),[r]),ge=Object(o.useMemo)((()=>Object(M.f)("trigger.closeIcon.type")({theme:r})),[r]),ye=Object(m.a)(),Oe=Object(o.useCallback)((()=>{re(!ne)}),[ne,re]),me=Object(o.useCallback)((()=>{K&&(J(!0),ee(z(p.current))),ye(t)}),[K,ye]),ve=Object(o.useCallback)((()=>{ee(z(p.current))}),[]),je=Object(o.useCallback)((e=>{q(e),J(e),ee(z(p.current))}),[]),Ie=Object(o.useCallback)((e=>{W(e)}),[]);return ae||l&&!ne?null:Object(i.jsx)(h.e,{enableTriggerHideIcon:fe,applyRemoveIconStyles:L,"data-testid":"triggerContainer"},Object(i.jsx)(h.f,{showTrigger:Z,showLabel:ne&&!!$,css:le?Object(h.l)({triggerAnimationInfo:se,theme:r}):"",labelWidth:Q,enableTriggerWidthTransition:Y,theme:r,className:"spr-chat__trigger-box spr-live-chat-frame"},Object(i.jsx)(g.a,null,(e=>{let{ChatTriggerPage:n}=e;return Object(i.jsx)(h.a,{"aria-label":be(P.a.liveChat),name:"spr-chat__trigger-frame",contentDidMount:me},Object(i.jsx)(i.Global,{styles:Object(h.k)(r,{isMinimized:ne})}),Object(i.jsx)("div",{className:"full-height full-width",ref:t},Object(i.jsx)(f.FrameContextConsumer,null,(e=>{let{window:t}=e;return Object(i.jsx)(y.a,{window:t,onResize:ve,resizeRefs:p},(e=>Object(i.jsx)(n,Object(a.a)({},te,{triggerIconName:he,closeIconName:ge,label:$,innerLabelRef:e,onClick:Oe,onLoad:je,toggleRemoveIconVisibility:Ie}))))}))))}))),fe&&Object(i.jsx)(h.c,{onClick:ie},Object(i.jsx)(h.d,null,Object(i.jsx)(h.b,{alt:k.a,name:U.a.CLOSE}))))})))},961:function(e,t,n){"use strict";var a=n(384),o=n(386);const r=Object(o.a)("div",{target:"e1ippspd0"})({name:"1enwibq",styles:"position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;"});var i=n(416),c=n(1026),s=n(12),l=n(385);t.a=e=>{const t=Object(c.a)(),[o,d]=Object(a.useState)();Object(a.useEffect)((()=>{n(1027)(`./${t.toLowerCase()}/pages`).then((e=>{d(e)}))}),[]);let u=null;return Object(s.K)()&&!o&&(u=Object(l.jsx)(i.c,{className:"flex-row-container center-x-y full-height"})),o&&(u=e.children(o)),Object(l.jsx)(r,{className:e.className},u)}},962:function(e,t,n){"use strict";var a=n(384),o=n.n(a),r=n(512),i=n.n(r),c=n(836),s=n(464),l=n(385);var d=e=>{const t=Object(c.a)(e.window,e.onResize),n=Object(a.useMemo)((()=>[...i()(e.resizeRefs||[]),t]),[t,e.resizeRefs]),r=Object(s.a)(...n);return Object(l.jsx)(o.a.Fragment,null,e.children(r))};t.a=d},963:function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return m}));var a=n(123),o=n.n(a),r=n(1456),i=n.n(r),c=n(23),s=n.n(c),l=n(82),d=n.n(l),u=n(518),p=n.n(u);function b(e){const t=function(e){let{url:t,data:n,method:a="GET",contentType:r}=e;const c=p()(),l=document.createElement("form"),{body:u}=document;if(l.setAttribute("id",`spr-chat-download-form-${c}`),l.setAttribute("target","_top"),l.setAttribute("action",t),l.setAttribute("method",a),l.style.display="none",r&&(l.enctype=r),!d()(n)){let e="";o()(n,((t,n)=>{e+=`<input type="hidden" id="${n}" name="${n}" value=${s()(t)?`'${i()(JSON.stringify(t))}'`:`"${i()(t)}"`} />`})),l.innerHTML=e}return u.appendChild(l),l}(e);t.submit(),setTimeout((()=>{var e;(e=t)&&e.parentNode&&e.parentNode.removeChild(e)}),3e4)}var f=n(15),h=n(511),g=n(125),y=n(454);async function O(e){const t=await Object(h.a)(g.a.getAppId(Object(f.a)()));b({url:"https://prod-video-chat-chat.sprinklr.com/api/livechat/conversation/downloadChatTranscript",data:{timeZone:Object(y.f)(),"x-chat-token":t,conversationId:e}})}async function m(e){const t=await Object(h.a)(g.a.getAppId(Object(f.a)()));b({url:"https://prod-video-chat-chat.sprinklr.com/api/livechat/conversation/downloadAttachment",data:{timeZone:Object(y.f)(),"x-chat-token":t,...e}})}},988:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={ALL_SYSTEMS_OPERATIONAL:"ALL_SYSTEMS_OPERATIONAL",SERVICE_UNDER_MAINTENANCE:"SERVICE_UNDER_MAINTENANCE",PARTIALLY_DEGRADED_SERVICE:"PARTIALLY_DEGRADED_SERVICE",DEGRADED_SYSTEM_SERVICE:"DEGRADED_SYSTEM_SERVICE",MINOR_SYSTEM_OUTAGE:"MINOR_SYSTEM_OUTAGE",PARTIAL_SYSTEM_OUTAGE:"PARTIAL_SYSTEM_OUTAGE",MAJOR_SYSTEM_OUTAGE:"MAJOR_SYSTEM_OUTAGE"}},989:function(e,t,n){var a=n(667);e.exports=function(e,t){for(var n=e.length;n--&&a(t,e[n],0)>-1;);return n}}}]);